(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var fd={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function w1(){if(J_)return ul;J_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:h}}return ul.Fragment=t,ul.jsx=i,ul.jsxs=i,ul}var ty;function C1(){return ty||(ty=1,fd.exports=w1()),fd.exports}var le=C1(),dd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function M1(){if(ey)return At;ey=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function D(w){return w===null||typeof w!="object"?null:(w=M&&w[M]||w["@@iterator"],typeof w=="function"?w:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,tt={};function Z(w,W,nt){this.props=w,this.context=W,this.refs=tt,this.updater=nt||F}Z.prototype.isReactComponent={},Z.prototype.setState=function(w,W){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,W,"setState")},Z.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function gt(){}gt.prototype=Z.prototype;function lt(w,W,nt){this.props=w,this.context=W,this.refs=tt,this.updater=nt||F}var at=lt.prototype=new gt;at.constructor=lt,H(at,Z.prototype),at.isPureReactComponent=!0;var kt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},jt=Object.prototype.hasOwnProperty;function V(w,W,nt,$,ct,bt){return nt=bt.ref,{$$typeof:a,type:w,key:W,ref:nt!==void 0?nt:null,props:bt}}function S(w,W){return V(w.type,W,void 0,void 0,void 0,w.props)}function I(w){return typeof w=="object"&&w!==null&&w.$$typeof===a}function O(w){var W={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(nt){return W[nt]})}var N=/\/+/g;function U(w,W){return typeof w=="object"&&w!==null&&w.key!=null?O(""+w.key):W.toString(36)}function R(){}function Pe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(R,R):(w.status="pending",w.then(function(W){w.status==="pending"&&(w.status="fulfilled",w.value=W)},function(W){w.status==="pending"&&(w.status="rejected",w.reason=W)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function re(w,W,nt,$,ct){var bt=typeof w;(bt==="undefined"||bt==="boolean")&&(w=null);var yt=!1;if(w===null)yt=!0;else switch(bt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(w.$$typeof){case a:case t:yt=!0;break;case A:return yt=w._init,re(yt(w._payload),W,nt,$,ct)}}if(yt)return ct=ct(w),yt=$===""?"."+U(w,0):$,kt(ct)?(nt="",yt!=null&&(nt=yt.replace(N,"$&/")+"/"),re(ct,W,nt,"",function(jn){return jn})):ct!=null&&(I(ct)&&(ct=S(ct,nt+(ct.key==null||w&&w.key===ct.key?"":(""+ct.key).replace(N,"$&/")+"/")+yt)),W.push(ct)),1;yt=0;var we=$===""?".":$+":";if(kt(w))for(var Xt=0;Xt<w.length;Xt++)$=w[Xt],bt=we+U($,Xt),yt+=re($,W,nt,bt,ct);else if(Xt=D(w),typeof Xt=="function")for(w=Xt.call(w),Xt=0;!($=w.next()).done;)$=$.value,bt=we+U($,Xt++),yt+=re($,W,nt,bt,ct);else if(bt==="object"){if(typeof w.then=="function")return re(Pe(w),W,nt,$,ct);throw W=String(w),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return yt}function G(w,W,nt){if(w==null)return w;var $=[],ct=0;return re(w,$,"","",function(bt){return W.call(nt,bt,ct++)}),$}function et(w){if(w._status===-1){var W=w._result;W=W(),W.then(function(nt){(w._status===0||w._status===-1)&&(w._status=1,w._result=nt)},function(nt){(w._status===0||w._status===-1)&&(w._status=2,w._result=nt)}),w._status===-1&&(w._status=0,w._result=W)}if(w._status===1)return w._result.default;throw w._result}var ut=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function xt(){}return At.Children={map:G,forEach:function(w,W,nt){G(w,function(){W.apply(this,arguments)},nt)},count:function(w){var W=0;return G(w,function(){W++}),W},toArray:function(w){return G(w,function(W){return W})||[]},only:function(w){if(!I(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},At.Component=Z,At.Fragment=i,At.Profiler=l,At.PureComponent=lt,At.StrictMode=s,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,At.__COMPILER_RUNTIME={__proto__:null,c:function(w){return vt.H.useMemoCache(w)}},At.cache=function(w){return function(){return w.apply(null,arguments)}},At.cloneElement=function(w,W,nt){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var $=H({},w.props),ct=w.key,bt=void 0;if(W!=null)for(yt in W.ref!==void 0&&(bt=void 0),W.key!==void 0&&(ct=""+W.key),W)!jt.call(W,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&W.ref===void 0||($[yt]=W[yt]);var yt=arguments.length-2;if(yt===1)$.children=nt;else if(1<yt){for(var we=Array(yt),Xt=0;Xt<yt;Xt++)we[Xt]=arguments[Xt+2];$.children=we}return V(w.type,ct,void 0,void 0,bt,$)},At.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},At.createElement=function(w,W,nt){var $,ct={},bt=null;if(W!=null)for($ in W.key!==void 0&&(bt=""+W.key),W)jt.call(W,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ct[$]=W[$]);var yt=arguments.length-2;if(yt===1)ct.children=nt;else if(1<yt){for(var we=Array(yt),Xt=0;Xt<yt;Xt++)we[Xt]=arguments[Xt+2];ct.children=we}if(w&&w.defaultProps)for($ in yt=w.defaultProps,yt)ct[$]===void 0&&(ct[$]=yt[$]);return V(w,bt,void 0,void 0,null,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(w){return{$$typeof:g,render:w}},At.isValidElement=I,At.lazy=function(w){return{$$typeof:A,_payload:{_status:-1,_result:w},_init:et}},At.memo=function(w,W){return{$$typeof:v,type:w,compare:W===void 0?null:W}},At.startTransition=function(w){var W=vt.T,nt={};vt.T=nt;try{var $=w(),ct=vt.S;ct!==null&&ct(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(xt,ut)}catch(bt){ut(bt)}finally{vt.T=W}},At.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},At.use=function(w){return vt.H.use(w)},At.useActionState=function(w,W,nt){return vt.H.useActionState(w,W,nt)},At.useCallback=function(w,W){return vt.H.useCallback(w,W)},At.useContext=function(w){return vt.H.useContext(w)},At.useDebugValue=function(){},At.useDeferredValue=function(w,W){return vt.H.useDeferredValue(w,W)},At.useEffect=function(w,W,nt){var $=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(w,W)},At.useId=function(){return vt.H.useId()},At.useImperativeHandle=function(w,W,nt){return vt.H.useImperativeHandle(w,W,nt)},At.useInsertionEffect=function(w,W){return vt.H.useInsertionEffect(w,W)},At.useLayoutEffect=function(w,W){return vt.H.useLayoutEffect(w,W)},At.useMemo=function(w,W){return vt.H.useMemo(w,W)},At.useOptimistic=function(w,W){return vt.H.useOptimistic(w,W)},At.useReducer=function(w,W,nt){return vt.H.useReducer(w,W,nt)},At.useRef=function(w){return vt.H.useRef(w)},At.useState=function(w){return vt.H.useState(w)},At.useSyncExternalStore=function(w,W,nt){return vt.H.useSyncExternalStore(w,W,nt)},At.useTransition=function(){return vt.H.useTransition()},At.version="19.1.1",At}var ny;function em(){return ny||(ny=1,dd.exports=M1()),dd.exports}var Ss=em(),md={exports:{}},cl={},gd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function O1(){return iy||(iy=1,function(a){function t(G,et){var ut=G.length;G.push(et);t:for(;0<ut;){var xt=ut-1>>>1,w=G[xt];if(0<l(w,et))G[xt]=et,G[ut]=w,ut=xt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var et=G[0],ut=G.pop();if(ut!==et){G[0]=ut;t:for(var xt=0,w=G.length,W=w>>>1;xt<W;){var nt=2*(xt+1)-1,$=G[nt],ct=nt+1,bt=G[ct];if(0>l($,ut))ct<w&&0>l(bt,$)?(G[xt]=bt,G[ct]=ut,xt=ct):(G[xt]=$,G[nt]=ut,xt=nt);else if(ct<w&&0>l(bt,ut))G[xt]=bt,G[ct]=ut,xt=ct;else break t}}return et}function l(G,et){var ut=G.sortIndex-et.sortIndex;return ut!==0?ut:G.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,M=null,D=3,F=!1,H=!1,tt=!1,Z=!1,gt=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function kt(G){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=G)s(v),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(v)}}function vt(G){if(tt=!1,kt(G),!H)if(i(_)!==null)H=!0,jt||(jt=!0,U());else{var et=i(v);et!==null&&re(vt,et.startTime-G)}}var jt=!1,V=-1,S=5,I=-1;function O(){return Z?!0:!(a.unstable_now()-I<S)}function N(){if(Z=!1,jt){var G=a.unstable_now();I=G;var et=!0;try{t:{H=!1,tt&&(tt=!1,lt(V),V=-1),F=!0;var ut=D;try{e:{for(kt(G),M=i(_);M!==null&&!(M.expirationTime>G&&O());){var xt=M.callback;if(typeof xt=="function"){M.callback=null,D=M.priorityLevel;var w=xt(M.expirationTime<=G);if(G=a.unstable_now(),typeof w=="function"){M.callback=w,kt(G),et=!0;break e}M===i(_)&&s(_),kt(G)}else s(_);M=i(_)}if(M!==null)et=!0;else{var W=i(v);W!==null&&re(vt,W.startTime-G),et=!1}}break t}finally{M=null,D=ut,F=!1}et=void 0}}finally{et?U():jt=!1}}}var U;if(typeof at=="function")U=function(){at(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Pe=R.port2;R.port1.onmessage=N,U=function(){Pe.postMessage(null)}}else U=function(){gt(N,0)};function re(G,et){V=gt(function(){G(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(G){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ut=D;D=et;try{return G()}finally{D=ut}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=D;D=G;try{return et()}finally{D=ut}},a.unstable_scheduleCallback=function(G,et,ut){var xt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?xt+ut:xt):ut=xt,G){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ut+w,G={id:A++,callback:et,priorityLevel:G,startTime:ut,expirationTime:w,sortIndex:-1},ut>xt?(G.sortIndex=ut,t(v,G),i(_)===null&&G===i(v)&&(tt?(lt(V),V=-1):tt=!0,re(vt,ut-xt))):(G.sortIndex=w,t(_,G),H||F||(H=!0,jt||(jt=!0,U()))),G},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(G){var et=D;return function(){var ut=D;D=et;try{return G.apply(this,arguments)}finally{D=ut}}}}(pd)),pd}var ry;function D1(){return ry||(ry=1,gd.exports=O1()),gd.exports}var _d={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function N1(){if(sy)return Fe;sy=1;var a=em();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(_,v,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:M==null?null:""+M,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,A)},Fe.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},Fe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Fe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Fe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,M=g(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:D,fetchPriority:F}):A==="script"&&s.d.X(_,{crossOrigin:M,integrity:D,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Fe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,M=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Fe.requestFormReset=function(_){s.d.r(_)},Fe.unstable_batchedUpdates=function(_,v){return _(v)},Fe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var ay;function V1(){if(ay)return _d.exports;ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),_d.exports=N1(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function P1(){if(oy)return cl;oy=1;var a=D1(),t=em(),i=V1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=c,o=f;else{for(var y=!1,T=c.child;T;){if(T===r){y=!0,r=c,o=f;break}if(T===o){y=!0,o=c,r=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===r){y=!0,r=f,o=c;break}if(T===o){y=!0,o=f,r=c;break}T=T.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),gt=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),at=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case vt:return"Suspense";case jt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case at:return(e.displayName||"Context")+".Provider";case lt:return(e._context.displayName||"Context")+".Consumer";case kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Pe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Pe(e(n))}catch{}}return null}var re=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},xt=[],w=-1;function W(e){return{current:e}}function nt(e){0>w||(e.current=xt[w],xt[w]=null,w--)}function $(e,n){w++,xt[w]=e.current,e.current=n}var ct=W(null),bt=W(null),yt=W(null),we=W(null);function Xt(e,n){switch($(yt,n),$(bt,e),$(ct,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?w_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=w_(n),e=C_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ct),$(ct,e)}function jn(){nt(ct),nt(bt),nt(yt)}function Qi(e){e.memoizedState!==null&&$(we,e);var n=ct.current,r=C_(n,e.type);n!==r&&($(bt,e),$(ct,r))}function fi(e){bt.current===e&&(nt(ct),nt(bt)),we.current===e&&(nt(we),rl._currentValue=ut)}var zr=Object.prototype.hasOwnProperty,Br=a.unstable_scheduleCallback,Gr=a.unstable_cancelCallback,to=a.unstable_shouldYield,Bl=a.unstable_requestPaint,gn=a.unstable_now,hh=a.unstable_getCurrentPriorityLevel,eo=a.unstable_ImmediatePriority,Ls=a.unstable_UserBlockingPriority,qr=a.unstable_NormalPriority,fh=a.unstable_LowPriority,js=a.unstable_IdlePriority,no=a.log,Gl=a.unstable_setDisableYieldValue,se=null,Gt=null;function sn(e){if(typeof no=="function"&&Gl(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(se,e)}catch{}}var qe=Math.clz32?Math.clz32:Hr,ql=Math.log,dh=Math.LN2;function Hr(e){return e>>>=0,e===0?32:31-(ql(e)/dh|0)|0}var Fr=256,Qr=4194304;function On(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zs(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?c=On(o):(y&=T,y!==0?c=On(y):r||(r=T&~e,r!==0&&(c=On(r))))):(T=o&~f,T!==0?c=On(T):y!==0?c=On(y):r||(r=o&~e,r!==0&&(c=On(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Kr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function io(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var e=Fr;return Fr<<=1,(Fr&4194048)===0&&(Fr=256),e}function so(){var e=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),e}function di(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function mi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ao(e,n,r,o,c,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(r=y&~r;0<r;){var q=31-qe(r),K=1<<q;T[q]=0,b[q]=-1;var j=L[q];if(j!==null)for(L[q]=null,q=0;q<j.length;q++){var z=j[q];z!==null&&(z.lane&=-536870913)}r&=~K}o!==0&&zn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function zn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function oo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-qe(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function Hl(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,de="__reactProps$"+te,pn="__reactContainer$"+te,lo="__reactEvents$"+te,mh="__reactListeners$"+te,Wi="__reactHandles$"+te,Fl="__reactResources$"+te,Yr="__reactMarker$"+te;function Xi(e){delete e[ve],delete e[de],delete e[lo],delete e[mh],delete e[Wi]}function gi(e){var n=e[ve];if(n)return n;for(var r=e.parentNode;r;){if(n=r[pn]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=N_(e);e!==null;){if(r=e[ve])return r;e=N_(e)}return n}e=r,r=e.parentNode}return null}function Bn(e){if(e=e[ve]||e[pn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Xe(e){var n=e[Fl];return n||(n=e[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(e){e[Yr]=!0}var uo=new Set,Gs={};function Dn(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(Gs[e]=n,e=0;e<n.length;e++)uo.add(n[e])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},Wr={};function Yl(e){return zr.call(Wr,e)?!0:zr.call(Kl,e)?!1:Ql.test(e)?Wr[e]=!0:(Kl[e]=!0,!1)}function Zi(e,n,r){if(Yl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function qn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ue(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Xr,Wl;function _i(e){if(Xr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",Wl=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+Wl}var qs=!1;function Hs(e,n){if(!e||qs)return"";qs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(z){var j=z}Reflect.construct(e,[],K)}else{try{K.call()}catch(z){j=z}e.call(K.prototype)}}else{try{throw Error()}catch(z){j=z}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(z){if(z&&j&&typeof z.stack=="string")return[z.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var b=y.split(`
`),L=T.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===L.length)for(o=b.length-1,c=L.length-1;1<=o&&0<=c&&b[o]!==L[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==L[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==L[c]){var q=`
`+b[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=c);break}}}finally{qs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?_i(r):""}function co(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Hs(e.type,!1);case 11:return Hs(e.type.render,!1);case 1:return Hs(e.type,!0);case 31:return _i("Activity");default:return""}}function Fs(e){try{var n="";do n+=co(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ho(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gh(e){var n=ho(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qs(e){e._valueTracker||(e._valueTracker=gh(e))}function fo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ho(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ph=/[\n"\\]/g;function me(e){return e.replace(ph,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(e,n,r,o,c,f,y,T){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?$i(e,y,Ze(n)):r!=null?$i(e,y,Ze(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ze(T):e.removeAttribute("name")}function $r(e,n,r,o,c,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function $i(e,n,r){n==="number"&&Zr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function yi(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ft(e,n,r){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ze(r):""}function Jr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ze(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function _n(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ts.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function mo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&Xl(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Xl(e,f,n[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return yh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vi=null;function yn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ei=null;function po(e){var n=Bn(e);if(n&&(e=n.stateNode)){var r=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(an(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[de]||null;if(!c)throw Error(s(90));an(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&fo(o)}break t;case"textarea":Ft(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&yi(e,!!r.multiple,n,!1)}}}var Hn=!1;function Zl(e,n,r){if(Hn)return e(n,r);Hn=!0;try{var o=e(n);return o}finally{if(Hn=!1,(Ti!==null||Ei!==null)&&(Hu(),Ti&&(n=Ti,e=Ei,Ei=Ti=null,po(n),e)))for(n=0;n<e.length;n++)po(e[n])}}function es(e,n){var r=e.stateNode;if(r===null)return null;var o=r[de]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{vn=!1}var Fn=null,Ji=null,Ai=null;function _o(){if(Ai)return Ai;var e,n=Ji,r=n.length,o,c="value"in Fn?Fn.value:Fn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var y=r-e;for(o=1;o<=y&&n[r-o]===c[f-o];o++);return Ai=c.slice(e,1<o?1-o:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function yo(){return!1}function Ce(e){function n(r,o,c,f,y){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:yo,this.isPropagationStopped=yo,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Ce(zt),is=A({},zt,{view:0,detail:0}),$l=Ce(is),Ws,Xs,Yn,rs=A({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Ws=e.screenX-Yn.screenX,Xs=e.screenY-Yn.screenY):Xs=Ws=0,Yn=e),Ws)},movementY:function(e){return"movementY"in e?e.movementY:Xs}}),Tn=Ce(rs),Jl=A({},rs,{dataTransfer:0}),vh=Ce(Jl),ss=A({},is,{relatedTarget:0}),Zs=Ce(ss),vo=A({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=Ce(vo),tu=A({},zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Js=Ce(tu),Th=A({},zt,{data:0}),To=Ce(Th),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=nu[e])?!!n[e]:!1}function os(){return Eo}var iu=A({},is,{key:function(e){if(e.key){var n=as[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ta=Ce(iu),ru=A({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ce(ru),Si=A({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),su=Ce(Si),au=A({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=Ce(au),lu=A({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=Ce(lu),$e=A({},zt,{newState:0,oldState:0}),uu=Ce($e),cu=[9,13,27,32],Wn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,p=Nn&&(!Wn||u&&8<u&&11>=u),E=" ",k=!1;function B(e,n){switch(e){case"keyup":return cu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dt=!1;function Te(e,n){switch(e){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(k=!0,E);case"textInput":return e=n.data,e===E&&k?null:e;default:return null}}function Nt(e,n){if(Dt)return e==="compositionend"||!Wn&&B(e,n)?(e=_o(),Ai=Ji=Fn=null,Dt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Me[e.type]:n==="textarea"}function bi(e,n,r,o){Ti?Ei?Ei.push(o):Ei=[o]:Ti=o,n=Xu(n,"onChange"),0<n.length&&(r=new Ys("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var ke=null,Xn=null;function So(e){A_(e,0)}function hu(e){var n=Gn(e);if(fo(n))return e}function qm(e,n){if(e==="change")return n}var Hm=!1;if(Nn){var Eh;if(Nn){var Ah="oninput"in document;if(!Ah){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),Ah=typeof Fm.oninput=="function"}Eh=Ah}else Eh=!1;Hm=Eh&&(!document.documentMode||9<document.documentMode)}function Qm(){ke&&(ke.detachEvent("onpropertychange",Km),Xn=ke=null)}function Km(e){if(e.propertyName==="value"&&hu(Xn)){var n=[];bi(n,Xn,e,yn(e)),Zl(So,n)}}function iE(e,n,r){e==="focusin"?(Qm(),ke=n,Xn=r,ke.attachEvent("onpropertychange",Km)):e==="focusout"&&Qm()}function rE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(Xn)}function sE(e,n){if(e==="click")return hu(n)}function aE(e,n){if(e==="input"||e==="change")return hu(n)}function oE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:oE;function bo(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!zr.call(n,c)||!on(e[c],n[c]))return!1}return!0}function Ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,n){var r=Ym(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ym(r)}}function Xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Zr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Zr(e.document)}return n}function Sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var lE=Nn&&"documentMode"in document&&11>=document.documentMode,na=null,bh=null,Ro=null,Rh=!1;function $m(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rh||na==null||na!==Zr(o)||(o=na,"selectionStart"in o&&Sh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ro&&bo(Ro,o)||(Ro=o,o=Xu(bh,"onSelect"),0<o.length&&(n=new Ys("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=na)))}function ls(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ia={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},Ih={},Jm={};Nn&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function us(e){if(Ih[e])return Ih[e];if(!ia[e])return e;var n=ia[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Jm)return Ih[e]=n[r];return e}var tg=us("animationend"),eg=us("animationiteration"),ng=us("animationstart"),uE=us("transitionrun"),cE=us("transitionstart"),hE=us("transitioncancel"),ig=us("transitionend"),rg=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function Vn(e,n){rg.set(e,n),Dn(n,[e])}var sg=new WeakMap;function En(e,n){if(typeof e=="object"&&e!==null){var r=sg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Fs(n)},sg.set(e,n),n)}return{value:e,source:n,stack:Fs(n)}}var An=[],ra=0,Ch=0;function fu(){for(var e=ra,n=Ch=ra=0;n<e;){var r=An[n];An[n++]=null;var o=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}f!==0&&ag(r,c,f)}}function du(e,n,r,o){An[ra++]=e,An[ra++]=n,An[ra++]=r,An[ra++]=o,Ch|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,r,o){return du(e,n,r,o),mu(e)}function sa(e,n){return du(e,null,null,n),mu(e)}function ag(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-qe(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function mu(e){if(50<Xo)throw Xo=0,kf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var aa={};function fE(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,n,r,o){return new fE(e,n,r,o)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ri(e,n){var r=e.alternate;return r===null?(r=ln(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function og(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function gu(e,n,r,o,c,f){var y=0;if(o=e,typeof e=="function")Oh(e)&&(y=1);else if(typeof e=="string")y=m1(e,r,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=ln(31,r,n,c),e.elementType=I,e.lanes=f,e;case H:return cs(r.children,c,f,n);case tt:y=8,c|=24;break;case Z:return e=ln(12,r,n,c|2),e.elementType=Z,e.lanes=f,e;case vt:return e=ln(13,r,n,c),e.elementType=vt,e.lanes=f,e;case jt:return e=ln(19,r,n,c),e.elementType=jt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:case at:y=10;break t;case lt:y=9;break t;case kt:y=11;break t;case V:y=14;break t;case S:y=16,o=null;break t}y=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=ln(y,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function cs(e,n,r,o){return e=ln(7,e,o,n),e.lanes=r,e}function Dh(e,n,r){return e=ln(6,e,null,n),e.lanes=r,e}function Nh(e,n,r){return n=ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var oa=[],la=0,pu=null,_u=0,Sn=[],bn=0,hs=null,Ii=1,wi="";function fs(e,n){oa[la++]=_u,oa[la++]=pu,pu=e,_u=n}function lg(e,n,r){Sn[bn++]=Ii,Sn[bn++]=wi,Sn[bn++]=hs,hs=e;var o=Ii;e=wi;var c=32-qe(o)-1;o&=~(1<<c),r+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(o&(1<<y)-1).toString(32),o>>=y,c-=y,Ii=1<<32-qe(n)+c|r<<c|o,wi=f+e}else Ii=1<<f|r<<c|o,wi=e}function Vh(e){e.return!==null&&(fs(e,1),lg(e,1,0))}function Ph(e){for(;e===pu;)pu=oa[--la],oa[la]=null,_u=oa[--la],oa[la]=null;for(;e===hs;)hs=Sn[--bn],Sn[bn]=null,wi=Sn[--bn],Sn[bn]=null,Ii=Sn[--bn],Sn[bn]=null}var Je=null,ae=null,Lt=!1,ds=null,Zn=!1,Uh=Error(s(519));function ms(e){var n=Error(s(418,""));throw Co(En(n,e)),Uh}function ug(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ve]=e,n[de]=o,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(r=0;r<$o.length;r++)wt($o[r],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),$r(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Qs(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Jr(n,o.value,o.defaultValue,o.children),Qs(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||I_(n.textContent,r)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=Zu),n=!0):n=!1,n||ms(e)}function cg(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Je=Je.return}}function Io(e){if(e!==Je)return!1;if(!Lt)return cg(e),Lt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||$f(e.type,e.memoizedProps)),r=!r),r&&ae&&ms(e),cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){ae=Un(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}ae=null}}else n===27?(n=ae,gr(e.type)?(e=nd,nd=null,ae=e):ae=n):ae=Je?Un(e.stateNode.nextSibling):null;return!0}function wo(){ae=Je=null,Lt=!1}function hg(){var e=ds;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),ds=null),e}function Co(e){ds===null?ds=[e]:ds.push(e)}var kh=W(null),gs=null,Ci=null;function tr(e,n,r){$(kh,n._currentValue),n._currentValue=r}function Mi(e){e._currentValue=kh.current,nt(kh)}function xh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Lh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var b=0;b<n.length;b++)if(T.context===n[b]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),xh(f.return,r,e),o||(y=null);break t}f=T.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),xh(y,r,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Mo(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var T=c.type;on(c.pendingProps.value,y.value)||(e!==null?e.push(T):e=[T])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}c=c.return}e!==null&&Lh(n,e,r,o),n.flags|=262144}function yu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ps(e){gs=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return fg(gs,e)}function vu(e,n){return gs===null&&ps(e),fg(e,n)}function fg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ci===null){if(e===null)throw Error(s(308));Ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ci=Ci.next=n;return r}var dE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},mE=a.unstable_scheduleCallback,gE=a.unstable_NormalPriority,Ae={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new dE,data:new Map,refCount:0}}function Oo(e){e.refCount--,e.refCount===0&&mE(gE,function(){e.controller.abort()})}var Do=null,zh=0,ua=0,ca=null;function pE(e,n){if(Do===null){var r=Do=[];zh=0,ua=qf(),ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return zh++,n.then(dg,dg),n}function dg(){if(--zh===0&&Do!==null){ca!==null&&(ca.status="fulfilled");var e=Do;Do=null,ua=0,ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _E(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var mg=G.S;G.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&pE(e,n),mg!==null&&mg(e,n)};var _s=W(null);function Bh(){var e=_s.current;return e!==null?e:Zt.pooledCache}function Tu(e,n){n===null?$(_s,_s.current):$(_s,n.pool)}function gg(){var e=Bh();return e===null?null:{parent:Ae._currentValue,pool:e}}var No=Error(s(460)),pg=Error(s(474)),Eu=Error(s(542)),Gh={then:function(){}};function _g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Au(){}function yg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Au,Au),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tg(e),e;default:if(typeof n.status=="string")n.then(Au,Au);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tg(e),e}throw Vo=n,No}}var Vo=null;function vg(){if(Vo===null)throw Error(s(459));var e=Vo;return Vo=null,e}function Tg(e){if(e===No||e===Eu)throw Error(s(483))}var er=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ir(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=mu(e),ag(e,null,r),n}return du(e,o,n,r),mu(e)}function Po(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,oo(e,r)}}function Fh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Qh=!1;function Uo(){if(Qh){var e=ca;if(e!==null)throw e}}function ko(e,n,r,o){Qh=!1;var c=e.updateQueue;er=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var b=T,L=b.next;b.next=null,y===null?f=L:y.next=L,y=b;var q=e.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==y&&(T===null?q.firstBaseUpdate=L:T.next=L,q.lastBaseUpdate=b))}if(f!==null){var K=c.baseState;y=0,q=L=b=null,T=f;do{var j=T.lane&-536870913,z=j!==T.lane;if(z?(Vt&j)===j:(o&j)===j){j!==0&&j===ua&&(Qh=!0),q!==null&&(q=q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var pt=e,ft=T;j=n;var Yt=r;switch(ft.tag){case 1:if(pt=ft.payload,typeof pt=="function"){K=pt.call(Yt,K,j);break t}K=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ft.payload,j=typeof pt=="function"?pt.call(Yt,K,j):pt,j==null)break t;K=A({},K,j);break t;case 2:er=!0}}j=T.callback,j!==null&&(e.flags|=64,z&&(e.flags|=8192),z=c.callbacks,z===null?c.callbacks=[j]:z.push(j))}else z={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(L=q=z,b=K):q=q.next=z,y|=j;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;z=T,T=z.next,z.next=null,c.lastBaseUpdate=z,c.shared.pending=null}}while(!0);q===null&&(b=K),c.baseState=b,c.firstBaseUpdate=L,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),hr|=y,e.lanes=y,e.memoizedState=K}}function Eg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ag(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Eg(r[e],n)}var ha=W(null),Su=W(0);function Sg(e,n){e=ki,$(Su,e),$(ha,n),ki=e|n.baseLanes}function Kh(){$(Su,ki),$(ha,ha.current)}function Yh(){ki=Su.current,nt(ha),nt(Su)}var rr=0,St=null,Qt=null,ge=null,bu=!1,fa=!1,ys=!1,Ru=0,xo=0,da=null,yE=0;function ce(){throw Error(s(321))}function Wh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!on(e[r],n[r]))return!1;return!0}function Xh(e,n,r,o,c,f){return rr=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?ap:op,ys=!1,f=r(o,c),ys=!1,fa&&(f=Rg(n,r,o,c)),bg(e),f}function bg(e){G.H=Du;var n=Qt!==null&&Qt.next!==null;if(rr=0,ge=Qt=St=null,bu=!1,xo=0,da=null,n)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&yu(e)&&(Oe=!0))}function Rg(e,n,r,o){St=e;var c=0;do{if(fa&&(da=null),xo=0,fa=!1,25<=c)throw Error(s(301));if(c+=1,ge=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=RE,f=n(r,o)}while(fa);return f}function vE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Lo(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(St.flags|=1024),n}function Zh(){var e=Ru!==0;return Ru=0,e}function $h(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Jh(e){if(bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bu=!1}rr=0,ge=Qt=St=null,fa=!1,xo=Ru=0,da=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Qt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=ge===null?St.memoizedState:ge.next;if(n!==null)ge=n,Qt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?St.memoizedState=ge=e:ge=ge.next=e}return ge}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(e){var n=xo;return xo+=1,da===null&&(da=[]),e=yg(da,e,n),n=St,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ap:op),e}function Iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lo(e);if(e.$$typeof===at)return He(e)}throw Error(s(438,String(e)))}function ef(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=tf(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function Oi(e,n){return typeof n=="function"?n(e):n}function wu(e){var n=pe();return nf(n,Qt,e)}function nf(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var T=y=null,b=null,L=n,q=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Vt&K)===K:(rr&K)===K){var j=L.revertLane;if(j===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===ua&&(q=!0);else if((rr&j)===j){L=L.next,j===ua&&(q=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(T=b=K,y=f):b=b.next=K,St.lanes|=j,hr|=j;K=L.action,ys&&r(f,K),f=L.hasEagerState?L.eagerState:r(f,K)}else j={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(T=b=j,y=f):b=b.next=j,St.lanes|=K,hr|=K;L=L.next}while(L!==null&&L!==n);if(b===null?y=f:b.next=T,!on(f,e.memoizedState)&&(Oe=!0,q&&(r=ca,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function rf(e){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);on(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Ig(e,n,r){var o=St,c=pe(),f=Lt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!on((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Oe=!0),c=c.queue;var T=Mg.bind(null,o,c,e);if(jo(2048,8,T,[e]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,ma(9,Cu(),Cg.bind(null,o,c,r,n),null),Zt===null)throw Error(s(349));f||(rr&124)!==0||wg(o,n,r)}return r}function wg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=tf(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Cg(e,n,r,o){n.value=r,n.getSnapshot=o,Og(n)&&Dg(e)}function Mg(e,n,r){return r(function(){Og(n)&&Dg(e)})}function Og(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!on(e,r)}catch{return!0}}function Dg(e){var n=sa(e,2);n!==null&&dn(n,e,2)}function sf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),ys){sn(!0);try{r()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n}function Ng(e,n,r,o){return e.baseState=r,nf(e,Qt,typeof o=="function"?o:Oi)}function TE(e,n,r,o,c){if(Ou(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Vg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Vg(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var T=r(c,o),b=G.S;b!==null&&b(y,T),Pg(e,n,T)}catch(L){af(e,n,L)}finally{G.T=f}}else try{f=r(c,o),Pg(e,n,f)}catch(L){af(e,n,L)}}function Pg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ug(e,n,o)},function(o){return af(e,n,o)}):Ug(e,n,r)}function Ug(e,n,r){n.status="fulfilled",n.value=r,kg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Vg(e,r)))}function af(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,kg(n),n=n.next;while(n!==o)}e.action=null}function kg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xg(e,n){return n}function Lg(e,n){if(Lt){var r=Zt.formState;if(r!==null){t:{var o=St;if(Lt){if(ae){e:{for(var c=ae,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Un(c.nextSibling),o=c.data==="F!";break t}}ms(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},r.queue=o,r=ip.bind(null,St,o),o.dispatch=r,o=sf(!1),f=hf.bind(null,St,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=TE.bind(null,St,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function jg(e){var n=pe();return zg(n,Qt,e)}function zg(e,n,r){if(n=nf(e,n,xg)[0],e=wu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Lo(n)}catch(y){throw y===No?Eu:y}else o=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,ma(9,Cu(),EE.bind(null,c,r),null)),[o,f,e]}function EE(e,n){e.action=n}function Bg(e){var n=pe(),r=Qt;if(r!==null)return zg(n,r,e);pe(),n=n.memoizedState,r=pe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ma(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=tf(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Cu(){return{destroy:void 0,resource:void 0}}function Gg(){return pe().memoizedState}function Mu(e,n,r,o){var c=tn();o=o===void 0?null:o,St.flags|=e,c.memoizedState=ma(1|n,Cu(),r,o)}function jo(e,n,r,o){var c=pe();o=o===void 0?null:o;var f=c.memoizedState.inst;Qt!==null&&o!==null&&Wh(o,Qt.memoizedState.deps)?c.memoizedState=ma(n,f,r,o):(St.flags|=e,c.memoizedState=ma(1|n,f,r,o))}function qg(e,n){Mu(8390656,8,e,n)}function Hg(e,n){jo(2048,8,e,n)}function Fg(e,n){return jo(4,2,e,n)}function Qg(e,n){return jo(4,4,e,n)}function Kg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yg(e,n,r){r=r!=null?r.concat([e]):null,jo(4,4,Kg.bind(null,n,e),r)}function of(){}function Wg(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Xg(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=e(),ys){sn(!0);try{e()}finally{sn(!1)}}return r.memoizedState=[o,n],o}function lf(e,n,r){return r===void 0||(rr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Jp(),St.lanes|=e,hr|=e,r)}function Zg(e,n,r,o){return on(r,n)?r:ha.current!==null?(e=lf(e,r,o),on(e,n)||(Oe=!0),e):(rr&42)===0?(Oe=!0,e.memoizedState=r):(e=Jp(),St.lanes|=e,hr|=e,n)}function $g(e,n,r,o,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=G.T,T={};G.T=T,hf(e,!1,n,r);try{var b=c(),L=G.S;if(L!==null&&L(T,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=_E(b,o);zo(e,n,q,fn(e))}else zo(e,n,o,fn(e))}catch(K){zo(e,n,{then:function(){},status:"rejected",reason:K},fn())}finally{et.p=f,G.T=y}}function AE(){}function uf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var c=Jg(e).queue;$g(e,c,n,ut,r===null?AE:function(){return tp(e),r(o)})}function Jg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tp(e){var n=Jg(e).next.queue;zo(e,n,{},fn())}function cf(){return He(rl)}function ep(){return pe().memoizedState}function np(){return pe().memoizedState}function SE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();e=nr(r);var o=ir(n,e,r);o!==null&&(dn(o,n,r),Po(o,n,r)),n={cache:jh()},e.payload=n;return}n=n.return}}function bE(e,n,r){var o=fn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ou(e)?rp(n,r):(r=Mh(e,n,r,o),r!==null&&(dn(r,e,o),sp(r,n,o)))}function ip(e,n,r){var o=fn();zo(e,n,r,o)}function zo(e,n,r,o){var c={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))rp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,r);if(c.hasEagerState=!0,c.eagerState=T,on(T,y))return du(e,n,c,0),Zt===null&&fu(),!1}catch{}finally{}if(r=Mh(e,n,c,o),r!==null)return dn(r,e,o),sp(r,n,o),!0}return!1}function hf(e,n,r,o){if(o={lane:2,revertLane:qf(),action:o,hasEagerState:!1,eagerState:null,next:null},Ou(e)){if(n)throw Error(s(479))}else n=Mh(e,r,o,2),n!==null&&dn(n,e,2)}function Ou(e){var n=e.alternate;return e===St||n!==null&&n===St}function rp(e,n){fa=bu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function sp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,oo(e,r)}}var Du={readContext:He,use:Iu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},ap={readContext:He,use:Iu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:qg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Mu(4194308,4,Kg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(ys){sn(!0);try{e()}finally{sn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var c=r(n);if(ys){sn(!0);try{r(n)}finally{sn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=bE.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=sf(e);var n=e.queue,r=ip.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:of,useDeferredValue:function(e,n){var r=tn();return lf(r,e,n)},useTransition:function(){var e=sf(!1);return e=$g.bind(null,St,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,c=tn();if(Lt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(Vt&124)!==0||wg(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,qg(Mg.bind(null,o,f,e),[e]),o.flags|=2048,ma(9,Cu(),Cg.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=Zt.identifierPrefix;if(Lt){var r=wi,o=Ii;r=(o&~(1<<32-qe(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=Ru++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=yE++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:cf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=hf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:ef,useCacheRefresh:function(){return tn().memoizedState=SE.bind(null,St)}},op={readContext:He,use:Iu,useCallback:Wg,useContext:He,useEffect:Hg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:Xg,useReducer:wu,useRef:Gg,useState:function(){return wu(Oi)},useDebugValue:of,useDeferredValue:function(e,n){var r=pe();return Zg(r,Qt.memoizedState,e,n)},useTransition:function(){var e=wu(Oi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:Ig,useId:ep,useHostTransitionStatus:cf,useFormState:jg,useActionState:jg,useOptimistic:function(e,n){var r=pe();return Ng(r,Qt,e,n)},useMemoCache:ef,useCacheRefresh:np},RE={readContext:He,use:Iu,useCallback:Wg,useContext:He,useEffect:Hg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:Xg,useReducer:rf,useRef:Gg,useState:function(){return rf(Oi)},useDebugValue:of,useDeferredValue:function(e,n){var r=pe();return Qt===null?lf(r,e,n):Zg(r,Qt.memoizedState,e,n)},useTransition:function(){var e=rf(Oi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:Ig,useId:ep,useHostTransitionStatus:cf,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,n){var r=pe();return Qt!==null?Ng(r,Qt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ef,useCacheRefresh:np},ga=null,Bo=0;function Nu(e){var n=Bo;return Bo+=1,ga===null&&(ga=[]),yg(ga,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){var n=e._init;return n(e._payload)}function up(e){function n(P,C){if(e){var x=P.deletions;x===null?(P.deletions=[C],P.flags|=16):x.push(C)}}function r(P,C){if(!e)return null;for(;C!==null;)n(P,C),C=C.sibling;return null}function o(P){for(var C=new Map;P!==null;)P.key!==null?C.set(P.key,P):C.set(P.index,P),P=P.sibling;return C}function c(P,C){return P=Ri(P,C),P.index=0,P.sibling=null,P}function f(P,C,x){return P.index=x,e?(x=P.alternate,x!==null?(x=x.index,x<C?(P.flags|=67108866,C):x):(P.flags|=67108866,C)):(P.flags|=1048576,C)}function y(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,C,x,Q){return C===null||C.tag!==6?(C=Dh(x,P.mode,Q),C.return=P,C):(C=c(C,x),C.return=P,C)}function b(P,C,x,Q){var rt=x.type;return rt===H?q(P,C,x.props.children,Q,x.key):C!==null&&(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&lp(rt)===C.type)?(C=c(C,x.props),Go(C,x),C.return=P,C):(C=gu(x.type,x.key,x.props,null,P.mode,Q),Go(C,x),C.return=P,C)}function L(P,C,x,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=Nh(x,P.mode,Q),C.return=P,C):(C=c(C,x.children||[]),C.return=P,C)}function q(P,C,x,Q,rt){return C===null||C.tag!==7?(C=cs(x,P.mode,Q,rt),C.return=P,C):(C=c(C,x),C.return=P,C)}function K(P,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Dh(""+C,P.mode,x),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case D:return x=gu(C.type,C.key,C.props,null,P.mode,x),Go(x,C),x.return=P,x;case F:return C=Nh(C,P.mode,x),C.return=P,C;case S:var Q=C._init;return C=Q(C._payload),K(P,C,x)}if(re(C)||U(C))return C=cs(C,P.mode,x,null),C.return=P,C;if(typeof C.then=="function")return K(P,Nu(C),x);if(C.$$typeof===at)return K(P,vu(P,C),x);Vu(P,C)}return null}function j(P,C,x,Q){var rt=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return rt!==null?null:T(P,C,""+x,Q);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case D:return x.key===rt?b(P,C,x,Q):null;case F:return x.key===rt?L(P,C,x,Q):null;case S:return rt=x._init,x=rt(x._payload),j(P,C,x,Q)}if(re(x)||U(x))return rt!==null?null:q(P,C,x,Q,null);if(typeof x.then=="function")return j(P,C,Nu(x),Q);if(x.$$typeof===at)return j(P,C,vu(P,x),Q);Vu(P,x)}return null}function z(P,C,x,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(x)||null,T(C,P,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return P=P.get(Q.key===null?x:Q.key)||null,b(C,P,Q,rt);case F:return P=P.get(Q.key===null?x:Q.key)||null,L(C,P,Q,rt);case S:var Rt=Q._init;return Q=Rt(Q._payload),z(P,C,x,Q,rt)}if(re(Q)||U(Q))return P=P.get(x)||null,q(C,P,Q,rt,null);if(typeof Q.then=="function")return z(P,C,x,Nu(Q),rt);if(Q.$$typeof===at)return z(P,C,x,vu(C,Q),rt);Vu(C,Q)}return null}function pt(P,C,x,Q){for(var rt=null,Rt=null,ot=C,dt=C=0,Ne=null;ot!==null&&dt<x.length;dt++){ot.index>dt?(Ne=ot,ot=null):Ne=ot.sibling;var Ut=j(P,ot,x[dt],Q);if(Ut===null){ot===null&&(ot=Ne);break}e&&ot&&Ut.alternate===null&&n(P,ot),C=f(Ut,C,dt),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut,ot=Ne}if(dt===x.length)return r(P,ot),Lt&&fs(P,dt),rt;if(ot===null){for(;dt<x.length;dt++)ot=K(P,x[dt],Q),ot!==null&&(C=f(ot,C,dt),Rt===null?rt=ot:Rt.sibling=ot,Rt=ot);return Lt&&fs(P,dt),rt}for(ot=o(ot);dt<x.length;dt++)Ne=z(ot,P,dt,x[dt],Q),Ne!==null&&(e&&Ne.alternate!==null&&ot.delete(Ne.key===null?dt:Ne.key),C=f(Ne,C,dt),Rt===null?rt=Ne:Rt.sibling=Ne,Rt=Ne);return e&&ot.forEach(function(Tr){return n(P,Tr)}),Lt&&fs(P,dt),rt}function ft(P,C,x,Q){if(x==null)throw Error(s(151));for(var rt=null,Rt=null,ot=C,dt=C=0,Ne=null,Ut=x.next();ot!==null&&!Ut.done;dt++,Ut=x.next()){ot.index>dt?(Ne=ot,ot=null):Ne=ot.sibling;var Tr=j(P,ot,Ut.value,Q);if(Tr===null){ot===null&&(ot=Ne);break}e&&ot&&Tr.alternate===null&&n(P,ot),C=f(Tr,C,dt),Rt===null?rt=Tr:Rt.sibling=Tr,Rt=Tr,ot=Ne}if(Ut.done)return r(P,ot),Lt&&fs(P,dt),rt;if(ot===null){for(;!Ut.done;dt++,Ut=x.next())Ut=K(P,Ut.value,Q),Ut!==null&&(C=f(Ut,C,dt),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return Lt&&fs(P,dt),rt}for(ot=o(ot);!Ut.done;dt++,Ut=x.next())Ut=z(ot,P,dt,Ut.value,Q),Ut!==null&&(e&&Ut.alternate!==null&&ot.delete(Ut.key===null?dt:Ut.key),C=f(Ut,C,dt),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return e&&ot.forEach(function(I1){return n(P,I1)}),Lt&&fs(P,dt),rt}function Yt(P,C,x,Q){if(typeof x=="object"&&x!==null&&x.type===H&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case D:t:{for(var rt=x.key;C!==null;){if(C.key===rt){if(rt=x.type,rt===H){if(C.tag===7){r(P,C.sibling),Q=c(C,x.props.children),Q.return=P,P=Q;break t}}else if(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&lp(rt)===C.type){r(P,C.sibling),Q=c(C,x.props),Go(Q,x),Q.return=P,P=Q;break t}r(P,C);break}else n(P,C);C=C.sibling}x.type===H?(Q=cs(x.props.children,P.mode,Q,x.key),Q.return=P,P=Q):(Q=gu(x.type,x.key,x.props,null,P.mode,Q),Go(Q,x),Q.return=P,P=Q)}return y(P);case F:t:{for(rt=x.key;C!==null;){if(C.key===rt)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){r(P,C.sibling),Q=c(C,x.children||[]),Q.return=P,P=Q;break t}else{r(P,C);break}else n(P,C);C=C.sibling}Q=Nh(x,P.mode,Q),Q.return=P,P=Q}return y(P);case S:return rt=x._init,x=rt(x._payload),Yt(P,C,x,Q)}if(re(x))return pt(P,C,x,Q);if(U(x)){if(rt=U(x),typeof rt!="function")throw Error(s(150));return x=rt.call(x),ft(P,C,x,Q)}if(typeof x.then=="function")return Yt(P,C,Nu(x),Q);if(x.$$typeof===at)return Yt(P,C,vu(P,x),Q);Vu(P,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,C!==null&&C.tag===6?(r(P,C.sibling),Q=c(C,x),Q.return=P,P=Q):(r(P,C),Q=Dh(x,P.mode,Q),Q.return=P,P=Q),y(P)):r(P,C)}return function(P,C,x,Q){try{Bo=0;var rt=Yt(P,C,x,Q);return ga=null,rt}catch(ot){if(ot===No||ot===Eu)throw ot;var Rt=ln(29,ot,null,P.mode);return Rt.lanes=Q,Rt.return=P,Rt}finally{}}}var pa=up(!0),cp=up(!1),Rn=W(null),$n=null;function sr(e){var n=e.alternate;$(Se,Se.current&1),$(Rn,e),$n===null&&(n===null||ha.current!==null||n.memoizedState!==null)&&($n=e)}function hp(e){if(e.tag===22){if($(Se,Se.current),$(Rn,e),$n===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&($n=e)}}else ar()}function ar(){$(Se,Se.current),$(Rn,Rn.current)}function Di(e){nt(Rn),$n===e&&($n=null),nt(Se)}var Se=W(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ed(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ff(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var df={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=fn(),c=nr(o);c.payload=n,r!=null&&(c.callback=r),n=ir(e,c,o),n!==null&&(dn(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=fn(),c=nr(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ir(e,c,o),n!==null&&(dn(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=fn(),o=nr(r);o.tag=2,n!=null&&(o.callback=n),n=ir(e,o,r),n!==null&&(dn(n,e,r),Po(n,e,r))}};function fp(e,n,r,o,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!bo(r,o)||!bo(c,f):!0}function dp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&df.enqueueReplaceState(n,n.state,null)}function vs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mp(e){Uu(e)}function gp(e){console.error(e)}function pp(e){Uu(e)}function ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function _p(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mf(e,n,r){return r=nr(r),r.tag=3,r.payload={element:null},r.callback=function(){ku(e,n)},r}function yp(e){return e=nr(e),e.tag=3,e}function vp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){_p(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){_p(n,r,o),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function IE(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Mo(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return $n===null?Lf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Gh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),zf(e,o,c)),!1;case 22:return r.flags|=65536,o===Gh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),zf(e,o,c)),!1}throw Error(s(435,r.tag))}return zf(e,o,c),Lf(),!1}if(Lt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Uh&&(e=Error(s(422),{cause:o}),Co(En(e,r)))):(o!==Uh&&(n=Error(s(423),{cause:o}),Co(En(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=En(o,r),c=mf(e.stateNode,o,c),Fh(e,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:o});if(f=En(f,r),Wo===null?Wo=[f]:Wo.push(f),oe!==4&&(oe=2),n===null)return!0;o=En(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=mf(r.stateNode,o,e),Fh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=yp(c),vp(c,e,r,o),Fh(r,c),!1}r=r.return}while(r!==null);return!1}var Tp=Error(s(461)),Oe=!1;function xe(e,n,r,o){n.child=e===null?cp(n,null,r,o):pa(n,e.child,r,o)}function Ep(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var T in o)T!=="ref"&&(y[T]=o[T])}else y=o;return ps(n),o=Xh(e,n,r,y,f,c),T=Zh(),e!==null&&!Oe?($h(e,n,c),Ni(e,n,c)):(Lt&&T&&Vh(n),n.flags|=1,xe(e,n,o,c),n.child)}function Ap(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Sp(e,n,f,o,c)):(e=gu(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Af(e,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:bo,r(y,o)&&e.ref===n.ref)return Ni(e,n,c)}return n.flags|=1,e=Ri(f,o),e.ref=n.ref,e.return=n,n.child=e}function Sp(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(bo(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Af(e,c))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Ni(e,n,c)}return gf(e,n,r,o,c)}function bp(e,n,r){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Rp(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(n,f!==null?f.cachePool:null),f!==null?Sg(n,f):Kh(),hp(n);else return n.lanes=n.childLanes=536870912,Rp(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Tu(n,f.cachePool),Sg(n,f),ar(),n.memoizedState=null):(e!==null&&Tu(n,null),Kh(),ar());return xe(e,n,c,r),n.child}function Rp(e,n,r,o){var c=Bh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&Tu(n,null),Kh(),hp(n),e!==null&&Mo(e,n,o,!0),null}function xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function gf(e,n,r,o,c){return ps(n),r=Xh(e,n,r,o,void 0,c),o=Zh(),e!==null&&!Oe?($h(e,n,c),Ni(e,n,c)):(Lt&&o&&Vh(n),n.flags|=1,xe(e,n,r,c),n.child)}function Ip(e,n,r,o,c,f){return ps(n),n.updateQueue=null,r=Rg(n,o,r,c),bg(e),o=Zh(),e!==null&&!Oe?($h(e,n,f),Ni(e,n,f)):(Lt&&o&&Vh(n),n.flags|=1,xe(e,n,r,f),n.child)}function wp(e,n,r,o,c){if(ps(n),n.stateNode===null){var f=aa,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},qh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):aa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(ff(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&df.enqueueReplaceState(f,f.state,null),ko(n,o,f,c),Uo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,b=vs(r,T);f.props=b;var L=f.context,q=r.contextType;y=aa,typeof q=="object"&&q!==null&&(y=He(q));var K=r.getDerivedStateFromProps;q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||L!==y)&&dp(n,f,o,y),er=!1;var j=n.memoizedState;f.state=j,ko(n,o,f,c),Uo(),L=n.memoizedState,T||j!==L||er?(typeof K=="function"&&(ff(n,r,K,o),L=n.memoizedState),(b=er||fp(n,r,b,o,j,L,y))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Hh(e,n),y=n.memoizedProps,q=vs(r,y),f.props=q,K=n.pendingProps,j=f.context,L=r.contextType,b=aa,typeof L=="object"&&L!==null&&(b=He(L)),T=r.getDerivedStateFromProps,(L=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||j!==b)&&dp(n,f,o,b),er=!1,j=n.memoizedState,f.state=j,ko(n,o,f,c),Uo();var z=n.memoizedState;y!==K||j!==z||er||e!==null&&e.dependencies!==null&&yu(e.dependencies)?(typeof T=="function"&&(ff(n,r,T,o),z=n.memoizedState),(q=er||fp(n,r,q,o,j,z,b)||e!==null&&e.dependencies!==null&&yu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,z,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,z,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=b,o=q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=pa(n,e.child,null,c),n.child=pa(n,null,r,c)):xe(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Ni(e,n,c),e}function Cp(e,n,r,o){return wo(),n.flags|=256,xe(e,n,r,o),n.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(e){return{baseLanes:e,cachePool:gg()}}function yf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function Mp(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(c?sr(n):ar(),Lt){var T=ae,b;if(b=T){t:{for(b=T,T=Zn;b.nodeType!==8;){if(!T){T=null;break t}if(b=Un(b.nextSibling),b===null){T=null;break t}}T=b}T!==null?(n.memoizedState={dehydrated:T,treeContext:hs!==null?{id:Ii,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=T,b.return=n,n.child=b,Je=n,ae=null,b=!0):b=!1}b||ms(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return ed(T)?n.lanes=32:n.lanes=536870912,null;Di(n)}return T=o.children,o=o.fallback,c?(ar(),c=n.mode,T=Lu({mode:"hidden",children:T},c),o=cs(o,c,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,c=n.child,c.memoizedState=_f(r),c.childLanes=yf(e,y,r),n.memoizedState=pf,o):(sr(n),vf(n,T))}if(b=e.memoizedState,b!==null&&(T=b.dehydrated,T!==null)){if(f)n.flags&256?(sr(n),n.flags&=-257,n=Tf(e,n,r)):n.memoizedState!==null?(ar(),n.child=e.child,n.flags|=128,n=null):(ar(),c=o.fallback,T=n.mode,o=Lu({mode:"visible",children:o.children},T),c=cs(c,T,r,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,pa(n,e.child,null,r),o=n.child,o.memoizedState=_f(r),o.childLanes=yf(e,y,r),n.memoizedState=pf,n=c);else if(sr(n),ed(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var L=y.dgst;y=L,o=Error(s(419)),o.stack="",o.digest=y,Co({value:o,source:null,stack:null}),n=Tf(e,n,r)}else if(Oe||Mo(e,n,r,!1),y=(r&e.childLanes)!==0,Oe||y){if(y=Zt,y!==null&&(o=r&-r,o=(o&42)!==0?1:Ki(o),o=(o&(y.suspendedLanes|r))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,sa(e,o),dn(y,e,o),Tp;T.data==="$?"||Lf(),n=Tf(e,n,r)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,ae=Un(T.nextSibling),Je=n,Lt=!0,ds=null,Zn=!1,e!==null&&(Sn[bn++]=Ii,Sn[bn++]=wi,Sn[bn++]=hs,Ii=e.id,wi=e.overflow,hs=n),n=vf(n,o.children),n.flags|=4096);return n}return c?(ar(),c=o.fallback,T=n.mode,b=e.child,L=b.sibling,o=Ri(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?c=Ri(L,c):(c=cs(c,T,r,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,T=e.child.memoizedState,T===null?T=_f(r):(b=T.cachePool,b!==null?(L=Ae._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=gg(),T={baseLanes:T.baseLanes|r,cachePool:b}),c.memoizedState=T,c.childLanes=yf(e,y,r),n.memoizedState=pf,o):(sr(n),r=e.child,e=r.sibling,r=Ri(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function vf(e,n){return n=Lu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Lu(e,n){return e=ln(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tf(e,n,r){return pa(n,e.child,null,r),e=vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Op(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),xh(e.return,n,r)}function Ef(e,n,r,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=c)}function Dp(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(xe(e,n,o.children,r),o=Se.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Op(e,r,n);else if(e.tag===19)Op(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch($(Se,o),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Ef(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Pu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Ef(n,!0,r,null,f);break;case"together":Ef(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ni(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Mo(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ri(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ri(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Af(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&yu(e)))}function wE(e,n,r){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),tr(n,Ae,e.memoizedState.cache),wo();break;case 27:case 5:Qi(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:tr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(sr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Mp(e,n,r):(sr(n),e=Ni(e,n,r),e!==null?e.sibling:null);sr(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Mo(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Dp(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Se,Se.current),o)break;return null;case 22:case 23:return n.lanes=0,bp(e,n,r);case 24:tr(n,Ae,e.memoizedState.cache)}return Ni(e,n,r)}function Np(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Af(e,r)&&(n.flags&128)===0)return Oe=!1,wE(e,n,r);Oe=(e.flags&131072)!==0}else Oe=!1,Lt&&(n.flags&1048576)!==0&&lg(n,_u,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Oh(o)?(e=vs(o,e),n.tag=1,n=wp(null,n,o,e,r)):(n.tag=0,n=gf(null,n,o,e,r));else{if(o!=null){if(c=o.$$typeof,c===kt){n.tag=11,n=Ep(null,n,o,e,r);break t}else if(c===V){n.tag=14,n=Ap(null,n,o,e,r);break t}}throw n=Pe(o)||o,Error(s(306,n,""))}}return n;case 0:return gf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=vs(o,n.pendingProps),wp(e,n,o,c,r);case 3:t:{if(Xt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Hh(e,n),ko(n,o,null,r);var y=n.memoizedState;if(o=y.cache,tr(n,Ae,o),o!==f.cache&&Lh(n,[Ae],r,!0),Uo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(e,n,o,r);break t}else if(o!==c){c=En(Error(s(424)),n),Co(c),n=Cp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Un(e.firstChild),Je=n,Lt=!0,ds=null,Zn=!0,r=cp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(wo(),o===c){n=Ni(e,n,r);break t}xe(e,n,o,r)}n=n.child}return n;case 26:return xu(e,n),e===null?(r=k_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,e=n.pendingProps,o=$u(yt.current).createElement(r),o[ve]=n,o[de]=e,je(o,r,e),ue(o),n.stateNode=o):n.memoizedState=k_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qi(n),e===null&&Lt&&(o=n.stateNode=V_(n.type,n.pendingProps,yt.current),Je=n,Zn=!0,c=ae,gr(n.type)?(nd=c,ae=Un(o.firstChild)):ae=c),xe(e,n,n.pendingProps.children,r),xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((c=o=ae)&&(o=e1(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,Je=n,ae=Un(o.firstChild),Zn=!1,c=!0):c=!1),c||ms(n)),Qi(n),c=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,$f(c,f)?o=null:y!==null&&$f(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Xh(e,n,vE,null,null,r),rl._currentValue=c),xu(e,n),xe(e,n,o,r),n.child;case 6:return e===null&&Lt&&((e=r=ae)&&(r=n1(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,Je=n,ae=null,e=!0):e=!1),e||ms(n)),null;case 13:return Mp(e,n,r);case 4:return Xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=pa(n,null,o,r):xe(e,n,o,r),n.child;case 11:return Ep(e,n,n.type,n.pendingProps,r);case 7:return xe(e,n,n.pendingProps,r),n.child;case 8:return xe(e,n,n.pendingProps.children,r),n.child;case 12:return xe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,tr(n,n.type,o.value),xe(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,ps(n),c=He(c),o=o(c),n.flags|=1,xe(e,n,o,r),n.child;case 14:return Ap(e,n,n.type,n.pendingProps,r);case 15:return Sp(e,n,n.type,n.pendingProps,r);case 19:return Dp(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=Lu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ri(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return bp(e,n,r);case 24:return ps(n),o=He(Ae),e===null?(c=Bh(),c===null&&(c=Zt,f=jh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},qh(n),tr(n,Ae,c)):((e.lanes&r)!==0&&(Hh(e,n),ko(n,null,null,r),Uo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),tr(n,Ae,o)):(o=f.cache,tr(n,Ae,o),o!==c.cache&&Lh(n,[Ae],r,!0))),xe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Vi(e){e.flags|=4}function Vp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!B_(n)){if(n=Rn.current,n!==null&&((Vt&4194048)===Vt?$n!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||n!==$n))throw Vo=Gh,pg;e.flags|=8192}}function ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?so():536870912,e.lanes|=n,Ta|=n)}function qo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function CE(e,n,r){var o=n.pendingProps;switch(Ph(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Mi(Ae),jn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Io(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hg())),ne(n),null;case 26:return r=n.memoizedState,e===null?(Vi(n),r!==null?(ne(n),Vp(n,r)):(ne(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Vi(n),ne(n),Vp(n,r)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==o&&Vi(n),ne(n),n.flags&=-16777217),null;case 27:fi(n),r=yt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=ct.current,Io(n)?ug(n):(e=V_(c,o,r),n.stateNode=e,Vi(n))}return ne(n),null;case 5:if(fi(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(e=ct.current,Io(n))ug(n);else{switch(c=$u(yt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(r,{is:o.is}):c.createElement(r)}}e[ve]=n,e[de]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(je(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=yt.current,Io(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=Je,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ve]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||I_(e.nodeValue,r)),e||ms(n)}else e=$u(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Io(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else wo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=hg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),ju(n,n.updateQueue),ne(n),null;case 4:return jn(),e===null&&Kf(n.stateNode.containerInfo),ne(n),null;case 10:return Mi(n.type),ne(n),null;case 19:if(nt(Se),c=n.memoizedState,c===null)return ne(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)qo(c,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,qo(c,!1),e=f.updateQueue,n.updateQueue=e,ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)og(r,e),r=r.sibling;return $(Se,Se.current&1|2),n.child}e=e.sibling}c.tail!==null&&gn()>Gu&&(n.flags|=128,o=!0,qo(c,!1),n.lanes=4194304)}else{if(!o)if(e=Pu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,ju(n,e),qo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return ne(n),null}else 2*gn()-c.renderingStartTime>Gu&&r!==536870912&&(n.flags|=128,o=!0,qo(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,e=Se.current,$(Se,o?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return Di(n),Yh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&nt(_s),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Mi(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function ME(e,n){switch(Ph(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Mi(Ae),jn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 13:if(Di(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));wo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nt(Se),null;case 4:return jn(),null;case 10:return Mi(n.type),null;case 22:case 23:return Di(n),Yh(),e!==null&&nt(_s),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Mi(Ae),null;case 25:return null;default:return null}}function Pp(e,n){switch(Ph(n),n.tag){case 3:Mi(Ae),jn();break;case 26:case 27:case 5:fi(n);break;case 4:jn();break;case 13:Di(n);break;case 19:nt(Se);break;case 10:Mi(n.type);break;case 22:case 23:Di(n),Yh(),e!==null&&nt(_s);break;case 24:Mi(Ae)}}function Ho(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==c)}}catch(T){Wt(n,n.return,T)}}function or(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var y=o.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,c=n;var b=r,L=T;try{L()}catch(q){Wt(c,b,q)}}}o=o.next}while(o!==f)}}catch(q){Wt(n,n.return,q)}}function Up(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ag(n,r)}catch(o){Wt(e,e.return,o)}}}function kp(e,n,r){r.props=vs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Wt(e,n,o)}}function Fo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Wt(e,n,c)}}function Jn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Wt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Wt(e,n,c)}else r.current=null}function xp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Wt(e,e.return,c)}}function Sf(e,n,r){try{var o=e.stateNode;XE(o,e.type,r,n),o[de]=n}catch(c){Wt(e,e.return,c)}}function Lp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Zu));else if(o!==4&&(o===27&&gr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Rf(e,n,r),e=e.sibling;e!==null;)Rf(e,n,r),e=e.sibling}function zu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&gr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(zu(e,n,r),e=e.sibling;e!==null;)zu(e,n,r),e=e.sibling}function jp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,o,r),n[ve]=e,n[de]=r}catch(f){Wt(e,e.return,f)}}var Pi=!1,he=!1,If=!1,zp=typeof WeakSet=="function"?WeakSet:Set,De=null;function OE(e,n){if(e=e.containerInfo,Xf=rc,e=Zm(e),Sh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,T=-1,b=-1,L=0,q=0,K=e,j=null;e:for(;;){for(var z;K!==r||c!==0&&K.nodeType!==3||(T=y+c),K!==f||o!==0&&K.nodeType!==3||(b=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(z=K.firstChild)!==null;)j=K,K=z;for(;;){if(K===e)break e;if(j===r&&++L===c&&(T=y),j===f&&++q===o&&(b=y),(z=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=z}r=T===-1||b===-1?null:{start:T,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zf={focusedElem:e,selectionRange:r},rc=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var pt=vs(r.type,c,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(pt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Wt(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)td(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function Bp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:lr(e,r),o&4&&Ho(5,r);break;case 1:if(lr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(y){Wt(r,r.return,y)}else{var c=vs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Wt(r,r.return,y)}}o&64&&Up(r),o&512&&Fo(r,r.return);break;case 3:if(lr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ag(e,n)}catch(y){Wt(r,r.return,y)}}break;case 27:n===null&&o&4&&jp(r);case 26:case 5:lr(e,r),n===null&&o&4&&xp(r),o&512&&Fo(r,r.return);break;case 12:lr(e,r);break;case 13:lr(e,r),o&4&&Hp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=jE.bind(null,r),i1(e,r))));break;case 22:if(o=r.memoizedState!==null||Pi,!o){n=n!==null&&n.memoizedState!==null||he,c=Pi;var f=he;Pi=o,(he=n)&&!f?ur(e,r,(r.subtreeFlags&8772)!==0):lr(e,r),Pi=c,he=f}break;case 30:break;default:lr(e,r)}}function Gp(e){var n=e.alternate;n!==null&&(e.alternate=null,Gp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,en=!1;function Ui(e,n,r){for(r=r.child;r!==null;)qp(e,n,r),r=r.sibling}function qp(e,n,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||Jn(r,n),Ui(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Jn(r,n);var o=ee,c=en;gr(r.type)&&(ee=r.stateNode,en=!1),Ui(e,n,r),tl(r.stateNode),ee=o,en=c;break;case 5:he||Jn(r,n);case 6:if(o=ee,c=en,ee=null,Ui(e,n,r),ee=o,en=c,ee!==null)if(en)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Wt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Wt(r,n,f)}break;case 18:ee!==null&&(en?(e=ee,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ll(e)):D_(ee,r.stateNode));break;case 4:o=ee,c=en,ee=r.stateNode.containerInfo,en=!0,Ui(e,n,r),ee=o,en=c;break;case 0:case 11:case 14:case 15:he||or(2,r,n),he||or(4,r,n),Ui(e,n,r);break;case 1:he||(Jn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&kp(r,n,o)),Ui(e,n,r);break;case 21:Ui(e,n,r);break;case 22:he=(o=he)||r.memoizedState!==null,Ui(e,n,r),he=o;break;default:Ui(e,n,r)}}function Hp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ll(e)}catch(r){Wt(n,n.return,r)}}function DE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new zp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new zp),n;default:throw Error(s(435,e.tag))}}function wf(e,n){var r=DE(e);n.forEach(function(o){var c=zE.bind(null,e,o);r.has(o)||(r.add(o),o.then(c,c))})}function un(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,y=n,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){ee=T.stateNode,en=!1;break t}break;case 5:ee=T.stateNode,en=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(ee===null)throw Error(s(160));qp(f,y,c),ee=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Fp(n,e),n=n.sibling}var Pn=null;function Fp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(or(3,e,e.return),Ho(3,e),or(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(he||r===null||Jn(r,r.return)),o&64&&Pi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Pn;if(un(n,e),cn(e),o&512&&(he||r===null||Jn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Yr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,o,r),f[ve]=e,ue(f),o=f;break t;case"link":var y=j_("link","href",c).get(o+(r.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(T,1);break e}}f=c.createElement(o),je(f,o,r),c.head.appendChild(f);break;case"meta":if(y=j_("meta","content",c).get(o+(r.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(T,1);break e}}f=c.createElement(o),je(f,o,r),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,ue(f),o=f}e.stateNode=o}else z_(c,e.type,e.stateNode);else e.stateNode=L_(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?z_(c,e.type,e.stateNode):L_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Sf(e,e.memoizedProps,r.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(he||r===null||Jn(r,r.return)),r!==null&&o&4&&Sf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(he||r===null||Jn(r,r.return)),e.flags&32){c=e.stateNode;try{_n(c,"")}catch(z){Wt(e,e.return,z)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Sf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(If=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(z){Wt(e,e.return,z)}}break;case 3:if(ec=null,c=Pn,Pn=Ju(n.containerInfo),un(n,e),Pn=c,cn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ll(n.containerInfo)}catch(z){Wt(e,e.return,z)}If&&(If=!1,Qp(e));break;case 4:o=Pn,Pn=Ju(e.stateNode.containerInfo),un(n,e),cn(e),Pn=o;break;case 12:un(n,e),cn(e);break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Vf=gn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,wf(e,o)));break;case 22:c=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=Pi,q=he;if(Pi=L||c,he=q||b,un(n,e),he=q,Pi=L,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Pi||he||Ts(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=b.stateNode;var K=b.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(z){Wt(b,b.return,z)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(z){Wt(b,b.return,z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,wf(e,r))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,wf(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Lp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=bf(e);zu(e,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(_n(y,""),r.flags&=-33);var T=bf(e);zu(e,T,y);break;case 3:case 4:var b=r.stateNode.containerInfo,L=bf(e);Rf(e,L,b);break;default:throw Error(s(161))}}catch(q){Wt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function lr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bp(e,n.alternate,n),n=n.sibling}function Ts(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),Ts(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&kp(n,n.return,r),Ts(n);break;case 27:tl(n.stateNode);case 26:case 5:Jn(n,n.return),Ts(n);break;case 22:n.memoizedState===null&&Ts(n);break;case 30:Ts(n);break;default:Ts(n)}e=e.sibling}}function ur(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),Ho(4,f);break;case 1:if(ur(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Wt(o,o.return,L)}if(o=f,c=o.updateQueue,c!==null){var T=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Eg(b[c],T)}catch(L){Wt(o,o.return,L)}}r&&y&64&&Up(f),Fo(f,f.return);break;case 27:jp(f);case 26:case 5:ur(c,f,r),r&&o===null&&y&4&&xp(f),Fo(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&y&4&&Hp(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),Fo(f,f.return);break;case 30:break;default:ur(c,f,r)}n=n.sibling}}function Cf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Oo(r))}function Mf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oo(e))}function ti(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kp(e,n,r,o),n=n.sibling}function Kp(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,r,o),c&2048&&Ho(9,n);break;case 1:ti(e,n,r,o);break;case 3:ti(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oo(e)));break;case 12:if(c&2048){ti(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Wt(n,n.return,b)}}else ti(e,n,r,o);break;case 13:ti(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,r,o):Qo(e,n):f._visibility&2?ti(e,n,r,o):(f._visibility|=2,_a(e,n,r,o,(n.subtreeFlags&10256)!==0)),c&2048&&Cf(y,n);break;case 24:ti(e,n,r,o),c&2048&&Mf(n.alternate,n);break;default:ti(e,n,r,o)}}function _a(e,n,r,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,T=r,b=o,L=y.flags;switch(y.tag){case 0:case 11:case 15:_a(f,y,T,b,c),Ho(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&2?_a(f,y,T,b,c):Qo(f,y):(q._visibility|=2,_a(f,y,T,b,c)),c&&L&2048&&Cf(y.alternate,y);break;case 24:_a(f,y,T,b,c),c&&L&2048&&Mf(y.alternate,y);break;default:_a(f,y,T,b,c)}n=n.sibling}}function Qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Qo(r,o),c&2048&&Cf(o.alternate,o);break;case 24:Qo(r,o),c&2048&&Mf(o.alternate,o);break;default:Qo(r,o)}n=n.sibling}}var Ko=8192;function ya(e){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 26:ya(e),e.flags&Ko&&e.memoizedState!==null&&p1(Pn,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var n=Pn;Pn=Ju(e.stateNode.containerInfo),ya(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ko,Ko=16777216,ya(e),Ko=n):ya(e));break;default:ya(e)}}function Wp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Zp(o,e)}Wp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&or(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Bu(e)):Yo(e);break;default:Yo(e)}}function Bu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Zp(o,e)}Wp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:or(8,n,n.return),Bu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Bu(n));break;default:Bu(n)}e=e.sibling}}function Zp(e,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,De=o;else t:for(r=e;De!==null;){o=De;var c=o.sibling,f=o.return;if(Gp(o),o===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var NE={getCacheForType:function(e){var n=He(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},VE=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,It=null,Vt=0,Ht=0,hn=null,cr=!1,va=!1,Of=!1,ki=0,oe=0,hr=0,Es=0,Df=0,In=0,Ta=0,Wo=null,nn=null,Nf=!1,Vf=0,Gu=1/0,qu=null,fr=null,Le=0,dr=null,Ea=null,Aa=0,Pf=0,Uf=null,$p=null,Xo=0,kf=null;function fn(){if((qt&2)!==0&&Vt!==0)return Vt&-Vt;if(G.T!==null){var e=ua;return e!==0?e:qf()}return Yi()}function Jp(){In===0&&(In=(Vt&536870912)===0||Lt?ro():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),In}function dn(e,n,r){(e===Zt&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)&&(Sa(e,0),mr(e,Vt,In,!1)),mi(e,r),((qt&2)===0||e!==Zt)&&(e===Zt&&((qt&2)===0&&(Es|=r),oe===4&&mr(e,Vt,In,!1)),ei(e))}function t_(e,n,r){if((qt&6)!==0)throw Error(s(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||Kr(e,n),c=o?kE(e,n):jf(e,n,!0),f=o;do{if(c===0){va&&!o&&mr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!PE(r)){c=jf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var T=e;c=Wo;var b=T.current.memoizedState.isDehydrated;if(b&&(Sa(T,y).flags|=256),y=jf(T,y,!1),y!==2){if(Of&&!b){T.errorRecoveryDisabledLanes|=f,Es|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Sa(e,0),mr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:mr(o,n,In,!cr);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Vf+300-gn(),10<c)){if(mr(o,n,In,!cr),zs(o,0,!0)!==0)break t;o.timeoutHandle=M_(e_.bind(null,o,r,nn,qu,Nf,n,In,Es,Ta,cr,f,2,-0,0),c);break t}e_(o,r,nn,qu,Nf,n,In,Es,Ta,cr,f,0,-0,0)}}break}while(!0);ei(e)}function e_(e,n,r,o,c,f,y,T,b,L,q,K,j,z){if(e.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:g1},Yp(n),K=_1(),K!==null)){e.cancelPendingCommit=K(l_.bind(null,e,n,f,r,o,c,y,T,b,q,1,j,z)),mr(e,f,y,!L);return}l_(e,n,f,r,o,c,y,T,b)}function PE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mr(e,n,r,o){n&=~Df,n&=~Es,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;o[f]=-1,c&=~y}r!==0&&zn(e,r,n)}function Hu(){return(qt&6)===0?(Zo(0),!1):!0}function xf(){if(It!==null){if(Ht===0)var e=It.return;else e=It,Ci=gs=null,Jh(e),ga=null,Bo=0,e=It;for(;e!==null;)Pp(e.alternate,e),e=e.return;It=null}}function Sa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,$E(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),xf(),Zt=e,It=r=Ri(e.current,null),Vt=n,Ht=0,hn=null,cr=!1,va=Kr(e,n),Of=!1,Ta=In=Df=Es=hr=oe=0,nn=Wo=null,Nf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-qe(o),f=1<<c;n|=e[c],o&=~f}return ki=n,fu(),r}function n_(e,n){St=null,G.H=Du,n===No||n===Eu?(n=vg(),Ht=3):n===pg?(n=vg(),Ht=4):Ht=n===Tp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(oe=1,ku(e,En(n,e.current)))}function i_(){var e=G.H;return G.H=Du,e===null?Du:e}function r_(){var e=G.A;return G.A=NE,e}function Lf(){oe=4,cr||(Vt&4194048)!==Vt&&Rn.current!==null||(va=!0),(hr&134217727)===0&&(Es&134217727)===0||Zt===null||mr(Zt,Vt,In,!1)}function jf(e,n,r){var o=qt;qt|=2;var c=i_(),f=r_();(Zt!==e||Vt!==n)&&(qu=null,Sa(e,n)),n=!1;var y=oe;t:do try{if(Ht!==0&&It!==null){var T=It,b=hn;switch(Ht){case 8:xf(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var L=Ht;if(Ht=0,hn=null,ba(e,T,b,L),r&&va){y=0;break t}break;default:L=Ht,Ht=0,hn=null,ba(e,T,b,L)}}UE(),y=oe;break}catch(q){n_(e,q)}while(!0);return n&&e.shellSuspendCounter++,Ci=gs=null,qt=o,G.H=c,G.A=f,It===null&&(Zt=null,Vt=0,fu()),y}function UE(){for(;It!==null;)s_(It)}function kE(e,n){var r=qt;qt|=2;var o=i_(),c=r_();Zt!==e||Vt!==n?(qu=null,Gu=gn()+500,Sa(e,n)):va=Kr(e,n);t:do try{if(Ht!==0&&It!==null){n=It;var f=hn;e:switch(Ht){case 1:Ht=0,hn=null,ba(e,n,f,1);break;case 2:case 9:if(_g(f)){Ht=0,hn=null,a_(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==e||(Ht=7),ei(e)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:_g(f)?(Ht=0,hn=null,a_(n)):(Ht=0,hn=null,ba(e,n,f,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var T=It;if(!y||B_(y)){Ht=0,hn=null;var b=T.sibling;if(b!==null)It=b;else{var L=T.return;L!==null?(It=L,Fu(L)):It=null}break e}}Ht=0,hn=null,ba(e,n,f,5);break;case 6:Ht=0,hn=null,ba(e,n,f,6);break;case 8:xf(),oe=6;break t;default:throw Error(s(462))}}xE();break}catch(q){n_(e,q)}while(!0);return Ci=gs=null,G.H=o,G.A=c,qt=r,It!==null?0:(Zt=null,Vt=0,fu(),oe)}function xE(){for(;It!==null&&!to();)s_(It)}function s_(e){var n=Np(e.alternate,e,ki);e.memoizedProps=e.pendingProps,n===null?Fu(e):It=n}function a_(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Ip(r,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Ip(r,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:Jh(n);default:Pp(r,n),n=It=og(n,ki),n=Np(r,n,ki)}e.memoizedProps=e.pendingProps,n===null?Fu(e):It=n}function ba(e,n,r,o){Ci=gs=null,Jh(n),ga=null,Bo=0;var c=n.return;try{if(IE(e,c,n,r,Vt)){oe=1,ku(e,En(r,e.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;oe=1,ku(e,En(r,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:va||(Vt&536870912)!==0?e=!1:(cr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),o_(n,e)):Fu(n)}function Fu(e){var n=e;do{if((n.flags&32768)!==0){o_(n,cr);return}e=n.return;var r=CE(n.alternate,n,ki);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);oe===0&&(oe=5)}function o_(e,n){do{var r=ME(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);oe=6,It=null}function l_(e,n,r,o,c,f,y,T,b){e.cancelPendingCommit=null;do Qu();while(Le!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Ch,ao(e,r,f,y,T,b),e===Zt&&(It=Zt=null,Vt=0),Ea=n,dr=e,Aa=r,Pf=f,Uf=c,$p=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,BE(qr,function(){return d_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,c=et.p,et.p=2,y=qt,qt|=4;try{OE(e,n,r)}finally{qt=y,et.p=c,G.T=o}}Le=1,u_(),c_(),h_()}}function u_(){if(Le===1){Le=0;var e=dr,n=Ea,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=et.p;et.p=2;var c=qt;qt|=4;try{Fp(n,e);var f=Zf,y=Zm(e.containerInfo),T=f.focusedElem,b=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Xm(T.ownerDocument.documentElement,T)){if(b!==null&&Sh(T)){var L=b.start,q=b.end;if(q===void 0&&(q=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(q,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var z=j.getSelection(),pt=T.textContent.length,ft=Math.min(b.start,pt),Yt=b.end===void 0?ft:Math.min(b.end,pt);!z.extend&&ft>Yt&&(y=Yt,Yt=ft,ft=y);var P=Wm(T,ft),C=Wm(T,Yt);if(P&&C&&(z.rangeCount!==1||z.anchorNode!==P.node||z.anchorOffset!==P.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var x=K.createRange();x.setStart(P.node,P.offset),z.removeAllRanges(),ft>Yt?(z.addRange(x),z.extend(C.node,C.offset)):(x.setEnd(C.node,C.offset),z.addRange(x))}}}}for(K=[],z=T;z=z.parentNode;)z.nodeType===1&&K.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}rc=!!Xf,Zf=Xf=null}finally{qt=c,et.p=o,G.T=r}}e.current=n,Le=2}}function c_(){if(Le===2){Le=0;var e=dr,n=Ea,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=et.p;et.p=2;var c=qt;qt|=4;try{Bp(e,n.alternate,n)}finally{qt=c,et.p=o,G.T=r}}Le=3}}function h_(){if(Le===4||Le===3){Le=0,Bl();var e=dr,n=Ea,r=Aa,o=$p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Ea=dr=null,f_(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(fr=null),Bs(r),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,c=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var T=o[y];f(T.value,{componentStack:T.stack})}}finally{G.T=n,et.p=c}}(Aa&3)!==0&&Qu(),ei(e),c=e.pendingLanes,(r&4194090)!==0&&(c&42)!==0?e===kf?Xo++:(Xo=0,kf=e):Xo=0,Zo(0)}}function f_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Oo(n)))}function Qu(e){return u_(),c_(),h_(),d_()}function d_(){if(Le!==5)return!1;var e=dr,n=Pf;Pf=0;var r=Bs(Aa),o=G.T,c=et.p;try{et.p=32>r?32:r,G.T=null,r=Uf,Uf=null;var f=dr,y=Aa;if(Le=0,Ea=dr=null,Aa=0,(qt&6)!==0)throw Error(s(331));var T=qt;if(qt|=4,Xp(f.current),Kp(f,f.current,y,r),qt=T,Zo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{et.p=c,G.T=o,f_(e,n)}}function m_(e,n,r){n=En(r,n),n=mf(e.stateNode,n,2),e=ir(e,n,2),e!==null&&(mi(e,2),ei(e))}function Wt(e,n,r){if(e.tag===3)m_(e,e,r);else for(;n!==null;){if(n.tag===3){m_(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(fr===null||!fr.has(o))){e=En(r,e),r=yp(2),o=ir(n,r,2),o!==null&&(vp(r,o,n,e),mi(o,2),ei(o));break}}n=n.return}}function zf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new VE;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Of=!0,c.add(r),e=LE.bind(null,e,n,r),n.then(e,e))}function LE(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Zt===e&&(Vt&r)===r&&(oe===4||oe===3&&(Vt&62914560)===Vt&&300>gn()-Vf?(qt&2)===0&&Sa(e,0):Df|=r,Ta===Vt&&(Ta=0)),ei(e)}function g_(e,n){n===0&&(n=so()),e=sa(e,n),e!==null&&(mi(e,n),ei(e))}function jE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),g_(e,r)}function zE(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),g_(e,r)}function BE(e,n){return Br(e,n)}var Ku=null,Ra=null,Bf=!1,Yu=!1,Gf=!1,As=0;function ei(e){e!==Ra&&e.next===null&&(Ra===null?Ku=Ra=e:Ra=Ra.next=e),Yu=!0,Bf||(Bf=!0,qE())}function Zo(e,n){if(!Gf&&Yu){Gf=!0;do for(var r=!1,o=Ku;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var y=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-qe(42|e)+1)-1,f&=c&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,v_(o,f))}else f=Vt,f=zs(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kr(o,f)||(r=!0,v_(o,f));o=o.next}while(r);Gf=!1}}function GE(){p_()}function p_(){Yu=Bf=!1;var e=0;As!==0&&(ZE()&&(e=As),As=0);for(var n=gn(),r=null,o=Ku;o!==null;){var c=o.next,f=__(o,n);f===0?(o.next=null,r===null?Ku=c:r.next=c,c===null&&(Ra=r)):(r=o,(e!==0||(f&3)!==0)&&(Yu=!0)),o=c}Zo(e)}function __(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-qe(f),T=1<<y,b=c[y];b===-1?((T&r)===0||(T&o)!==0)&&(c[y]=io(T,n)):b<=n&&(e.expiredLanes|=T),f&=~T}if(n=Zt,r=Vt,r=zs(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Gr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Kr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Gr(o),Bs(r)){case 2:case 8:r=Ls;break;case 32:r=qr;break;case 268435456:r=js;break;default:r=qr}return o=y_.bind(null,e),r=Br(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Gr(o),e.callbackPriority=2,e.callbackNode=null,2}function y_(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Qu()&&e.callbackNode!==r)return null;var o=Vt;return o=zs(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(t_(e,o,n),__(e,gn()),e.callbackNode!=null&&e.callbackNode===r?y_.bind(null,e):null)}function v_(e,n){if(Qu())return null;t_(e,n,!0)}function qE(){JE(function(){(qt&6)!==0?Br(eo,GE):p_()})}function qf(){return As===0&&(As=ro()),As}function T_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function E_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function HE(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=T_((c[de]||null).action),y=o.submitter;y&&(n=(n=y[de]||null)?T_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Ys("action","action",null,o,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(As!==0){var b=y?E_(c,y):new FormData(c);uf(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(T.preventDefault(),b=y?E_(c,y):new FormData(c),uf(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Hf=0;Hf<wh.length;Hf++){var Ff=wh[Hf],FE=Ff.toLowerCase(),QE=Ff[0].toUpperCase()+Ff.slice(1);Vn(FE,"on"+QE)}Vn(tg,"onAnimationEnd"),Vn(eg,"onAnimationIteration"),Vn(ng,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(uE,"onTransitionRun"),Vn(cE,"onTransitionStart"),Vn(hE,"onTransitionCancel"),Vn(ig,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function A_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var T=o[y],b=T.instance,L=T.currentTarget;if(T=T.listener,b!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=L;try{f(c)}catch(q){Uu(q)}c.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(T=o[y],b=T.instance,L=T.currentTarget,T=T.listener,b!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=L;try{f(c)}catch(q){Uu(q)}c.currentTarget=null,f=b}}}}function wt(e,n){var r=n[lo];r===void 0&&(r=n[lo]=new Set);var o=e+"__bubble";r.has(o)||(S_(n,e,2,!1),r.add(o))}function Qf(e,n,r){var o=0;n&&(o|=4),S_(r,e,o,n)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Kf(e){if(!e[Wu]){e[Wu]=!0,uo.forEach(function(r){r!=="selectionchange"&&(KE.has(r)||Qf(r,!1,e),Qf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wu]||(n[Wu]=!0,Qf("selectionchange",!1,n))}}function S_(e,n,r,o){switch(K_(n)){case 2:var c=T1;break;case 8:c=E1;break;default:c=od}r=c.bind(null,n,r,e),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function Yf(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var T=o.stateNode.containerInfo;if(T===c)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;T!==null;){if(y=gi(T),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}T=T.parentNode}}o=o.return}Zl(function(){var L=f,q=yn(r),K=[];t:{var j=rg.get(e);if(j!==void 0){var z=Ys,pt=e;switch(e){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":z=ta;break;case"focusin":pt="focus",z=Zs;break;case"focusout":pt="blur",z=Zs;break;case"beforeblur":case"afterblur":z=Zs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=su;break;case tg:case eg:case ng:z=$s;break;case ig:z=ou;break;case"scroll":case"scrollend":z=$l;break;case"wheel":z=ea;break;case"copy":case"cut":case"paste":z=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Ao;break;case"toggle":case"beforetoggle":z=uu}var ft=(n&4)!==0,Yt=!ft&&(e==="scroll"||e==="scrollend"),P=ft?j!==null?j+"Capture":null:j;ft=[];for(var C=L,x;C!==null;){var Q=C;if(x=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||x===null||P===null||(Q=es(C,P),Q!=null&&ft.push(Jo(C,Q,x))),Yt)break;C=C.return}0<ft.length&&(j=new z(j,pt,null,r,q),K.push({event:j,listeners:ft}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",j&&r!==vi&&(pt=r.relatedTarget||r.fromElement)&&(gi(pt)||pt[pn]))break t;if((z||j)&&(j=q.window===q?q:(j=q.ownerDocument)?j.defaultView||j.parentWindow:window,z?(pt=r.relatedTarget||r.toElement,z=L,pt=pt?gi(pt):null,pt!==null&&(Yt=h(pt),ft=pt.tag,pt!==Yt||ft!==5&&ft!==27&&ft!==6)&&(pt=null)):(z=null,pt=L),z!==pt)){if(ft=Tn,Q="onMouseLeave",P="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Ao,Q="onPointerLeave",P="onPointerEnter",C="pointer"),Yt=z==null?j:Gn(z),x=pt==null?j:Gn(pt),j=new ft(Q,C+"leave",z,r,q),j.target=Yt,j.relatedTarget=x,Q=null,gi(q)===L&&(ft=new ft(P,C+"enter",pt,r,q),ft.target=x,ft.relatedTarget=Yt,Q=ft),Yt=Q,z&&pt)e:{for(ft=z,P=pt,C=0,x=ft;x;x=Ia(x))C++;for(x=0,Q=P;Q;Q=Ia(Q))x++;for(;0<C-x;)ft=Ia(ft),C--;for(;0<x-C;)P=Ia(P),x--;for(;C--;){if(ft===P||P!==null&&ft===P.alternate)break e;ft=Ia(ft),P=Ia(P)}ft=null}else ft=null;z!==null&&b_(K,j,z,ft,!1),pt!==null&&Yt!==null&&b_(K,Yt,pt,ft,!0)}}t:{if(j=L?Gn(L):window,z=j.nodeName&&j.nodeName.toLowerCase(),z==="select"||z==="input"&&j.type==="file")var rt=qm;else if(Ee(j))if(Hm)rt=aE;else{rt=rE;var Rt=iE}else z=j.nodeName,!z||z.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?L&&go(L.elementType)&&(rt=qm):rt=sE;if(rt&&(rt=rt(e,L))){bi(K,rt,r,q);break t}Rt&&Rt(e,j,L),e==="focusout"&&L&&j.type==="number"&&L.memoizedProps.value!=null&&$i(j,"number",j.value)}switch(Rt=L?Gn(L):window,e){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(na=Rt,bh=L,Ro=null);break;case"focusout":Ro=bh=na=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,$m(K,r,q);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":$m(K,r,q)}var ot;if(Wn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Dt?B(e,r)&&(dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(p&&r.locale!=="ko"&&(Dt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Dt&&(ot=_o()):(Fn=q,Ji="value"in Fn?Fn.value:Fn.textContent,Dt=!0)),Rt=Xu(L,dt),0<Rt.length&&(dt=new To(dt,e,null,r,q),K.push({event:dt,listeners:Rt}),ot?dt.data=ot:(ot=J(r),ot!==null&&(dt.data=ot)))),(ot=m?Te(e,r):Nt(e,r))&&(dt=Xu(L,"onBeforeInput"),0<dt.length&&(Rt=new To("onBeforeInput","beforeinput",null,r,q),K.push({event:Rt,listeners:dt}),Rt.data=ot)),HE(K,e,L,r,q)}A_(K,n)})}function Jo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Xu(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=es(e,r),c!=null&&o.unshift(Jo(e,c,f)),c=es(e,n),c!=null&&o.push(Jo(e,c,f))),e.tag===3)return o;e=e.return}return[]}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function b_(e,n,r,o,c){for(var f=n._reactName,y=[];r!==null&&r!==o;){var T=r,b=T.alternate,L=T.stateNode;if(T=T.tag,b!==null&&b===o)break;T!==5&&T!==26&&T!==27||L===null||(b=L,c?(L=es(r,f),L!=null&&y.unshift(Jo(r,L,b))):c||(L=es(r,f),L!=null&&y.push(Jo(r,L,b)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var YE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function R_(e){return(typeof e=="string"?e:""+e).replace(YE,`
`).replace(WE,"")}function I_(e,n){return n=R_(n),R_(e)===n}function Zu(){}function Kt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(e,""+o);break;case"className":qn(e,"class",o);break;case"tabIndex":qn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,r,o);break;case"style":mo(e,o,f);break;case"data":if(n!=="object"){qn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ks(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(e,n,"name",c.name,c,null),Kt(e,n,"formEncType",c.formEncType,c,null),Kt(e,n,"formMethod",c.formMethod,c,null),Kt(e,n,"formTarget",c.formTarget,c,null)):(Kt(e,n,"encType",c.encType,c,null),Kt(e,n,"method",c.method,c,null),Kt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ks(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Zu);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ks(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),Zi(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_h.get(r)||r,Zi(e,r,o))}}function Wf(e,n,r,o,c,f){switch(r){case"style":mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Zi(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,f,y,r,null)}}c&&Kt(e,n,"srcSet",r.srcSet,r,null),o&&Kt(e,n,"src",r.src,r,null);return;case"input":wt("invalid",e);var T=f=y=c=null,b=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var q=r[o];if(q!=null)switch(o){case"name":c=q;break;case"type":y=q;break;case"checked":b=q;break;case"defaultChecked":L=q;break;case"value":f=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(e,n,o,q,r,null)}}$r(e,f,T,b,L,y,c,!1),Qs(e);return;case"select":wt("invalid",e),o=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(T=r[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":o=T;default:Kt(e,n,c,T,r,null)}n=f,r=y,e.multiple=!!o,n!=null?yi(e,!!o,n,!1):r!=null&&yi(e,!!o,r,!0);return;case"textarea":wt("invalid",e),f=c=o=null;for(y in r)if(r.hasOwnProperty(y)&&(T=r[y],T!=null))switch(y){case"value":o=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(e,n,y,T,r,null)}Jr(e,o,c,f),Qs(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,n,b,o,r,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<$o.length;o++)wt($o[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,L,o,r,null)}return;default:if(go(n)){for(q in r)r.hasOwnProperty(q)&&(o=r[q],o!==void 0&&Wf(e,n,q,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&Kt(e,n,T,o,r,null))}function XE(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,T=null,b=null,L=null,q=null;for(z in r){var K=r[z];if(r.hasOwnProperty(z)&&K!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(z)||Kt(e,n,z,null,o,K)}}for(var j in o){var z=o[j];if(K=r[j],o.hasOwnProperty(j)&&(z!=null||K!=null))switch(j){case"type":f=z;break;case"name":c=z;break;case"checked":L=z;break;case"defaultChecked":q=z;break;case"value":y=z;break;case"defaultValue":T=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:z!==K&&Kt(e,n,j,z,o,K)}}an(e,y,T,b,L,q,f,c);return;case"select":z=y=T=j=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":z=b;default:o.hasOwnProperty(f)||Kt(e,n,f,null,o,b)}for(c in o)if(f=o[c],b=r[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==b&&Kt(e,n,c,f,o,b)}n=T,r=y,o=z,j!=null?yi(e,!!r,j,!1):!!o!=!!r&&(n!=null?yi(e,!!r,n,!0):yi(e,!!r,r?[]:"",!1));return;case"textarea":z=j=null;for(T in r)if(c=r[T],r.hasOwnProperty(T)&&c!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(e,n,T,null,o,c)}for(y in o)if(c=o[y],f=r[y],o.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":j=c;break;case"defaultValue":z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(e,n,y,c,o,f)}Ft(e,j,z);return;case"option":for(var pt in r)if(j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:Kt(e,n,pt,null,o,j)}for(b in o)if(j=o[b],z=r[b],o.hasOwnProperty(b)&&j!==z&&(j!=null||z!=null))switch(b){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(e,n,b,j,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)j=r[ft],r.hasOwnProperty(ft)&&j!=null&&!o.hasOwnProperty(ft)&&Kt(e,n,ft,null,o,j);for(L in o)if(j=o[L],z=r[L],o.hasOwnProperty(L)&&j!==z&&(j!=null||z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Kt(e,n,L,j,o,z)}return;default:if(go(n)){for(var Yt in r)j=r[Yt],r.hasOwnProperty(Yt)&&j!==void 0&&!o.hasOwnProperty(Yt)&&Wf(e,n,Yt,void 0,o,j);for(q in o)j=o[q],z=r[q],!o.hasOwnProperty(q)||j===z||j===void 0&&z===void 0||Wf(e,n,q,j,o,z);return}}for(var P in r)j=r[P],r.hasOwnProperty(P)&&j!=null&&!o.hasOwnProperty(P)&&Kt(e,n,P,null,o,j);for(K in o)j=o[K],z=r[K],!o.hasOwnProperty(K)||j===z||j==null&&z==null||Kt(e,n,K,j,o,z)}var Xf=null,Zf=null;function $u(e){return e.nodeType===9?e:e.ownerDocument}function w_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $f(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jf=null;function ZE(){var e=window.event;return e&&e.type==="popstate"?e===Jf?!1:(Jf=e,!0):(Jf=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(e){return O_.resolve(null).then(e).catch(t1)}:M_;function t1(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function D_(e,n){var r=n,o=0,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var y=e.ownerDocument;if(r&1&&tl(y.documentElement),r&2&&tl(y.body),r&4)for(r=y.head,tl(r),y=r.firstChild;y;){var T=y.nextSibling,b=y.nodeName;y[Yr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=T}}if(c===0){e.removeChild(f),ll(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);ll(n)}function td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":td(r),Xi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function e1(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Yr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function n1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Un(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function i1(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var nd=null;function N_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function V_(e,n,r){switch(n=$u(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xi(e)}var wn=new Map,P_=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=et.d;et.d={f:r1,r:s1,D:a1,C:o1,L:l1,m:u1,X:h1,S:c1,M:f1};function r1(){var e=xi.f(),n=Hu();return e||n}function s1(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?tp(n):xi.r(e)}var wa=typeof document>"u"?null:document;function U_(e,n,r){var o=wa;if(o&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),P_.has(c)||(P_.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),je(n,"link",e),ue(n),o.head.appendChild(n)))}}function a1(e){xi.D(e),U_("dns-prefetch",e,null)}function o1(e,n){xi.C(e,n),U_("preconnect",e,n)}function l1(e,n,r){xi.L(e,n,r);var o=wa;if(o&&e&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(e)+'"]';var f=c;switch(n){case"style":f=Ca(e);break;case"script":f=Ma(e)}wn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),wn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(el(f))||n==="script"&&o.querySelector(nl(f))||(n=o.createElement("link"),je(n,"link",e),ue(n),o.head.appendChild(n)))}}function u1(e,n){xi.m(e,n);var r=wa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!wn.has(f)&&(e=A({rel:"modulepreload",href:e},n),wn.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(nl(f)))return}o=r.createElement("link"),je(o,"link",e),ue(o),r.head.appendChild(o)}}}function c1(e,n,r){xi.S(e,n,r);var o=wa;if(o&&e){var c=Xe(o).hoistableStyles,f=Ca(e);n=n||"default";var y=c.get(f);if(!y){var T={loading:0,preload:null};if(y=o.querySelector(el(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=wn.get(f))&&id(e,r);var b=y=o.createElement("link");ue(b),je(b,"link",e),b._p=new Promise(function(L,q){b.onload=L,b.onerror=q}),b.addEventListener("load",function(){T.loading|=1}),b.addEventListener("error",function(){T.loading|=2}),T.loading|=4,tc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:T},c.set(f,y)}}}function h1(e,n){xi.X(e,n);var r=wa;if(r&&e){var o=Xe(r).hoistableScripts,c=Ma(e),f=o.get(c);f||(f=r.querySelector(nl(c)),f||(e=A({src:e,async:!0},n),(n=wn.get(c))&&rd(e,n),f=r.createElement("script"),ue(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function f1(e,n){xi.M(e,n);var r=wa;if(r&&e){var o=Xe(r).hoistableScripts,c=Ma(e),f=o.get(c);f||(f=r.querySelector(nl(c)),f||(e=A({src:e,async:!0,type:"module"},n),(n=wn.get(c))&&rd(e,n),f=r.createElement("script"),ue(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function k_(e,n,r,o){var c=(c=yt.current)?Ju(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ca(r.href),r=Xe(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ca(r.href);var f=Xe(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(el(e)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(e,r),f||d1(c,e,r,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(r),r=Xe(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ca(e){return'href="'+me(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function d1(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),ue(n),e.head.appendChild(n))}function Ma(e){return'[src="'+me(e)+'"]'}function nl(e){return"script[async]"+e}function L_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+me(r.href)+'"]');if(o)return n.instance=o,ue(o),o;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),je(o,"style",c),tc(o,r.precedence,e),n.instance=o;case"stylesheet":c=Ca(r.href);var f=e.querySelector(el(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;o=x_(r),(c=wn.get(c))&&id(o,c),f=(e.ownerDocument||e).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(T,b){y.onload=T,y.onerror=b}),je(f,"link",o),n.state.loading|=4,tc(f,r.precedence,e),n.instance=f;case"script":return f=Ma(r.src),(c=e.querySelector(nl(f)))?(n.instance=c,ue(c),c):(o=r,(c=wn.get(f))&&(o=A({},r),rd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ue(c),je(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,tc(o,r.precedence,e));return n.instance}function tc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,y=0;y<o.length;y++){var T=o[y];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ec=null;function j_(e,n,r){if(ec===null){var o=new Map,c=ec=new Map;c.set(r,o)}else c=ec,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[Yr]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var T=o.get(y);T?T.push(f):o.set(y,[f])}}return o}function z_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function m1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function B_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var il=null;function g1(){}function p1(e,n,r){if(il===null)throw Error(s(475));var o=il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ca(r.href),f=e.querySelector(el(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=nc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ue(f);return}f=e.ownerDocument||e,r=x_(r),(c=wn.get(c))&&id(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(T,b){y.onload=T,y.onerror=b}),je(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=nc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function _1(){if(il===null)throw Error(s(475));var e=il;return e.stylesheets&&e.count===0&&sd(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function sd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,n.forEach(y1,e),ic=null,nc.call(e))}function y1(e,n){if(!(n.state.loading&4)){var r=ic.get(e);if(r)var o=r.get(null);else{r=new Map,ic.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,c),r.set(y,c),this.count++,o=nc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var rl={$$typeof:at,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function v1(e,n,r,o,c,f,y,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function G_(e,n,r,o,c,f,y,T,b,L,q,K){return e=new v1(e,n,r,y,T,b,L,K),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),e.current=f,f.stateNode=e,n=jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},qh(f),e}function q_(e){return e?(e=aa,e):aa}function H_(e,n,r,o,c,f){c=q_(c),o.context===null?o.context=c:o.pendingContext=c,o=nr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=ir(e,o,n),r!==null&&(dn(r,e,n),Po(r,e,n))}function F_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ad(e,n){F_(e,n),(e=e.alternate)&&F_(e,n)}function Q_(e){if(e.tag===13){var n=sa(e,67108864);n!==null&&dn(n,e,67108864),ad(e,67108864)}}var rc=!0;function T1(e,n,r,o){var c=G.T;G.T=null;var f=et.p;try{et.p=2,od(e,n,r,o)}finally{et.p=f,G.T=c}}function E1(e,n,r,o){var c=G.T;G.T=null;var f=et.p;try{et.p=8,od(e,n,r,o)}finally{et.p=f,G.T=c}}function od(e,n,r,o){if(rc){var c=ld(o);if(c===null)Yf(e,n,o,sc,r),Y_(e,o);else if(S1(c,e,n,r,o))o.stopPropagation();else if(Y_(e,o),n&4&&-1<A1.indexOf(e)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var b=1<<31-qe(y);T.entanglements[1]|=b,y&=~b}ei(f),(qt&6)===0&&(Gu=gn()+500,Zo(0))}}break;case 13:T=sa(f,2),T!==null&&dn(T,f,2),Hu(),ad(f,2)}if(f=ld(o),f===null&&Yf(e,n,o,sc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else Yf(e,n,o,null,r)}}function ld(e){return e=yn(e),ud(e)}var sc=null;function ud(e){if(sc=null,e=gi(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return sc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hh()){case eo:return 2;case Ls:return 8;case qr:case fh:return 32;case js:return 268435456;default:return 32}default:return 32}}var cd=!1,pr=null,_r=null,yr=null,sl=new Map,al=new Map,vr=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(e,n){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&Q_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function S1(e,n,r,o,c){switch(n){case"focusin":return pr=ol(pr,e,n,r,o,c),!0;case"dragenter":return _r=ol(_r,e,n,r,o,c),!0;case"mouseover":return yr=ol(yr,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return sl.set(f,ol(sl.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,al.set(f,ol(al.get(f)||null,e,n,r,o,c)),!0}return!1}function W_(e){var n=gi(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Hl(e.priority,function(){if(r.tag===13){var o=fn();o=Ki(o);var c=sa(r,o);c!==null&&dn(c,r,o),ad(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=ld(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);vi=o,r.target.dispatchEvent(o),vi=null}else return n=Bn(r),n!==null&&Q_(n),e.blockedOn=r,!1;n.shift()}return!0}function X_(e,n,r){ac(e)&&r.delete(n)}function b1(){cd=!1,pr!==null&&ac(pr)&&(pr=null),_r!==null&&ac(_r)&&(_r=null),yr!==null&&ac(yr)&&(yr=null),sl.forEach(X_),al.forEach(X_)}function oc(e,n){e.blockedOn===n&&(e.blockedOn=null,cd||(cd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,b1)))}var lc=null;function Z_(e){lc!==e&&(lc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){lc===e&&(lc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(ud(o||r)===null)continue;break}var f=Bn(r);f!==null&&(e.splice(n,3),n-=3,uf(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function ll(e){function n(b){return oc(b,e)}pr!==null&&oc(pr,e),_r!==null&&oc(_r,e),yr!==null&&oc(yr,e),sl.forEach(n),al.forEach(n);for(var r=0;r<vr.length;r++){var o=vr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<vr.length&&(r=vr[0],r.blockedOn===null);)W_(r),r.blockedOn===null&&vr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=c[de]||null;if(typeof f=="function")y||Z_(r);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)T=y.formAction;else if(ud(c)!==null)continue}else T=y.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),Z_(r)}}}function hd(e){this._internalRoot=e}uc.prototype.render=hd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=fn();H_(r,o,e,n,null,null)},uc.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;H_(e.current,2,null,e,null,null),Hu(),n[pn]=null}};function uc(e){this._internalRoot=e}uc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<vr.length&&n!==0&&n<vr[r].priority;r++);vr.splice(r,0,e),r===0&&W_(e)}};var $_=t.version;if($_!=="19.1.1")throw Error(s(527,$_,"19.1.1"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var R1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{se=cc.inject(R1),Gt=cc}catch{}}return cl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",c=mp,f=gp,y=pp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=G_(e,1,!1,null,null,r,o,c,f,y,T,null),e[pn]=n.current,Kf(e),new hd(n)},cl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,c="",f=mp,y=gp,T=pp,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=G_(e,1,!0,n,r??null,o,c,f,y,T,b,L),n.context=q_(null),r=n.current,o=fn(),o=Ki(o),c=nr(o),c.callback=null,ir(r,c,o),r=o,n.current.lanes=r,mi(n,r),ei(n),e[pn]=n.current,Kf(e),new uc(n)},cl.version="19.1.1",cl}var ly;function U1(){if(ly)return md.exports;ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),md.exports=P1(),md.exports}var k1=U1();const x1="/assets/IMG-20250709-WA0033-Bx5NVpj5.jpg",L1=Object.freeze(Object.defineProperty({__proto__:null,default:x1},Symbol.toStringTag,{value:"Module"})),j1="/assets/IMG-20250713-WA0005-CfJennUT.jpg",z1=Object.freeze(Object.defineProperty({__proto__:null,default:j1},Symbol.toStringTag,{value:"Module"})),B1="/assets/IMG-20250713-WA0014-BgWA6cxl.jpg",G1=Object.freeze(Object.defineProperty({__proto__:null,default:B1},Symbol.toStringTag,{value:"Module"})),q1="/assets/IMG-20250713-WA0029-CU-RlZ0o.jpg",H1=Object.freeze(Object.defineProperty({__proto__:null,default:q1},Symbol.toStringTag,{value:"Module"})),F1="/assets/IMG-20250713-WA0031-B0CdcpM1.jpg",Q1=Object.freeze(Object.defineProperty({__proto__:null,default:F1},Symbol.toStringTag,{value:"Module"})),K1="/assets/IMG-20250715-WA0010-B7HBd228.jpg",Y1=Object.freeze(Object.defineProperty({__proto__:null,default:K1},Symbol.toStringTag,{value:"Module"})),W1="/assets/IMG-20250726-WA0028-Dwu9cgmQ.jpg",X1=Object.freeze(Object.defineProperty({__proto__:null,default:W1},Symbol.toStringTag,{value:"Module"})),Z1="/assets/IMG-20250730-WA0006-cVp7ROq3.jpg",$1=Object.freeze(Object.defineProperty({__proto__:null,default:Z1},Symbol.toStringTag,{value:"Module"})),J1="/assets/IMG-20250804-WA0053-Baevb7eY.jpg",tA=Object.freeze(Object.defineProperty({__proto__:null,default:J1},Symbol.toStringTag,{value:"Module"})),eA="/assets/IMG-20250806-WA0005-DztyaTDL.jpg",nA=Object.freeze(Object.defineProperty({__proto__:null,default:eA},Symbol.toStringTag,{value:"Module"})),iA="/assets/IMG-20250807-WA0010-DWGakmOL.jpg",rA=Object.freeze(Object.defineProperty({__proto__:null,default:iA},Symbol.toStringTag,{value:"Module"})),sA="/assets/IMG-20250808-WA0008-DcpnEeo6.jpg",aA=Object.freeze(Object.defineProperty({__proto__:null,default:sA},Symbol.toStringTag,{value:"Module"})),oA="/assets/IMG-20250812-WA0064-BEQu2DmL.jpg",lA=Object.freeze(Object.defineProperty({__proto__:null,default:oA},Symbol.toStringTag,{value:"Module"})),uA="/assets/IMG-20250812-WA0067-CIsEM9FJ.jpg",cA=Object.freeze(Object.defineProperty({__proto__:null,default:uA},Symbol.toStringTag,{value:"Module"})),hA="/assets/IMG-20250812-WA0130-Dr8LpcQE.jpg",fA=Object.freeze(Object.defineProperty({__proto__:null,default:hA},Symbol.toStringTag,{value:"Module"})),dA="/assets/IMG-20250812-WA0131-C6jPQ4Cq.jpg",mA=Object.freeze(Object.defineProperty({__proto__:null,default:dA},Symbol.toStringTag,{value:"Module"})),gA="/assets/IMG-20250812-WA0132-Coqcpbo9.jpg",pA=Object.freeze(Object.defineProperty({__proto__:null,default:gA},Symbol.toStringTag,{value:"Module"})),_A="/assets/IMG-20250812-WA0133-3Ahrs7vk.jpg",yA=Object.freeze(Object.defineProperty({__proto__:null,default:_A},Symbol.toStringTag,{value:"Module"})),vA="/assets/IMG-20250812-WA0134-Btnd0sLR.jpg",TA=Object.freeze(Object.defineProperty({__proto__:null,default:vA},Symbol.toStringTag,{value:"Module"})),EA="/assets/IMG-20250812-WA0135-Cutsz4dG.jpg",AA=Object.freeze(Object.defineProperty({__proto__:null,default:EA},Symbol.toStringTag,{value:"Module"})),SA="/assets/IMG-20250812-WA0136-rYxiqT8h.jpg",bA=Object.freeze(Object.defineProperty({__proto__:null,default:SA},Symbol.toStringTag,{value:"Module"})),RA="/assets/IMG-20250812-WA0137-D9ALI-es.jpg",IA=Object.freeze(Object.defineProperty({__proto__:null,default:RA},Symbol.toStringTag,{value:"Module"})),wA="/assets/IMG-20250812-WA0138-Ca03TOfs.jpg",CA=Object.freeze(Object.defineProperty({__proto__:null,default:wA},Symbol.toStringTag,{value:"Module"})),MA="/assets/IMG-20250812-WA0139-JdefQkkw.jpg",OA=Object.freeze(Object.defineProperty({__proto__:null,default:MA},Symbol.toStringTag,{value:"Module"})),DA="/assets/IMG-20250812-WA0140-ChwL1OUj.jpg",NA=Object.freeze(Object.defineProperty({__proto__:null,default:DA},Symbol.toStringTag,{value:"Module"})),VA="/assets/IMG-20250812-WA0141-ui0JP_Xb.jpg",PA=Object.freeze(Object.defineProperty({__proto__:null,default:VA},Symbol.toStringTag,{value:"Module"})),UA="/assets/IMG-20250812-WA0142-BZCx0Vgz.jpg",kA=Object.freeze(Object.defineProperty({__proto__:null,default:UA},Symbol.toStringTag,{value:"Module"})),xA="/assets/IMG-20250812-WA0143-AQ9uEtFu.jpg",LA=Object.freeze(Object.defineProperty({__proto__:null,default:xA},Symbol.toStringTag,{value:"Module"})),jA="/assets/IMG-20250812-WA0144-CAE4MsSC.jpg",zA=Object.freeze(Object.defineProperty({__proto__:null,default:jA},Symbol.toStringTag,{value:"Module"})),BA="/assets/IMG-20250812-WA0145-BjKr6coE.jpg",GA=Object.freeze(Object.defineProperty({__proto__:null,default:BA},Symbol.toStringTag,{value:"Module"})),qA="/assets/IMG-20250812-WA0146-H3G8JBxG.jpg",HA=Object.freeze(Object.defineProperty({__proto__:null,default:qA},Symbol.toStringTag,{value:"Module"})),FA="/assets/IMG-20250812-WA0147-D6ra578Q.jpg",QA=Object.freeze(Object.defineProperty({__proto__:null,default:FA},Symbol.toStringTag,{value:"Module"})),KA="/assets/IMG-20250812-WA0148-B656K-YN.jpg",YA=Object.freeze(Object.defineProperty({__proto__:null,default:KA},Symbol.toStringTag,{value:"Module"})),WA="/assets/IMG-20250812-WA0149-Dm4yzx09.jpg",XA=Object.freeze(Object.defineProperty({__proto__:null,default:WA},Symbol.toStringTag,{value:"Module"})),ZA="/assets/IMG-20250812-WA0150-C2DbpjIq.jpg",$A=Object.freeze(Object.defineProperty({__proto__:null,default:ZA},Symbol.toStringTag,{value:"Module"})),JA="/assets/IMG-20250812-WA0151-DsXSJDge.jpg",tS=Object.freeze(Object.defineProperty({__proto__:null,default:JA},Symbol.toStringTag,{value:"Module"})),eS="/assets/IMG-20250812-WA0152-CcDiK6fN.jpg",nS=Object.freeze(Object.defineProperty({__proto__:null,default:eS},Symbol.toStringTag,{value:"Module"})),iS="/assets/IMG-20250812-WA0153-siDcMyiS.jpg",rS=Object.freeze(Object.defineProperty({__proto__:null,default:iS},Symbol.toStringTag,{value:"Module"})),sS="/assets/IMG-20250812-WA0154-CDlrc_8K.jpg",aS=Object.freeze(Object.defineProperty({__proto__:null,default:sS},Symbol.toStringTag,{value:"Module"})),oS="/assets/IMG-20250812-WA0155-B3GSY-LK.jpg",lS=Object.freeze(Object.defineProperty({__proto__:null,default:oS},Symbol.toStringTag,{value:"Module"})),uS="/assets/IMG-20250812-WA0156-DLOxLQrv.jpg",cS=Object.freeze(Object.defineProperty({__proto__:null,default:uS},Symbol.toStringTag,{value:"Module"})),hS="/assets/IMG-20250812-WA0157-FE3FBIIH.jpg",fS=Object.freeze(Object.defineProperty({__proto__:null,default:hS},Symbol.toStringTag,{value:"Module"})),dS="/assets/IMG-20250812-WA0158-DhmdiVy6.jpg",mS=Object.freeze(Object.defineProperty({__proto__:null,default:dS},Symbol.toStringTag,{value:"Module"})),gS="/assets/IMG-20250812-WA0159-D7cxsztV.jpg",pS=Object.freeze(Object.defineProperty({__proto__:null,default:gS},Symbol.toStringTag,{value:"Module"})),_S="/assets/IMG-20250812-WA0160-BULsanNf.jpg",yS=Object.freeze(Object.defineProperty({__proto__:null,default:_S},Symbol.toStringTag,{value:"Module"})),vS="/assets/IMG-20250812-WA0161-Dp-JkwDX.jpg",TS=Object.freeze(Object.defineProperty({__proto__:null,default:vS},Symbol.toStringTag,{value:"Module"})),ES="/assets/IMG-20250812-WA0162-CaZfyOOe.jpg",AS=Object.freeze(Object.defineProperty({__proto__:null,default:ES},Symbol.toStringTag,{value:"Module"})),SS="/assets/IMG-20250812-WA0163-BGrX20I3.jpg",bS=Object.freeze(Object.defineProperty({__proto__:null,default:SS},Symbol.toStringTag,{value:"Module"})),RS="/assets/IMG-20250812-WA0164-Ekvi2888.jpg",IS=Object.freeze(Object.defineProperty({__proto__:null,default:RS},Symbol.toStringTag,{value:"Module"})),wS="/assets/IMG-20250812-WA0165-Czq4cWN9.jpg",CS=Object.freeze(Object.defineProperty({__proto__:null,default:wS},Symbol.toStringTag,{value:"Module"})),MS="/assets/IMG-20250812-WA0166-CQgabkqp.jpg",OS=Object.freeze(Object.defineProperty({__proto__:null,default:MS},Symbol.toStringTag,{value:"Module"})),DS="/assets/IMG-20250812-WA0167-BakrnVbe.jpg",NS=Object.freeze(Object.defineProperty({__proto__:null,default:DS},Symbol.toStringTag,{value:"Module"})),VS="/assets/IMG-20250812-WA0168-CJVh9tI1.jpg",PS=Object.freeze(Object.defineProperty({__proto__:null,default:VS},Symbol.toStringTag,{value:"Module"})),US="/assets/IMG-20250812-WA0169-BQRZBVGG.jpg",kS=Object.freeze(Object.defineProperty({__proto__:null,default:US},Symbol.toStringTag,{value:"Module"})),xS="/assets/IMG-20250812-WA0170-DEU0104t.jpg",LS=Object.freeze(Object.defineProperty({__proto__:null,default:xS},Symbol.toStringTag,{value:"Module"})),jS="/assets/IMG-20250812-WA0171-Dpetz3if.jpg",zS=Object.freeze(Object.defineProperty({__proto__:null,default:jS},Symbol.toStringTag,{value:"Module"})),BS="/assets/IMG-20250812-WA0172-BE1U6AGH.jpg",GS=Object.freeze(Object.defineProperty({__proto__:null,default:BS},Symbol.toStringTag,{value:"Module"})),qS="/assets/IMG-20250812-WA0173-6GFB8Oeb.jpg",HS=Object.freeze(Object.defineProperty({__proto__:null,default:qS},Symbol.toStringTag,{value:"Module"})),FS="/assets/IMG-20250812-WA0174-D_f7Rf5u.jpg",QS=Object.freeze(Object.defineProperty({__proto__:null,default:FS},Symbol.toStringTag,{value:"Module"})),KS="/assets/IMG-20250812-WA0175-DE_J1jsJ.jpg",YS=Object.freeze(Object.defineProperty({__proto__:null,default:KS},Symbol.toStringTag,{value:"Module"})),WS=()=>{};var uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},XS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],g=a[i++],_=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,g=d?a[l+1]:0,_=l+2<a.length,v=_?a[l+2]:0,A=h>>2,M=(h&3)<<4|g>>4;let D=(g&15)<<2|v>>6,F=v&63;_||(F=64,d||(D=64)),s.push(i[A],i[M],i[D],i[F])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(k0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):XS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const M=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||g==null||v==null||M==null)throw new ZS;const D=h<<2|g>>4;if(s.push(D),v!==64){const F=g<<4&240|v>>2;if(s.push(F),M!==64){const H=v<<6&192|M;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class ZS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $S=function(a){const t=k0(a);return x0.encodeByteArray(t,!0)},wc=function(a){return $S(a).replace(/\./g,"")},L0=function(a){try{return x0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=()=>JS().__FIREBASE_DEFAULTS__,eb=()=>{if(typeof process>"u"||typeof uy>"u")return;const a=uy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},nb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&L0(a[1]);return t&&JSON.parse(t)},Qc=()=>{try{return WS()||tb()||eb()||nb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},j0=a=>Qc()?.emulatorHosts?.[a],ib=a=>{const t=j0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},z0=()=>Qc()?.config,B0=a=>Qc()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function G0(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[wc(JSON.stringify(i)),wc(JSON.stringify(d)),""].join(".")}const gl={};function ab(){const a={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?a.emulator.push(t):a.prod.push(t);return a}function ob(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let cy=!1;function q0(a,t){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||gl[a]===t||gl[a]||cy)return;gl[a]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=ab().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{cy=!0,d()},D}function A(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function M(){const D=ob(s),F=i("text"),H=document.getElementById(F)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),gt=i("preprendIcon"),lt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const at=D.element;g(at),A(Z,tt);const kt=v();_(lt,gt),at.append(lt,H,Z,kt),document.body.appendChild(at)}h?(H.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function ub(){const a=Qc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function db(){const a=We();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function mb(){return!ub()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="FirebaseError";class Fi extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=_b,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?yb(h,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Fi(l,g,s)}}function yb(a,t){return a.replace(vb,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const vb=/\{\$([^}]+)}/g;function Tb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ms(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const h=a[l],d=t[l];if(hy(h)&&hy(d)){if(!Ms(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function hy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Eb(a,t){const i=new Ab(a,t);return i.subscribe.bind(i)}class Ab{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");Sb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=yd),l.error===void 0&&(l.error=yd),l.complete===void 0&&(l.complete=yd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sb(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(a){return a&&a._delegate?a._delegate:a}class Os{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new rb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ib(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&t(h,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Rb(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rb(a){return a===bs?void 0:a}function Ib(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new bb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ct||(Ct={}));const Cb={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},Mb=Ct.INFO,Ob={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},Db=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=Ob[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nm{constructor(t){this.name=t,this._logLevel=Mb,this._logHandler=Db,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const Nb=(a,t)=>t.some(i=>a instanceof i);let fy,dy;function Vb(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pb(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,Od=new WeakMap,F0=new WeakMap,vd=new WeakMap,im=new WeakMap;function Ub(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(wr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&H0.set(i,a)}).catch(()=>{}),im.set(t,a),t}function kb(a){if(Od.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Od.set(a,t)}let Dd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Od.get(a);if(t==="objectStoreNames")return a.objectStoreNames||F0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function xb(a){Dd=a(Dd)}function Lb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Td(this),t,...i);return F0.set(s,t.sort?t.sort():[t]),wr(s)}:Pb().includes(a)?function(...t){return a.apply(Td(this),t),wr(H0.get(this))}:function(...t){return wr(a.apply(Td(this),t))}}function jb(a){return typeof a=="function"?Lb(a):(a instanceof IDBTransaction&&kb(a),Nb(a,Vb())?new Proxy(a,Dd):a)}function wr(a){if(a instanceof IDBRequest)return Ub(a);if(vd.has(a))return vd.get(a);const t=jb(a);return t!==a&&(vd.set(a,t),im.set(t,a)),t}const Td=a=>im.get(a);function zb(a,t,{blocked:i,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),g=wr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(wr(d.result),_.oldVersion,_.newVersion,wr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Bb=["get","getKey","getAll","getAllKeys","count"],Gb=["put","add","delete","clear"],Ed=new Map;function my(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Ed.get(t))return Ed.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=Gb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Bb.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&_.done]))[0]};return Ed.set(t,h),h}xb(a=>({...a,get:(t,i,s)=>my(t,i)||a.get(t,i,s),has:(t,i)=>!!my(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Hb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Hb(a){return a.getComponent()?.type==="VERSION"}const Nd="@firebase/app",gy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new nm("@firebase/app"),Fb="@firebase/app-compat",Qb="@firebase/analytics-compat",Kb="@firebase/analytics",Yb="@firebase/app-check-compat",Wb="@firebase/app-check",Xb="@firebase/auth",Zb="@firebase/auth-compat",$b="@firebase/database",Jb="@firebase/data-connect",t2="@firebase/database-compat",e2="@firebase/functions",n2="@firebase/functions-compat",i2="@firebase/installations",r2="@firebase/installations-compat",s2="@firebase/messaging",a2="@firebase/messaging-compat",o2="@firebase/performance",l2="@firebase/performance-compat",u2="@firebase/remote-config",c2="@firebase/remote-config-compat",h2="@firebase/storage",f2="@firebase/storage-compat",d2="@firebase/firestore",m2="@firebase/ai",g2="@firebase/firestore-compat",p2="firebase",_2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",y2={[Nd]:"fire-core",[Fb]:"fire-core-compat",[Kb]:"fire-analytics",[Qb]:"fire-analytics-compat",[Wb]:"fire-app-check",[Yb]:"fire-app-check-compat",[Xb]:"fire-auth",[Zb]:"fire-auth-compat",[$b]:"fire-rtdb",[Jb]:"fire-data-connect",[t2]:"fire-rtdb-compat",[e2]:"fire-fn",[n2]:"fire-fn-compat",[i2]:"fire-iid",[r2]:"fire-iid-compat",[s2]:"fire-fcm",[a2]:"fire-fcm-compat",[o2]:"fire-perf",[l2]:"fire-perf-compat",[u2]:"fire-rc",[c2]:"fire-rc-compat",[h2]:"fire-gcs",[f2]:"fire-gcs-compat",[d2]:"fire-fst",[g2]:"fire-fst-compat",[m2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,v2=new Map,Pd=new Map;function py(a,t){try{a.container.addComponent(t)}catch(i){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function za(a){const t=a.name;if(Pd.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,a);for(const i of Cc.values())py(i,a);for(const i of v2.values())py(i,a);return!0}function rm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function kn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new Dl("app","Firebase",T2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=_2;function Q0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:Vd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Cr.create("bad-app-name",{appName:String(l)});if(i||(i=z0()),!i)throw Cr.create("no-options");const h=Cc.get(l);if(h){if(Ms(i,h.options)&&Ms(s,h.config))return h;throw Cr.create("duplicate-app",{appName:l})}const d=new wb(l);for(const _ of Pd.values())d.addComponent(_);const g=new E2(i,s,d);return Cc.set(l,g),g}function K0(a=Vd){const t=Cc.get(a);if(!t&&a===Vd&&z0())return Q0();if(!t)throw Cr.create("no-app",{appName:a});return t}function Mr(a,t,i){let s=y2[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(d.join(" "));return}za(new Os(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",S2=1,El="firebase-heartbeat-store";let Ad=null;function Y0(){return Ad||(Ad=zb(A2,S2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(El)}catch(i){console.warn(i)}}}}).catch(a=>{throw Cr.create("idb-open",{originalErrorMessage:a.message})})),Ad}async function b2(a){try{const i=(await Y0()).transaction(El),s=await i.objectStore(El).get(W0(a));return await i.done,s}catch(t){if(t instanceof Fi)zi.warn(t.message);else{const i=Cr.create("idb-get",{originalErrorMessage:t?.message});zi.warn(i.message)}}}async function _y(a,t){try{const s=(await Y0()).transaction(El,"readwrite");await s.objectStore(El).put(t,W0(a)),await s.done}catch(i){if(i instanceof Fi)zi.warn(i.message);else{const s=Cr.create("idb-set",{originalErrorMessage:i?.message});zi.warn(s.message)}}}function W0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=1024,I2=30;class w2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new M2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>I2){const l=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yy(),{heartbeatsToSend:i,unsentEntries:s}=C2(this._heartbeatsCache.heartbeats),l=wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return zi.warn(t),""}}}function yy(){return new Date().toISOString().substring(0,10)}function C2(a,t=R2){const i=[];let s=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),vy(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),vy(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class M2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await b2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return _y(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return _y(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function vy(a){return wc(JSON.stringify({version:2,heartbeats:a})).length}function O2(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(a){za(new Os("platform-logger",t=>new qb(t),"PRIVATE")),za(new Os("heartbeat",t=>new w2(t),"PRIVATE")),Mr(Nd,gy,a),Mr(Nd,gy,"esm2020"),Mr("fire-js","")}D2("");var N2="firebase",V2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(N2,V2,"app");function X0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P2=X0,Z0=new Dl("auth","Firebase",X0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new nm("@firebase/auth");function U2(a,...t){Mc.logLevel<=Ct.WARN&&Mc.warn(`Auth (${Ya}): ${a}`,...t)}function _c(a,...t){Mc.logLevel<=Ct.ERROR&&Mc.error(`Auth (${Ya}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(a,...t){throw sm(a,...t)}function ii(a,...t){return sm(a,...t)}function $0(a,t,i){const s={...P2(),[t]:i};return new Dl("auth","Firebase",s).create(t,{appName:a.name})}function Or(a){return $0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return Z0.create(a,...t)}function _t(a,t,...i){if(!a)throw sm(t,...i)}function Li(a){const t="INTERNAL ASSERTION FAILED: "+a;throw _c(t),new Error(t)}function Gi(a,t){a||Li(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(){return typeof self<"u"&&self.location?.href||""}function k2(){return Ty()==="http:"||Ty()==="https:"}function Ty(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||hb()||"connection"in navigator)?navigator.onLine:!0}function L2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Gi(i>t,"Short delay should be less than long delay!"),this.isMobile=lb()||fb()}get(){return x2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(a,t){Gi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B2=new Vl(3e4,6e4);function Kc(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Wa(a,t,i,s,l={}){return tv(a,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const g=Nl({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:_,...h};return cb()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&Ka(a.emulatorConfig.host)&&(v.credentials="include"),J0.fetch()(await nv(a,a.config.apiHost,i,g),v)})}async function tv(a,t,i){a._canInitEmulator=!1;const s={...j2,...t};try{const l=new G2(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw hc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw hc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw hc(a,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw $0(a,A,v);Bi(a,A)}}catch(l){if(l instanceof Fi)throw l;Bi(a,"network-request-failed",{message:String(l)})}}async function ev(a,t,i,s,l={}){const h=await Wa(a,t,i,s,l);return"mfaPendingCredential"in h&&Bi(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function nv(a,t,i,s){const l=`${t}${i}?${s}`,h=a,d=h.config.emulator?am(a.config,l):`${a.config.apiScheme}://${l}`;return z2.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class G2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),B2.get())})}}function hc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ii(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(a,t){return Wa(a,"POST","/v1/accounts:delete",t)}async function Oc(a,t){return Wa(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function H2(a,t=!1){const i=mn(a),s=await i.getIdToken(t),l=om(s);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:s,authTime:pl(Sd(l.auth_time)),issuedAtTime:pl(Sd(l.iat)),expirationTime:pl(Sd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Sd(a){return Number(a)*1e3}function om(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{const l=L0(i);return l?JSON.parse(l):(_c("Failed to decode base64 JWT payload"),null)}catch(l){return _c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ey(a){const t=om(a);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Fi&&F2(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function F2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(a){const t=a.auth,i=await a.getIdToken(),s=await Al(a,Oc(t,{idToken:i}));_t(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const h=l.providerUserInfo?.length?iv(l.providerUserInfo):[],d=Y2(a.providerData,h),g=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,v=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new kd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function K2(a){const t=mn(a);await Dc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Y2(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function iv(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(a,t){const i=await tv(a,{},async()=>{const s=Nl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await nv(a,l,"/v1/token",`key=${h}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:s};return a.emulatorConfig&&Ka(a.emulatorConfig.host)&&(_.credentials="include"),J0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function X2(a,t){return Wa(a,"POST","/v2/accounts:revokeToken",Kc(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ey(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=Ey(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:h}=await W2(t,i);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:h}=i,d=new Ua;return s&&(_t(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(_t(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(a,t){_t(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class xn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new kd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Al(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return H2(this,t)}reload(){return K2(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Dc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Or(this.auth));const t=await this.getIdToken();return await Al(this,q2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:M,emailVerified:D,isAnonymous:F,providerData:H,stsTokenManager:tt}=i;_t(M&&tt,t,"internal-error");const Z=Ua.fromJSON(this.name,tt);_t(typeof M=="string",t,"internal-error"),Er(s,t.name),Er(l,t.name),_t(typeof D=="boolean",t,"internal-error"),_t(typeof F=="boolean",t,"internal-error"),Er(h,t.name),Er(d,t.name),Er(g,t.name),Er(_,t.name),Er(v,t.name),Er(A,t.name);const gt=new xn({uid:M,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:Z,createdAt:v,lastLoginAt:A});return H&&Array.isArray(H)&&(gt.providerData=H.map(lt=>({...lt}))),_&&(gt._redirectEventId=_),gt}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ua;l.updateFromServerResponse(i);const h=new xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Dc(h),h}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?iv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new Ua;g.updateFromIdToken(s);const _=new xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new kd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Map;function ji(a){Gi(a instanceof Function,"Expected a class definition");let t=Ay.get(a);return t?(Gi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Ay.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}rv.type="NONE";const Sy=rv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(a,t,i){return`firebase:${a}:${t}:${i}`}class ka{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=yc(this.userKey,l.apiKey,h),this.fullPersistenceKey=yc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Oc(this.auth,{idToken:t}).catch(()=>{});return i?xn._fromGetAccountInfoResponse(this.auth,i,t):null}return xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new ka(ji(Sy),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||ji(Sy);const d=yc(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let M;if(typeof A=="string"){const D=await Oc(t,{idToken:A}).catch(()=>{});if(!D)break;M=await xn._fromGetAccountInfoResponse(t,D,A)}else M=xn._fromJSON(t,A);v!==h&&(g=M),h=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new ka(h,t,s):(h=_[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new ka(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cv(t))return"Blackberry";if(hv(t))return"Webos";if(av(t))return"Safari";if((t.includes("chrome/")||ov(t))&&!t.includes("edge/"))return"Chrome";if(uv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function sv(a=We()){return/firefox\//i.test(a)}function av(a=We()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ov(a=We()){return/crios\//i.test(a)}function lv(a=We()){return/iemobile/i.test(a)}function uv(a=We()){return/android/i.test(a)}function cv(a=We()){return/blackberry/i.test(a)}function hv(a=We()){return/webos/i.test(a)}function lm(a=We()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Z2(a=We()){return lm(a)&&!!window.navigator?.standalone}function $2(){return db()&&document.documentMode===10}function fv(a=We()){return lm(a)||uv(a)||hv(a)||cv(a)||/windows phone/i.test(a)||lv(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(a,t=[]){let i;switch(a){case"Browser":i=by(We());break;case"Worker":i=`${by(We())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=h=>new Promise((d,g)=>{try{const _=t(h);d(_)}catch(_){g(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(a,t={}){return Wa(a,"GET","/v2/passwordPolicy",Kc(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=6;class nR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??eR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ry(this),this.idTokenSubscription=new Ry(this),this.beforeStateQueue=new J2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Oc(this,{idToken:t}),s=await xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Dc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=L2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Or(this));const i=t?mn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tR(this),i=new nR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await X2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ji(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&U2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Yc(a){return mn(a)}class Ry{constructor(t){this.auth=t,this.observer=null,this.addObserver=Eb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rR(a){um=a}function sR(a){return um.loadJS(a)}function aR(){return um.gapiScript}function oR(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(a,t){const i=rm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Ms(h,t??{}))return l;Bi(l,"already-initialized")}return i.initialize({options:t})}function uR(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ji);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function cR(a,t,i){const s=Yc(a);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=mv(t),{host:d,port:g}=hR(t),_=g===null?"":`:${g}`,v={url:`${h}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Ms(v,s.config.emulator)&&Ms(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Ka(d)?(G0(`${h}//${d}${_}`),q0("Auth",!0)):fR()}function mv(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function hR(a){const t=mv(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:Iy(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:Iy(d)}}}function Iy(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function fR(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Li("not implemented")}_getIdTokenResponse(t){return Li("not implemented")}_linkToIdToken(t,i){return Li("not implemented")}_getReauthenticationResolver(t){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(a,t){return ev(a,"POST","/v1/accounts:signInWithIdp",Kc(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="http://localhost";class Ds extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ds(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Bi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...h}=i;if(!s||!l)return null;const d=new Ds(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return xa(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,xa(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,xa(t,i)}buildRequest(){const t={requestUri:dR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Nl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends pv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Pl{constructor(){super("facebook.com")}static credential(t){return Ds._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ds._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Sr.credential(i,s)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Pl{constructor(){super("github.com")}static credential(t){return Ds._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Pl{constructor(){super("twitter.com")}static credential(t,i){return Ds._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Rr.credential(i,s)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(a,t){return ev(a,"POST","/v1/accounts:signUp",Kc(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const h=await xn._fromIdTokenResponse(t,s,l),d=wy(s);return new Vr({user:h,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=wy(s);return new Vr({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function wy(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(a){if(kn(a.app))return Promise.reject(Or(a));const t=Yc(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Vr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await mR(t,{returnSecureToken:!0}),s=await Vr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Fi{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Nc(t,i,s,l)}}function _v(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(a,h,t,s):h})}async function pR(a,t,i=!1){const s=await Al(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Vr._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(a,t,i=!1){const{auth:s}=a;if(kn(s.app))return Promise.reject(Or(s));const l="reauthenticate";try{const h=await Al(a,_v(s,l,t,a),i);_t(h.idToken,s,"internal-error");const d=om(h.idToken);_t(d,s,"internal-error");const{sub:g}=d;return _t(a.uid===g,s,"user-mismatch"),Vr._forOperation(a,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Bi(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(a,t,i=!1){if(kn(a.app))return Promise.reject(Or(a));const s="signIn",l=await _v(a,s,t),h=await Vr._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(h.user),h}function vR(a,t,i,s){return mn(a).onIdTokenChanged(t,i,s)}function TR(a,t,i){return mn(a).beforeAuthStateChanged(t,i)}function ER(a,t,i,s){return mn(a).onAuthStateChanged(t,i,s)}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=1e3,SR=10;class vv extends yv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);$2()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,SR):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},AR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}vv.type="LOCAL";const bR=vv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends yv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Tv.type="SESSION";const Ev=Tv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Wc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,h)),_=await RR(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,_)=>{const v=cm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(M){const D=M;if(D.data.eventId===v)switch(D.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(D.data.response);break;default:clearTimeout(A),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function wR(a){ri().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function CR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MR(){return navigator?.serviceWorker?.controller||null}function OR(){return Av()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="firebaseLocalStorageDb",DR=1,Pc="firebaseLocalStorage",bv="fbase_key";class Ul{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Xc(a,t){return a.transaction([Pc],t?"readwrite":"readonly").objectStore(Pc)}function NR(){const a=indexedDB.deleteDatabase(Sv);return new Ul(a).toPromise()}function xd(){const a=indexedDB.open(Sv,DR);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Pc,{keyPath:bv})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Pc)?t(s):(s.close(),await NR(),t(await xd()))})})}async function Cy(a,t,i){const s=Xc(a,!0).put({[bv]:t,value:i});return new Ul(s).toPromise()}async function VR(a,t){const i=Xc(a,!1).get(t),s=await new Ul(i).toPromise();return s===void 0?null:s.value}function My(a,t){const i=Xc(a,!0).delete(t);return new Ul(i).toPromise()}const PR=800,UR=3;class Rv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>UR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Av()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(OR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CR(),!this.activeServiceWorker)return;this.sender=new IR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||MR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xd();return await Cy(t,Vc,"1"),await My(t,Vc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cy(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>VR(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>My(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Xc(l,!1).getAll();return new Ul(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rv.type="LOCAL";const kR=Rv;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(a,t){return t?ji(t):(_t(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends gv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function LR(a){return yR(a.auth,new hm(a),a.bypassAuthState)}function jR(a){const{auth:t,user:i}=a;return _t(i,t,"internal-error"),_R(i,new hm(a),a.bypassAuthState)}async function zR(a){const{auth:t,user:i}=a;return _t(i,t,"internal-error"),pR(i,new hm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,i,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return LR;case"linkViaPopup":case"linkViaRedirect":return zR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:Bi(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Vl(2e3,1e4);class Pa extends Iv{constructor(t,i,s,l,h){super(t,i,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,BR.get())};t()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="pendingRedirect",vc=new Map;class qR extends Iv{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=vc.get(this.auth._key());if(!t){try{const s=await HR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}vc.set(this.auth._key(),t)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HR(a,t){const i=KR(t),s=QR(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function FR(a,t){vc.set(a._key(),t)}function QR(a){return ji(a._redirectPersistence)}function KR(a){return yc(GR,a.config.apiKey,a.name)}async function YR(a,t,i=!1){if(kn(a.app))return Promise.reject(Or(a));const s=Yc(a),l=xR(s,t),d=await new qR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=600*1e3;class XR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!wv(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oy(t))}saveEventToCache(t){this.cachedEventUids.add(Oy(t)),this.lastProcessedEventTime=Date.now()}}function Oy(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function wv({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function ZR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wv(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(a,t={}){return Wa(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tI=/^https?/;async function eI(a){if(a.config.emulator)return;const{authorizedDomains:t}=await $R(a);for(const i of t)try{if(nI(i))return}catch{}Bi(a,"unauthorized-domain")}function nI(a){const t=Ud(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!tI.test(i))return!1;if(JR.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Vl(3e4,6e4);function Dy(){const a=ri().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function rI(a){return new Promise((t,i)=>{function s(){Dy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dy(),i(ii(a,"network-request-failed"))},timeout:iI.get()})}if(ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ri().gapi?.load)s();else{const l=oR("iframefcb");return ri()[l]=()=>{gapi.load?s():i(ii(a,"network-request-failed"))},sR(`${aR()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Tc=null,t})}let Tc=null;function sI(a){return Tc=Tc||rI(a),Tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Vl(5e3,15e3),oI="__/auth/iframe",lI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(a){const t=a.config;_t(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?am(t,lI):`https://${a.config.authDomain}/${oI}`,s={apiKey:t.apiKey,appName:a.name,v:Ya},l=cI.get(a.config.apiHost);l&&(s.eid=l);const h=a._getFrameworks();return h.length&&(s.fw=h.join(",")),`${i}?${Nl(s).slice(1)}`}async function fI(a){const t=await sI(a),i=ri().gapi;return _t(i,a,"internal-error"),t.open({where:document.body,url:hI(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=ii(a,"network-request-failed"),g=ri().setTimeout(()=>{h(d)},aI.get());function _(){ri().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mI=500,gI=600,pI="_blank",_I="http://localhost";class Ny{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yI(a,t,i,s=mI,l=gI){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _={...dI,width:s.toString(),height:l.toString(),top:h,left:d},v=We().toLowerCase();i&&(g=ov(v)?pI:i),sv(v)&&(t=t||_I,_.scrollbars="yes");const A=Object.entries(_).reduce((D,[F,H])=>`${D}${F}=${H},`,"");if(Z2(v)&&g!=="_self")return vI(t||"",g),new Ny(null);const M=window.open(t||"",g,A);_t(M,a,"popup-blocked");try{M.focus()}catch{}return new Ny(M)}function vI(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="__/auth/handler",EI="emulator/auth/handler",AI=encodeURIComponent("fac");async function Vy(a,t,i,s,l,h){_t(a.config.authDomain,a,"auth-domain-config-required"),_t(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Ya,eventId:l};if(t instanceof pv){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",Tb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,M]of Object.entries({}))d[A]=M}if(t instanceof Pl){const A=t.getScopes().filter(M=>M!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await a._getAppCheckToken(),v=_?`#${AI}=${encodeURIComponent(_)}`:"";return`${SI(a)}?${Nl(g).slice(1)}${v}`}function SI({config:a}){return a.emulator?am(a,EI):`https://${a.authDomain}/${TI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class bI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ev,this._completeRedirectFn=YR,this._overrideRedirectResult=FR}async _openPopup(t,i,s,l){Gi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Vy(t,i,s,Ud(),l);return yI(t,h,cm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const h=await Vy(t,i,s,Ud(),l);return wR(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Gi(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await fI(t),s=new XR(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(bd,{type:bd},l=>{const h=l?.[0]?.[bd];h!==void 0&&i(!!h),Bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return fv()||av()||lm()}}const RI=bI;var Py="@firebase/auth",Uy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CI(a){za(new Os("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dv(a)},v=new iR(s,l,h,_);return uR(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),za(new Os("auth-internal",t=>{const i=Yc(t.getProvider("auth").getImmediate());return(s=>new II(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(Py,Uy,wI(a)),Mr(Py,Uy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=300,OI=B0("authIdTokenMaxAge")||MI;let ky=null;const DI=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>OI)return;const l=i?.token;ky!==l&&(ky=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function NI(a=K0()){const t=rm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=lR(a,{popupRedirectResolver:RI,persistence:[kR,bR,Ev]}),s=B0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=DI(h.toString());TR(i,d,()=>d(i.currentUser)),vR(i,g=>d(g))}}const l=j0("auth");return l&&cR(i,`http://${l}`),i}function VI(){return document.getElementsByTagName("head")?.[0]??document}rR({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const h=ii("internal-error");h.customData=l,i(h)},s.type="text/javascript",s.charset="UTF-8",VI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CI("Browser");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,Cv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function I(){}I.prototype=S.prototype,V.D=S.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(O,N,U){for(var R=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)R[Pe-2]=arguments[Pe];return S.prototype[N].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,I){I||(I=0);var O=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)O[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;16>N;++N)O[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=V.g[0],I=V.g[1],N=V.g[2];var U=V.g[3],R=S+(U^I&(N^U))+O[0]+3614090360&4294967295;S=I+(R<<7&4294967295|R>>>25),R=U+(N^S&(I^N))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(I^U&(S^I))+O[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(S^N&(U^S))+O[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(U^I&(N^U))+O[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(N^S&(I^N))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(I^U&(S^I))+O[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(S^N&(U^S))+O[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(U^I&(N^U))+O[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(N^S&(I^N))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(I^U&(S^I))+O[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(S^N&(U^S))+O[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(U^I&(N^U))+O[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(N^S&(I^N))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(I^U&(S^I))+O[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(S^N&(U^S))+O[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(I^N))+O[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(S^I))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(U^S))+O[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(N^U))+O[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(I^N))+O[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(S^I))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(U^S))+O[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(N^U))+O[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(I^N))+O[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(S^I))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(U^S))+O[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(N^U))+O[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(I^N))+O[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(S^I))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(U^S))+O[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(N^U))+O[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(I^N^U)+O[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^N)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^I)+O[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^S)+O[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^U)+O[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^N)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^I)+O[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^S)+O[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^U)+O[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^N)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^I)+O[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^S)+O[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^U)+O[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^N)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^I)+O[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^S)+O[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(N^(I|~U))+O[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~N))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~I))+O[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~S))+O[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~U))+O[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~N))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~I))+O[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~S))+O[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~U))+O[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~N))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~I))+O[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~S))+O[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~U))+O[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~N))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~I))+O[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~S))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var I=S-this.blockSize,O=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=I;)l(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<S;)if(O[N++]=V.charCodeAt(U++),N==this.blockSize){l(this,O),N=0;break}}else for(;U<S;)if(O[N++]=V[U++],N==this.blockSize){l(this,O),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var I=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=I&255,I/=256;for(this.u(V),V=Array(16),S=I=0;4>S;++S)for(var O=0;32>O;O+=8)V[I++]=this.g[S]>>>O&255;return V};function h(V,S){var I=g;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=S(V)}function d(V,S){this.h=S;for(var I=[],O=!0,N=V.length-1;0<=N;N--){var U=V[N]|0;O&&U==S||(I[N]=U,O=!1)}this.g=I}var g={};function _(V){return-128<=V&&128>V?h(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return M;if(0>V)return Z(v(-V));for(var S=[],I=1,O=0;V>=I;O++)S[O]=V/I|0,I*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Z(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(S,8)),O=M,N=0;N<V.length;N+=8){var U=Math.min(8,V.length-N),R=parseInt(V.substring(N,N+U),S);8>U?(U=v(Math.pow(S,U)),O=O.j(U).add(v(R))):(O=O.j(I),O=O.add(v(R)))}return O}var M=_(0),D=_(1),F=_(16777216);a=d.prototype,a.m=function(){if(tt(this))return-Z(this).m();for(var V=0,S=1,I=0;I<this.g.length;I++){var O=this.i(I);V+=(0<=O?O:4294967296+O)*S,S*=4294967296}return V},a.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(H(this))return"0";if(tt(this))return"-"+Z(this).toString(V);for(var S=v(Math.pow(V,6)),I=this,O="";;){var N=kt(I,S).g;I=gt(I,N.j(S));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=N,H(I))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},a.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function H(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function tt(V){return V.h==-1}a.l=function(V){return V=gt(this,V),tt(V)?-1:H(V)?0:1};function Z(V){for(var S=V.g.length,I=[],O=0;O<S;O++)I[O]=~V.g[O];return new d(I,~V.h).add(D)}a.abs=function(){return tt(this)?Z(this):this},a.add=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],O=0,N=0;N<=S;N++){var U=O+(this.i(N)&65535)+(V.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);O=R>>>16,U&=65535,R&=65535,I[N]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function gt(V,S){return V.add(Z(S))}a.j=function(V){if(H(this)||H(V))return M;if(tt(this))return tt(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(tt(V))return Z(this.j(Z(V)));if(0>this.l(F)&&0>V.l(F))return v(this.m()*V.m());for(var S=this.g.length+V.g.length,I=[],O=0;O<2*S;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<V.g.length;N++){var U=this.i(O)>>>16,R=this.i(O)&65535,Pe=V.i(N)>>>16,re=V.i(N)&65535;I[2*O+2*N]+=R*re,lt(I,2*O+2*N),I[2*O+2*N+1]+=U*re,lt(I,2*O+2*N+1),I[2*O+2*N+1]+=R*Pe,lt(I,2*O+2*N+1),I[2*O+2*N+2]+=U*Pe,lt(I,2*O+2*N+2)}for(O=0;O<S;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=S;O<2*S;O++)I[O]=0;return new d(I,0)};function lt(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function at(V,S){this.g=V,this.h=S}function kt(V,S){if(H(S))throw Error("division by zero");if(H(V))return new at(M,M);if(tt(V))return S=kt(Z(V),S),new at(Z(S.g),Z(S.h));if(tt(S))return S=kt(V,Z(S)),new at(Z(S.g),S.h);if(30<V.g.length){if(tt(V)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=D,O=S;0>=O.l(V);)I=vt(I),O=vt(O);var N=jt(I,1),U=jt(O,1);for(O=jt(O,2),I=jt(I,2);!H(O);){var R=U.add(O);0>=R.l(V)&&(N=N.add(I),U=R),O=jt(O,1),I=jt(I,1)}return S=gt(V,N.j(S)),new at(N,S)}for(N=M;0<=V.l(S);){for(I=Math.max(1,Math.floor(V.m()/S.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(I),R=U.j(S);tt(R)||0<R.l(V);)I-=O,U=v(I),R=U.j(S);H(U)&&(U=D),N=N.add(U),V=gt(V,R)}return new at(N,V)}a.A=function(V){return kt(this,V).h},a.and=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)&V.i(O);return new d(I,this.h&V.h)},a.or=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)|V.i(O);return new d(I,this.h|V.h)},a.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)^V.i(O);return new d(I,this.h^V.h)};function vt(V){for(var S=V.g.length+1,I=[],O=0;O<S;O++)I[O]=V.i(O)<<1|V.i(O-1)>>>31;return new d(I,V.h)}function jt(V,S){var I=S>>5;S%=32;for(var O=V.g.length-I,N=[],U=0;U<O;U++)N[U]=0<S?V.i(U+I)>>>S|V.i(U+I+1)<<32-S:V.i(U+I);return new d(N,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Cv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Dr=d}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mv,hl,Ov,Ec,Ld,Dv,Nv,Vv;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var p=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var k=u[E];if(!(k in p))break t;p=p[k]}u=u[u.length-1],E=p[u],m=m(E),m!=E&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,E=!1,k={next:function(){if(!E&&p<u.length){var B=p++;return{value:m(B,u[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function M(u,m,p){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,E),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:M,D.apply(null,arguments)}function F(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function H(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(E,k,B){for(var J=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)J[Dt-2]=arguments[Dt];return m.prototype[k].apply(E,J)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let E=0;E<m;E++)p[E]=u[E];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const E=arguments[p];if(_(E)){const k=u.length||0,B=E.length||0;u.length=k+B;for(let J=0;J<B;J++)u[k+J]=E[J]}else u.push(E)}}class gt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function kt(u){return kt[" "](u),u}kt[" "]=function(){};var vt=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function jt(u,m,p){for(const E in u)m.call(p,u[E],E,u)}function V(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,E;for(let k=1;k<arguments.length;k++){E=arguments[k];for(p in E)u[p]=E[p];for(let B=0;B<I.length;B++)p=I[B],Object.prototype.hasOwnProperty.call(E,p)&&(u[p]=E[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=xt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,p){const E=re.get();E.set(m,p),this.h?this.h.next=E:this.g=E,this.h=E}}var re=new gt(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,xt=new Pe,w=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(W)}};var W=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){U(p)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{kt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}H(bt,$);var yt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function jn(u,m,p,E,k){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!E,this.ha=k,this.key=++Xt,this.da=this.fa=!1}function Qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fi(u){this.src=u,this.g={},this.h=0}fi.prototype.add=function(u,m,p,E,k){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var J=Br(u,m,E,k);return-1<J?(m=u[J],p||(m.fa=!1)):(m=new jn(m,this.src,B,!!E,k),m.fa=p,u.push(m)),m};function zr(u,m){var p=m.type;if(p in u.g){var E=u.g[p],k=Array.prototype.indexOf.call(E,m,void 0),B;(B=0<=k)&&Array.prototype.splice.call(E,k,1),B&&(Qi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Br(u,m,p,E){for(var k=0;k<u.length;++k){var B=u[k];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==E)return k}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),to={};function Bl(u,m,p,E,k){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Bl(u,m[B],p,E,k);return null}return p=Gl(p),u&&u[we]?u.K(m,p,v(E)?!!E.capture:!1,k):gn(u,m,p,!1,E,k)}function gn(u,m,p,E,k,B){if(!m)throw Error("Invalid event type");var J=v(k)?!!k.capture:!!k,Dt=js(u);if(Dt||(u[Gr]=Dt=new fi(u)),p=Dt.add(m,p,E,J,B),p.proxy)return p;if(E=hh(),p.proxy=E,E.src=u,E.listener=p,u.addEventListener)ct||(k=J),k===void 0&&(k=!1),u.addEventListener(m.toString(),E,k);else if(u.attachEvent)u.attachEvent(qr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function hh(){function u(p){return m.call(u.src,u.listener,p)}const m=fh;return u}function eo(u,m,p,E,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)eo(u,m[B],p,E,k);else E=v(E)?!!E.capture:!!E,p=Gl(p),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],p=Br(B,p,E,k),-1<p&&(Qi(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Br(m,p,E,k)),(p=-1<u?m[u]:null)&&Ls(p))}function Ls(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])zr(m.i,u);else{var p=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(p,E,u.capture):m.detachEvent?m.detachEvent(qr(p),E):m.addListener&&m.removeListener&&m.removeListener(E),(p=js(m))?(zr(p,u),p.h==0&&(p.src=null,m[Gr]=null)):Qi(u)}}}function qr(u){return u in to?to[u]:to[u]="on"+u}function fh(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,E=u.ha||u.src;u.fa&&Ls(u),u=p.call(E,m)}return u}function js(u){return u=u[Gr],u instanceof fi?u:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gl(u){return typeof u=="function"?u:(u[no]||(u[no]=function(m){return u.handleEvent(m)}),u[no])}function se(){nt.call(this),this.i=new fi(this),this.M=this,this.F=null}H(se,nt),se.prototype[we]=!0,se.prototype.removeEventListener=function(u,m,p,E){eo(this,u,m,p,E)};function Gt(u,m){var p,E=u.F;if(E)for(p=[];E;E=E.F)p.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var k=m;m=new $(E,u),O(m,k)}if(k=!0,p)for(var B=p.length-1;0<=B;B--){var J=m.g=p[B];k=sn(J,E,!0,m)&&k}if(J=m.g=u,k=sn(J,E,!0,m)&&k,k=sn(J,E,!1,m)&&k,p)for(B=0;B<p.length;B++)J=m.g=p[B],k=sn(J,E,!1,m)&&k}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],E=0;E<p.length;E++)Qi(p[E]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,E){return this.i.add(String(u),m,!1,p,E)},se.prototype.L=function(u,m,p,E){return this.i.add(String(u),m,!0,p,E)};function sn(u,m,p,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,B=0;B<m.length;++B){var J=m[B];if(J&&!J.da&&J.capture==p){var Dt=J.listener,Te=J.ha||J.src;J.fa&&zr(u.i,J),k=Dt.call(Te,E)!==!1&&k}}return k&&!E.defaultPrevented}function qe(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ql(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class dh extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){nt.call(this),this.h=u,this.g={}}H(Hr,nt);var Fr=[];function Qr(u){jt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ls(m)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),Qr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,zs=g.JSON.parse,Kr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function io(){}io.prototype.h=null;function ro(u){return u.h||(u.h=u.i())}function so(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){$.call(this,"d")}H(mi,$);function ao(){$.call(this,"c")}H(ao,$);var zn={},oo=null;function Ki(){return oo=oo||new se}zn.La="serverreachability";function Bs(u){$.call(this,zn.La,u)}H(Bs,$);function Yi(u){const m=Ki();Gt(m,new Bs(m))}zn.STAT_EVENT="statevent";function Hl(u,m){$.call(this,zn.STAT_EVENT,u),this.stat=m}H(Hl,$);function te(u){const m=Ki();Gt(m,new Hl(m,u))}zn.Ma="timingevent";function ve(u,m){$.call(this,zn.Ma,u),this.size=m}H(ve,$);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function lo(u,m,p,E,k,B){u.info(function(){if(u.g)if(B)for(var J="",Dt=B.split("&"),Te=0;Te<Dt.length;Te++){var Nt=Dt[Te].split("=");if(1<Nt.length){var Me=Nt[0];Nt=Nt[1];var Ee=Me.split("_");J=2<=Ee.length&&Ee[1]=="type"?J+(Me+"="+Nt+"&"):J+(Me+"=redacted&")}}else J=null;else J=B;return"XMLHTTP REQ ("+E+") [attempt "+k+"]: "+m+`
`+p+`
`+J})}function mh(u,m,p,E,k,B,J){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+k+"]: "+m+`
`+p+`
`+B+" "+J})}function Wi(u,m,p,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yr(u,p)+(E?" "+E:"")})}function Fl(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Yr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var E=p[u];if(!(2>E.length)){var k=E[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(var J=1;J<k.length;J++)k[J]=""}}}}return On(p)}catch{return m}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function Gn(){}H(Gn,io),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Bn=new Gn;function Xe(u,m,p,E){this.j=u,this.i=m,this.l=p,this.R=E||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var uo={},Gs={};function Dn(u,m,p){u.L=1,u.v=Jr(an(m)),u.m=p,u.P=!0,pi(u,null)}function pi(u,m){u.F=Date.now(),Wr(u),u.A=an(u.v);var p=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),po(p.i,"t",E),u.C=0,p=u.j.J,u.h=new ue,u.g=ou(u.j,p?m:null,!u.m),0<u.O&&(u.M=new dh(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,E=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Fr[0]=k.toString()),k=Fr);for(var B=0;B<k.length;B++){var J=Bl(p,k[B],E||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Yi(),lo(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=Tn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=bi?Yi(3):Yi(2)),Zi(this);var p=this.g.Z();this.X=p;e:if(Ql(this)){var E=Jl(this.g);u="";var k=E.length,B=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),qn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(B&&m==k-1)});E.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=p==200,mh(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Dt,Te=this.g;if((Dt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Dt)){var Nt=Dt;break e}}Nt=null}if(p=Nt)Wi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xr(this,p);else{this.o=!1,this.s=3,te(12),Ue(this),qn(this);break t}}if(this.P){p=!0;let ke;for(;!this.J&&this.C<J.length;)if(ke=Kl(this,J),ke==Gs){Ee==4&&(this.s=4,te(14),p=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==uo){this.s=4,te(15),Wi(this.i,this.l,J,"[Invalid Chunk]"),p=!1;break}else Wi(this.i,this.l,ke,null),Xr(this,ke);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||J.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)Wi(this.i,this.l,J,"[Invalid Chunked Response]"),Ue(this),qn(this);else if(0<J.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),os(Me),Me.M=!0,te(11))}}else Wi(this.i,this.l,J,null),Xr(this,J);Ee==4&&Ue(this),this.o&&!this.J&&(Ee==4?ru(this.j,this):(this.o=!1,Wr(this)))}else vh(this.g),p==400&&0<J.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ue(this),qn(this)}}}catch{}finally{}};function Ql(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Kl(u,m){var p=u.C,E=m.indexOf(`
`,p);return E==-1?Gs:(p=Number(m.substring(p,E)),isNaN(p)?uo:(E+=1,E+p>m.length?Gs:(m=m.slice(E,E+p),u.C=E+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Wr(u){u.S=Date.now()+u.I,Yl(u,u.I)}function Yl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(D(u.ba,u),m)}function Zi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fl(this.i,this.A),this.L!=2&&(Yi(),te(17)),Ue(this),this.s=2,qn(this)):Yl(this,this.S-u)};function qn(u){u.j.G==0||u.J||ru(u.j,u)}function Ue(u){Zi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Qr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Xr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||co(p.h,u))){if(!u.K&&co(p.h,u)&&p.G==3){try{var E=p.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var k=E;if(k[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)ta(p),$s(p);else break t;Eo(p),te(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(D(p.Za,p),6e3));if(1>=Hs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Si(p,11)}else if((u.K||p.g==u)&&ta(p),!lt(m))for(k=p.Da.g.parse(m),m=0;m<k.length;m++){let Nt=k[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Me=Nt[3];Me!=null&&(p.la=Me,p.j.info("VER="+p.la));const Ee=Nt[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const bi=Nt[5];bi!=null&&typeof bi=="number"&&0<bi&&(E=1.5*bi,p.L=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const ke=u.g;if(ke){const Xn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var B=E.h;B.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Fs(B,B.h),B.h=null))}if(E.D){const So=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(E.ya=So,Ft(E.I,E.D,So))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),E=p;var J=u;if(E.qa=au(E,E.J?E.ia:null,E.W),J.K){Ze(E.h,J);var Dt=J,Te=E.L;Te&&(Dt.I=Te),Dt.B&&(Zi(Dt),Wr(Dt)),E.g=J}else nu(E);0<p.i.length&&Js(p)}else Nt[0]!="stop"&&Nt[0]!="close"||Si(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Si(p,7):vo(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}Yi(4)}catch{}}var Wl=class{constructor(u,m){this.g=u,this.map=m}};function _i(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function co(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fs(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_i.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ho(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function gh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,E=0;E<p;E++)m.push(u[E]);return m}m=[],p=0;for(E in u)m[p++]=u[E];return m}function Qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const E in u)m[p++]=E;return m}}}function fo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Qs(u),E=gh(u),k=E.length,B=0;B<k;B++)m.call(void 0,E[B],p&&p[B],u)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var E=u[p].indexOf("="),k=null;if(0<=E){var B=u[p].substring(0,E);k=u[p].substring(E+1)}else B=u[p];m(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,$r(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,p=new vi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),yi(this,p),this.m=u.m}else u&&(m=String(u).match(Zr))?(this.h=!1,$r(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),$i(this,m[4]),this.l=_n(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ts(m,mo,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ts(m,mo,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ts(p,p.charAt(0)=="/"?_h:go,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ts(p,Ks)),u.join("")};function an(u){return new me(u)}function $r(u,m,p){u.j=p?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,p){m instanceof vi?(u.i=m,Zl(u.i,u.h)):(p||(m=ts(m,yh)),u.i=new vi(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function Jr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ts(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Xl),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,go=/[#\?:]/g,_h=/[#\?]/g,yh=/[#\?@]/g,Ks=/#/g;function vi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&ph(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=vi.prototype,a.add=function(u,m){yn(this),this.i=null,u=Hn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ti(u,m){yn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return yn(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){yn(this),this.g.forEach(function(p,E){p.forEach(function(k){u.call(m,k,E,this)},this)},this)},a.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let E=0;E<m.length;E++){const k=u[E];for(let B=0;B<k.length;B++)p.push(m[E])}return p},a.V=function(u){yn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return yn(this),this.i=null,u=Hn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function po(u,m,p){Ti(u,m),0<p.length&&(u.i=null,u.g.set(Hn(u,m),tt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var E=m[p];const B=encodeURIComponent(String(E)),J=this.V(E);for(E=0;E<J.length;E++){var k=B;J[E]!==""&&(k+="="+encodeURIComponent(String(J[E]))),u.push(k)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zl(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(p,E){var k=E.toLowerCase();E!=k&&(Ti(this,E),po(this,k,p))},u)),u.j=m}function es(u,m){const p=new pn;if(g.Image){const E=new Image;E.onload=F(vn,p,"TestLoadImage: loaded",!0,m,E),E.onerror=F(vn,p,"TestLoadImage: error",!1,m,E),E.onabort=F(vn,p,"TestLoadImage: abort",!1,m,E),E.ontimeout=F(vn,p,"TestLoadImage: timeout",!1,m,E),g.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Nn(u,m){const p=new pn,E=new AbortController,k=setTimeout(()=>{E.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(k),B.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,E,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),E(p)}catch{}}function ns(){this.g=new Kr}function Fn(u,m,p){const E=p||"";try{fo(u,function(k,B){let J=k;v(k)&&(J=On(k)),m.push(E+B+"="+encodeURIComponent(J))})}catch(k){throw m.push(E+"type="+encodeURIComponent("_badmap")),k}}function Ji(u){this.l=u.Ub||null,this.j=u.eb||!1}H(Ji,io),Ji.prototype.g=function(){return new Ai(this.l,this.j)},Ji.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Ai,se),a=Ai.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Kn(this),this.readyState==3&&_o(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},a.Qa=function(u){this.g&&(this.response=u,Qn(this))},a.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yo(u){let m="";return jt(u,function(p,E){m+=E,m+=":",m+=p,m+=`\r
`}),m}function Ce(u,m,p){t:{for(E in p){var E=!1;break t}E=!0}E||(p=yo(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function zt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(zt,se);var Ys=/^https?$/i,is=["POST","PUT"];a=zt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?ro(this.o):ro(Bn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){$l(this,B);return}if(u=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var k in E)p.set(k,E[k]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())p.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(is,m,void 0))||E||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of p)this.g.setRequestHeader(B,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){$l(this,B)}};function $l(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ws(u),Yn(u)}function Ws(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),zt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},a.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)qe(u.Ea,0,u);else if(Gt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var E;if(E=J===0){var k=String(u.D).match(Zr)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),E=!Ys.test(k?k.toLowerCase():"")}p=E}if(p)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var B=2<Tn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Ws(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){rs(u);const p=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{p.onreadystatechange=E}catch{}}}function rs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zs(m)}};function Jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vh(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(lt(u[E]))continue;var p=N(u[E]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[k]||[];m[k]=B,B.push(p)}V(m,function(E){return E.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Zs(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,u),this.cb=ss("retryDelaySeedMs",1e4,u),this.Wa=ss("forwardChannelMaxRetries",2,u),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(u&&u.concurrentRequestLimit),this.Da=new ns,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Zs.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,E){te(0),this.W=u,this.H=m||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.I=au(this,null,this.W),Js(this)};function vo(u){if(tu(u),u.G==3){var m=u.U++,p=an(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),as(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=Jr(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=ou(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wr(m)}su(u)}function $s(u){u.g&&(os(u),u.g.cancel(),u.g=null)}function tu(u){$s(u),u.u&&(g.clearTimeout(u.u),u.u=null),ta(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Js(u){if(!qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||w(),ut||(et(),ut=!0),xt.add(m,u),u.B=0}}function Th(u,m){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(D(u.Ga,u,m),Ao(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Xe(this,this.j,u);let B=this.o;if(this.S&&(B?(B=S(B),O(B,this.S)):B=this.S),this.m!==null||this.O||(k.H=B,B=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=eu(this,k,m),p=an(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),as(this,p),B&&(this.O?m="headers="+encodeURIComponent(String(yo(B)))+"&"+m:this.m&&Ce(p,this.m,B)),Fs(this.h,k),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),k.T=!0,Dn(k,p,null)):Dn(k,p,m),this.G=2}}else this.G==3&&(u?To(this,u):this.i.length==0||qs(this.h)||To(this))};function To(u,m){var p;m?p=m.l:p=u.U++;const E=an(u.I);Ft(E,"SID",u.K),Ft(E,"RID",p),Ft(E,"AID",u.T),as(u,E),u.m&&u.o&&Ce(E,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=eu(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fs(u.h,p),Dn(p,E,m)}function as(u,m){u.H&&jt(u.H,function(p,E){Ft(m,E,p)}),u.l&&fo({},function(p,E){Ft(m,E,p)})}function eu(u,m,p){p=Math.min(u.i.length,p);var E=u.l?D(u.l.Na,u.l,u):null;t:{var k=u.i;let B=-1;for(;;){const J=["count="+p];B==-1?0<p?(B=k[0].g,J.push("ofs="+B)):B=0:J.push("ofs="+B);let Dt=!0;for(let Te=0;Te<p;Te++){let Nt=k[Te].g;const Me=k[Te].map;if(Nt-=B,0>Nt)B=Math.max(0,k[Te].g-100),Dt=!1;else try{Fn(Me,J,"req"+Nt+"_")}catch{E&&E(Me)}}if(Dt){E=J.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,E}function nu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||w(),ut||(et(),ut=!0),xt.add(m,u),u.v=0}}function Eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(D(u.Fa,u),Ao(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(D(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),$s(this),iu(this))};function os(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function iu(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),as(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Jr(an(m)),p.m=null,p.P=!0,pi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,$s(this),Eo(this),te(19))};function ta(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function ru(u,m){var p=null;if(u.g==m){ta(u),os(u),u.g=null;var E=2}else if(co(u.h,m))p=m.D,Ze(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;E=Ki(),Gt(E,new ve(E,p)),Js(u)}else nu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(E==1&&Th(u,m)||E==2&&Eo(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),k){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Ao(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),E=u.Xa;const k=!E;E=new me(E||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$r(E,"https"),Jr(E),k?es(E.toString(),p):Nn(E.toString(),p)}else te(2);u.G=0,u.l&&u.l.sa(m),su(u),tu(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function su(u){if(u.G=0,u.ka=[],u.l){const m=ho(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function au(u,m,p){var E=p instanceof me?an(p):new me(p);if(E.g!="")m&&(E.g=m+"."+E.g),$i(E,E.s);else{var k=g.location;E=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var B=new me(null);E&&$r(B,E),m&&(B.g=m),k&&$i(B,k),p&&(B.l=p),E=B}return p=u.D,m=u.ya,p&&m&&Ft(E,p,m),Ft(E,"VER",u.la),as(u,E),E}function ou(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new zt(new Ji({eb:p})):new zt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}a=lu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ea(){}ea.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wn(this)}H($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){vo(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=On(u),u=p);m.i.push(new Wl(m.Ya++,u)),m.G==3&&Js(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,$e.aa.N.call(this)};function uu(u){mi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}H(uu,mi);function cu(){ao.call(this),this.status=1}H(cu,ao);function Wn(u){this.g=u}H(Wn,lu),Wn.prototype.ua=function(){Gt(this.g,"a")},Wn.prototype.ta=function(u){Gt(this.g,new uu(u))},Wn.prototype.sa=function(u){Gt(this.g,new cu)},Wn.prototype.ra=function(){Gt(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Vv=function(){return new ea},Nv=function(){return Ki()},Dv=zn,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Ec=Xi,gi.COMPLETE="complete",Ov=gi,so.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",se.prototype.listen=se.prototype.K,hl=so,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,Mv=zt}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",jy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new nm("@firebase/firestore");function Oa(){return Ns.logLevel}function it(a,...t){if(Ns.logLevel<=Ct.DEBUG){const i=t.map(fm);Ns.debug(`Firestore (${Xa}): ${a}`,...i)}}function qi(a,...t){if(Ns.logLevel<=Ct.ERROR){const i=t.map(fm);Ns.error(`Firestore (${Xa}): ${a}`,...i)}}function Ba(a,...t){if(Ns.logLevel<=Ct.WARN){const i=t.map(fm);Ns.warn(`Firestore (${Xa}): ${a}`,...i)}}function fm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,Pv(a,s,i)}function Pv(a,t,i){let s=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw qi(s),new Error(s)}function Bt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||Pv(t,l,s)}function Et(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Fi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class UI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class kI{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Bt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Is,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const _=h;t.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Is)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new Uv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class xI{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LI{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new xI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Bt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const l=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new zy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=zI(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<i&&(s+=t.charAt(l[h]%62))}return s}}function Mt(a,t){return a<t?-1:a>t?1:0}function jd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),h=t.charAt(s);if(l!==h)return Rd(l)===Rd(h)?Mt(l,h):Rd(l)?1:-1}return Mt(a.length,t.length)}const BI=55296,GI=57343;function Rd(a){const t=a.charCodeAt(0);return t>=BI&&t<=GI}function Ga(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="__name__";class ni{constructor(t,i,s){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&mt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const h=ni.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Mt(t.length,i.length)}static compareSegments(t,i){const s=ni.isNumericId(t),l=ni.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ni.extractNumericId(t).compare(ni.extractNumericId(i)):jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Dr.fromString(t.substring(4,t.length-2))}}class $t extends ni{construct(t,i,s){return new $t(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ni{construct(t,i,s){return new Be(t,i,s)}static isValidIdentifier(t){return qI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===By}static keyField(){return new Be([By])}static fromServerFormat(t){const i=[];let s="",l=0;const h=()=>{if(s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(h(),l++)}if(h(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht($t.fromString(t))}static fromName(t){return new ht($t.fromString(t).popFirst(5))}static empty(){return new ht($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return $t.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new $t(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(a,t,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function HI(a,t,i,s){if(t===!0&&s===!0)throw new st(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Gy(a){if(!ht.isDocumentKey(a))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function qy(a){if(ht.isDocumentKey(a))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function xv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function mm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function ws(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mm(a);throw new st(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(a,t){const i={typeString:a};return t&&(i.value=t),i}function kl(a,t){if(!xv(a))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,h="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-62135596800,Fy=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Fy);return new Jt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Hy)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(kl(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Hy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:ye("string",Jt._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Jt(0,0))}static max(){return new Tt(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function FI(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(s===1e9?new Jt(i+1,0):new Jt(i,s));return new Pr(l,ht.empty(),t)}function QI(a){return new Pr(a.readTime,a.key,Sl)}class Pr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Pr(Tt.min(),ht.empty(),Sl)}static max(){return new Pr(Tt.max(),ht.empty(),Sl)}}function KI(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(a.documentKey,t.documentKey),i!==0?i:Mt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==YI)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Y.reject(i)}static resolve(t){return new Y((i,s)=>{i(t)})}static reject(t){return new Y((i,s)=>{s(t)})}static waitFor(t){return new Y((i,s)=>{let l=0,h=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++h,d&&h===l&&i()},_=>s(_))}),d=!0,h===l&&i()})}static or(t){let i=Y.resolve(!1);for(const s of t)i=i.next(l=>l?Y.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,h)=>{s.push(i.call(this,l,h))}),this.waitFor(s)}static mapArray(t,i){return new Y((s,l)=>{const h=t.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>l(A))}})}static doWhile(t,i){return new Y((s,l)=>{const h=()=>{t()===!0?i().next(()=>{h()},l):s()};h()})}}function XI(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $a(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Zc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function $c(a){return a==null}function Uc(a){return a===0&&1/a==-1/0}function ZI(a){return typeof a=="number"&&Number.isInteger(a)&&!Uc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="";function $I(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Qy(t)),t=JI(a.get(i),t);return Qy(t)}function JI(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case Lv:i+="";break;default:i+=h}}return i}function Qy(a){return a+Lv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ps(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function jv(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dc(this.root,t,this.comparator,!0)}}class dc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?s(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,s,l,h){this.key=t,this.value=i,this.color=s??ze.RED,this.left=l??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,h){return new ze(t??this.key,i??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,s),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return ze.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,s,l,h){return this}insert(t,i,s){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(t){return new Yy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ie(this.comparator);return i.data=t,i}}class Yy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new Ln([])}unionWith(t){let i=new Ie(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Ln(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new zv("Invalid base64 string: "+h):h}}(t);return new Ge(i)}static fromUint8Array(t){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const tw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(a){if(Bt(!!a,39018),typeof a=="string"){let t=0;const i=tw.exec(a);if(Bt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function kr(a){return typeof a=="string"?Ge.fromBase64String(a):Ge.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="server_timestamp",Gv="__type__",qv="__previous_value__",Hv="__local_write_time__";function pm(a){return(a?.mapValue?.fields||{})[Gv]?.stringValue===Bv}function Jc(a){const t=a.mapValue.fields[qv];return pm(t)?Jc(t):t}function bl(a){const t=Ur(a.mapValue.fields[Hv].timestampValue);return new Jt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,i,s,l,h,d,g,_,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const kc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||kc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===kc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="__type__",nw="__max__",mc={mapValue:{}},Qv="__vector__",xc="value";function xr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?pm(a)?4:rw(a)?9007199254740991:iw(a)?10:11:mt(28295,{value:a})}function ci(a,t){if(a===t)return!0;const i=xr(a);if(i!==xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return bl(a).isEqual(bl(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Ur(l.timestampValue),g=Ur(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,h){return kr(l.bytesValue).isEqual(kr(h.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,h){return fe(l.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return fe(l.integerValue)===fe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=fe(l.doubleValue),g=fe(h.doubleValue);return d===g?Uc(d)===Uc(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Ga(a.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(Ky(d)!==Ky(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ci(d[_],g[_])))return!1;return!0}(a,t);default:return mt(52216,{left:a})}}function Il(a,t){return(a.values||[]).find(i=>ci(i,t))!==void 0}function qa(a,t){if(a===t)return 0;const i=xr(a),s=xr(t);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,t.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),_=fe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,t);case 3:return Wy(a.timestampValue,t.timestampValue);case 4:return Wy(bl(a),bl(t));case 5:return jd(a.stringValue,t.stringValue);case 6:return function(h,d){const g=kr(h),_=kr(d);return g.compareTo(_)}(a.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Mt(g[v],_[v]);if(A!==0)return A}return Mt(g.length,_.length)}(a.referenceValue,t.referenceValue);case 8:return function(h,d){const g=Mt(fe(h.latitude),fe(d.latitude));return g!==0?g:Mt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return Xy(a.arrayValue,t.arrayValue);case 10:return function(h,d){const g=h.fields||{},_=d.fields||{},v=g[xc]?.arrayValue,A=_[xc]?.arrayValue,M=Mt(v?.values?.length||0,A?.values?.length||0);return M!==0?M:Xy(v,A)}(a.mapValue,t.mapValue);case 11:return function(h,d){if(h===mc.mapValue&&d===mc.mapValue)return 0;if(h===mc.mapValue)return 1;if(d===mc.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let M=0;M<_.length&&M<A.length;++M){const D=jd(_[M],A[M]);if(D!==0)return D;const F=qa(g[_[M]],v[A[M]]);if(F!==0)return F}return Mt(_.length,A.length)}(a.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function Wy(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Mt(a,t);const i=Ur(a),s=Ur(t),l=Mt(i.seconds,s.seconds);return l!==0?l:Mt(i.nanos,s.nanos)}function Xy(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const h=qa(i[l],s[l]);if(h)return h}return Mt(i.length,s.length)}function Ha(a){return zd(a)}function zd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Ur(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return kr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ht.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const h of i.values||[])l?l=!1:s+=",",s+=zd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${zd(i.fields[d])}`;return l+"}"}(a.mapValue):mt(61005,{value:a})}function Ac(a){switch(xr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jc(a);return t?16+Ac(t):16;case 5:return 2*a.stringValue.length;case 6:return kr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,h)=>l+Ac(h),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return Ps(s.fields,(h,d)=>{l+=h.length+Ac(d)}),l}(a.mapValue);default:throw mt(13486,{value:a})}}function Bd(a){return!!a&&"integerValue"in a}function _m(a){return!!a&&"arrayValue"in a}function Zy(a){return!!a&&"nullValue"in a}function $y(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Sc(a){return!!a&&"mapValue"in a}function iw(a){return(a?.mapValue?.fields||{})[Fv]?.stringValue===Qv}function _l(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Ps(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=_l(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(a.arrayValue.values[i]);return t}return{...a}}function rw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===nw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Sc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Be.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=_l(d):l.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,l)}delete(t){const i=this.field(t.popLast());Sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Sc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Ps(i,(l,h)=>t[l]=h);for(const l of s)delete t[l]}clone(){return new Cn(_l(this.value))}}function Kv(a){const t=[];return Ps(a.fields,(i,s)=>{const l=new Be([i]);if(Sc(s)){const h=Kv(s.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,s,l,h,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ye(t,0,Tt.min(),Tt.min(),Tt.min(),Cn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ye(t,1,i,Tt.min(),s,l,0)}static newNoDocument(t,i){return new Ye(t,2,i,Tt.min(),Tt.min(),Cn.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,Tt.min(),Tt.min(),Cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,i){this.position=t,this.inclusive=i}}function Jy(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=qa(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function t0(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ci(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function sw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{}class be extends Yv{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new ow(t,i,s):i==="array-contains"?new cw(t,s):i==="in"?new hw(t,s):i==="not-in"?new fw(t,s):i==="array-contains-any"?new dw(t,s):new be(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new lw(t,s):new uw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(qa(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends Yv{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new hi(t,i)}matches(t){return Wv(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wv(a){return a.op==="and"}function Xv(a){return aw(a)&&Wv(a)}function aw(a){for(const t of a.filters)if(t instanceof hi)return!1;return!0}function Gd(a){if(a instanceof be)return a.field.canonicalString()+a.op.toString()+Ha(a.value);if(Xv(a))return a.filters.map(t=>Gd(t)).join(",");{const t=a.filters.map(i=>Gd(i)).join(",");return`${a.op}(${t})`}}function Zv(a,t){return a instanceof be?function(s,l){return l instanceof be&&s.op===l.op&&s.field.isEqual(l.field)&&ci(s.value,l.value)}(a,t):a instanceof hi?function(s,l){return l instanceof hi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((h,d,g)=>h&&Zv(d,l.filters[g]),!0):!1}(a,t):void mt(19439)}function $v(a){return a instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${Ha(i.value)}`}(a):a instanceof hi?function(i){return i.op.toString()+" {"+i.getFilters().map($v).join(" ,")+"}"}(a):"Filter"}class ow extends be{constructor(t,i,s){super(t,i,s),this.key=ht.fromName(s.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class lw extends be{constructor(t,i){super(t,"in",i),this.keys=Jv("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class uw extends be{constructor(t,i){super(t,"not-in",i),this.keys=Jv("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Jv(a,t){return(t.arrayValue?.values||[]).map(i=>ht.fromName(i.referenceValue))}class cw extends be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return _m(i)&&Il(i.arrayValue,this.value)}}class hw extends be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Il(this.value.arrayValue,i)}}class fw extends be{constructor(t,i){super(t,"not-in",i)}matches(t){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Il(this.value.arrayValue,i)}}class dw extends be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!_m(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Il(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,i=null,s=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function e0(a,t=null,i=[],s=[],l=null,h=null,d=null){return new mw(a,t,i,s,l,h,d)}function ym(a){const t=Et(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Gd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),$c(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ha(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ha(s)).join(",")),t.Te=i}return t.Te}function vm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!sw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Zv(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!t0(a.startAt,t.startAt)&&t0(a.endAt,t.endAt)}function qd(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i=null,s=[],l=[],h=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gw(a,t,i,s,l,h,d,g){return new th(a,t,i,s,l,h,d,g)}function Tm(a){return new th(a)}function n0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function pw(a){return a.collectionGroup!==null}function yl(a){const t=Et(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ie(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new jc(h,s))}),i.has(Be.keyField().canonicalString())||t.Ie.push(new jc(Be.keyField(),s))}return t.Ie}function si(a){const t=Et(a);return t.Ee||(t.Ee=_w(t,yl(a))),t.Ee}function _w(a,t){if(a.limitType==="F")return e0(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new jc(l.field,h)});const i=a.endAt?new Lc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Lc(a.startAt.position,a.startAt.inclusive):null;return e0(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Hd(a,t,i){return new th(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function eh(a,t){return vm(si(a),si(t))&&a.limitType===t.limitType}function tT(a){return`${ym(si(a))}|lt:${a.limitType}`}function Da(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>$v(l)).join(", ")}]`),$c(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Ha(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Ha(l)).join(",")),`Target(${s})`}(si(a))}; limitType=${a.limitType})`}function nh(a,t){return t.isFoundDocument()&&function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ht.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,t)&&function(s,l){for(const h of yl(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,_){const v=Jy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,yl(s),l)||s.endAt&&!function(d,g,_){const v=Jy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,yl(s),l))}(a,t)}function yw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function eT(a){return(t,i)=>{let s=!1;for(const l of yl(a)){const h=vw(l,t,i);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function vw(a,t,i){const s=a.field.isKeyField()?ht.comparator(t.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?qa(_,v):mt(42886)}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ps(this.inner,(i,s)=>{for(const[l,h]of s)t(l,h)})}isEmpty(){return jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new ie(ht.comparator);function Hi(){return Tw}const nT=new ie(ht.comparator);function fl(...a){let t=nT;for(const i of a)t=t.insert(i.key,i);return t}function iT(a){let t=nT;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Rs(){return vl()}function rT(){return vl()}function vl(){return new Us(a=>a.toString(),(a,t)=>a.isEqual(t))}const Ew=new ie(ht.comparator),Aw=new Ie(ht.comparator);function Ot(...a){let t=Aw;for(const i of a)t=t.add(i);return t}const Sw=new Ie(Mt);function bw(){return Sw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function sT(a){return{integerValue:""+a}}function Rw(a,t){return ZI(t)?sT(t):Em(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function Iw(a,t,i){return a instanceof wl?function(l,h){const d={fields:{[Gv]:{stringValue:Bv},[Hv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&pm(h)&&(h=Jc(h)),h&&(d.fields[qv]=h),{mapValue:d}}(i,t):a instanceof Cl?oT(a,t):a instanceof Ml?lT(a,t):function(l,h){const d=aT(l,h),g=i0(d)+i0(l.Ae);return Bd(d)&&Bd(l.Ae)?sT(g):Em(l.serializer,g)}(a,t)}function ww(a,t,i){return a instanceof Cl?oT(a,t):a instanceof Ml?lT(a,t):i}function aT(a,t){return a instanceof zc?function(s){return Bd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class wl extends ih{}class Cl extends ih{constructor(t){super(),this.elements=t}}function oT(a,t){const i=uT(t);for(const s of a.elements)i.some(l=>ci(l,s))||i.push(s);return{arrayValue:{values:i}}}class Ml extends ih{constructor(t){super(),this.elements=t}}function lT(a,t){let i=uT(t);for(const s of a.elements)i=i.filter(l=>!ci(l,s));return{arrayValue:{values:i}}}class zc extends ih{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function i0(a){return fe(a.integerValue||a.doubleValue)}function uT(a){return _m(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,i){this.field=t,this.transform=i}}function Mw(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof Cl&&l instanceof Cl||s instanceof Ml&&l instanceof Ml?Ga(s.elements,l.elements,ci):s instanceof zc&&l instanceof zc?ci(s.Ae,l.Ae):s instanceof wl&&l instanceof wl}(a.transform,t.transform)}class Ow{constructor(t,i){this.version=t,this.transformResults=i}}class ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ai}static exists(t){return new ai(void 0,t)}static updateTime(t){return new ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class rh{}function cT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Am(a.key,ai.none()):new xl(a.key,a.data,ai.none());{const i=a.data,s=Cn.empty();let l=new Ie(Be.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new ks(a.key,s,new Ln(l.toArray()),ai.none())}}function Dw(a,t,i){a instanceof xl?function(l,h,d){const g=l.value.clone(),_=s0(l.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof ks?function(l,h,d){if(!bc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=s0(l.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(hT(l)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,t,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function Tl(a,t,i,s){return a instanceof xl?function(h,d,g,_){if(!bc(h.precondition,d))return g;const v=h.value.clone(),A=a0(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof ks?function(h,d,g,_){if(!bc(h.precondition,d))return g;const v=a0(h.fieldTransforms,_,d),A=d.data;return A.setAll(hT(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(M=>M.field))}(a,t,i,s):function(h,d,g){return bc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function Nw(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),h=aT(s.transform,l||null);h!=null&&(i===null&&(i=Cn.empty()),i.set(s.field,h))}return i||null}function r0(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ga(s,l,(h,d)=>Mw(h,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class xl extends rh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ks extends rh{constructor(t,i,s,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hT(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function s0(a,t,i){const s=new Map;Bt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,g=t.data.field(h.field);s.set(h.field,ww(d,g,i[l]))}return s}function a0(a,t,i){const s=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);s.set(l.field,Iw(h,d,t))}return s}class Am extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vw extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&Dw(h,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Tl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Tl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=rT();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const _=cT(d,g);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,(i,s)=>r0(i,s))&&Ga(this.baseMutations,t.baseMutations,(i,s)=>r0(i,s))}}class Sm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Bt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=function(){return Ew}();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new Sm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Pt;function xw(a){switch(a){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function fT(a){if(a===void 0)return qi("GRPC error has no .code"),X.UNKNOWN;switch(a){case _e.OK:return X.OK;case _e.CANCELLED:return X.CANCELLED;case _e.UNKNOWN:return X.UNKNOWN;case _e.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case _e.INTERNAL:return X.INTERNAL;case _e.UNAVAILABLE:return X.UNAVAILABLE;case _e.UNAUTHENTICATED:return X.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case _e.NOT_FOUND:return X.NOT_FOUND;case _e.ALREADY_EXISTS:return X.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return X.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case _e.ABORTED:return X.ABORTED;case _e.OUT_OF_RANGE:return X.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return X.UNIMPLEMENTED;case _e.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:a})}}(Pt=_e||(_e={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Dr([4294967295,4294967295],0);function o0(a){const t=Lw().encode(a),i=new Cv;return i.update(t),new Uint8Array(i.digest())}function l0(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Dr([i,s],0),new Dr([l,h],0)]}class bm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Dr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Dr.fromNumber(s)));return l.compare(jw)===1&&(l=new Dr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=o0(t),[s,l]=l0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new bm(h,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const i=o0(t),[s,l]=l0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,i,s,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new sh(Tt.min(),l,new ie(Mt),Hi(),Ot())}}class Ll{constructor(t,i,s,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Ll(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class dT{constructor(t,i){this.targetId=t,this.Ce=i}}class mT{constructor(t,i,s=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class u0{constructor(){this.ve=0,this.Fe=c0(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:h})}}),new Ll(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=c0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hi(),this.Je=gc(),this.He=gc(),this.Ye=new ie(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach((s,l)=>{this.rt(l)&&i(l)})}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(qd(h))if(s===0){const d=new ht(h.path);this.et(i,d,Ye.newNoDocument(d,Tt.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=kr(s).toUint8Array()}catch(_){if(_ instanceof zv)return Ba("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new bm(d,l,h)}catch(_){return Ba(_ instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)}),l}Tt(t){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&qd(g.target)){const _=new ht(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ye.newNoDocument(_,t))}h.Be&&(i.set(d,h.ke()),h.qe())}});let s=Ot();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.je.forEach((h,d)=>d.setReadTime(t));const l=new sh(t,i,this.Ye,this.je,s);return this.je=Hi(),this.Je=gc(),this.He=gc(),this.Ye=new ie(Mt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new u0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ie(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ie(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new u0),this.Ge.getRemoteKeysForTarget(t).forEach(i=>{this.et(t,i,null)})}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function gc(){return new ie(ht.comparator)}function c0(){return new ie(ht.comparator)}const Bw={asc:"ASCENDING",desc:"DESCENDING"},Gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qw={and:"AND",or:"OR"};class Hw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Fd(a,t){return a.useProto3Json||$c(t)?t:{value:t}}function Bc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Fw(a,t){return Bc(a,t.toTimestamp())}function oi(a){return Bt(!!a,49232),Tt.fromTimestamp(function(i){const s=Ur(i);return new Jt(s.seconds,s.nanos)}(a))}function Rm(a,t){return Qd(a,t).canonicalString()}function Qd(a,t){const i=function(l){return new $t(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function pT(a){const t=$t.fromString(a);return Bt(ET(t),10190,{key:t.toString()}),t}function Kd(a,t){return Rm(a.databaseId,t.path)}function Id(a,t){const i=pT(t);if(i.get(1)!==a.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ht(yT(i))}function _T(a,t){return Rm(a.databaseId,t)}function Qw(a){const t=pT(a);return t.length===4?$t.emptyPath():yT(t)}function Yd(a){return new $t(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function yT(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function h0(a,t,i){return{name:Kd(a,t),fields:i.value.mapValue.fields}}function Kw(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:fT(v.code);return new st(A,v.message||"")}(d);i=new mT(s,l,h,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Id(a,s.document.name),h=oi(s.document.updateTime),d=s.document.createTime?oi(s.document.createTime):Tt.min(),g=new Cn({mapValue:{fields:s.document.fields}}),_=Ye.newFoundDocument(l,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Rc(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Id(a,s.document),h=s.readTime?oi(s.readTime):Tt.min(),d=Ye.newNoDocument(l,h),g=s.removedTargetIds||[];i=new Rc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Id(a,s.document),h=s.removedTargetIds||[];i=new Rc([],h,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new kw(l,h),g=s.targetId;i=new dT(g,d)}}return i}function Yw(a,t){let i;if(t instanceof xl)i={update:h0(a,t.key,t.value)};else if(t instanceof Am)i={delete:Kd(a,t.key)};else if(t instanceof ks)i={update:h0(a,t.key,t.data),updateMask:iC(t.fieldMask)};else{if(!(t instanceof Vw))return mt(16599,{Vt:t.type});i={verify:Kd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Cl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw mt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:Fw(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)}(a,t.precondition)),i}function Ww(a,t){return a&&a.length>0?(Bt(t!==void 0,14353),a.map(i=>function(l,h){let d=l.updateTime?oi(l.updateTime):oi(h);return d.isEqual(Tt.min())&&(d=oi(h)),new Ow(d,l.transformResults||[])}(i,t))):[]}function Xw(a,t){return{documents:[_T(a,t.path)]}}function Zw(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=_T(a,l);const h=function(v){if(v.length!==0)return TT(hi.create(v,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(D){return{field:Na(D.field),direction:tC(D.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Fd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ft:i,parent:l}}function $w(a){let t=Qw(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Bt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=function(M){const D=vT(M);return D instanceof hi&&Xv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(D=>function(H){return new jc(Va(H.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(M){let D;return D=typeof M=="object"?M.value:M,$c(D)?null:D}(i.limit));let _=null;i.startAt&&(_=function(M){const D=!!M.before,F=M.values||[];return new Lc(F,D)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const D=!M.before,F=M.values||[];return new Lc(F,D)}(i.endAt)),gw(t,l,d,h,g,"F",_,v)}function Jw(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function vT(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Va(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Va(i.unaryFilter.field);return be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Va(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Va(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}}(a):a.fieldFilter!==void 0?function(i){return be.create(Va(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return hi.create(i.compositeFilter.filters.map(s=>vT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}}(i.compositeFilter.op))}(a):mt(30097,{filter:a})}function tC(a){return Bw[a]}function eC(a){return Gw[a]}function nC(a){return qw[a]}function Na(a){return{fieldPath:a.canonicalString()}}function Va(a){return Be.fromServerFormat(a.fieldPath)}function TT(a){return a instanceof be?function(i){if(i.op==="=="){if($y(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NAN"}};if(Zy(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($y(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NAN"}};if(Zy(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(i.field),op:eC(i.op),value:i.value}}}(a):a instanceof hi?function(i){const s=i.getFilters().map(l=>TT(l));return s.length===1?s[0]:{compositeFilter:{op:nC(i.op),filters:s}}}(a):mt(54877,{filter:a})}function iC(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function ET(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,i,s,l,h=Tt.min(),d=Tt.min(),g=Ge.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.yt=t}}function sC(a){const t=$w({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.Cn=new oC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Pr.min())}updateCollectionGroup(t,i,s){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class oC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ie($t.comparator),h=!l.has(s);return this.index[i]=l.add(s),h}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ie($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(AT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fa(0)}static cr(){return new Fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LruGarbageCollector",lC=1048576;function m0([a,t],[i,s]){const l=Mt(a,i);return l===0?Mt(t,s):l}class uC{constructor(t){this.Ir=t,this.buffer=new Ie(m0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();m0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(d0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$a(i)?it(d0,"Ignoring IndexedDB error during garbage collection: ",i):await Za(i)}await this.Vr(3e5)})}}class hC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(Zc.ce);const s=new uC(i);return this.mr.forEachTarget(t,l=>s.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>s.Ar(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(f0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.yr(t,i))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),l=this.params.maximumSequenceNumbersToCollect):l=M,d=Date.now(),this.nthSequenceNumber(t,l))).next(M=>(s=M,g=Date.now(),this.removeTargets(t,s,i))).next(M=>(h=M,_=Date.now(),this.removeOrphanedDocuments(t,s))).next(M=>(v=Date.now(),Oa()<=Ct.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:M})))}}function fC(a,t){return new hC(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.changes=new Us(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&Tl(s.mutation,l,Ln.empty(),Jt.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Rs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(h=>{let d=fl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=Rs();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Ot()))}populateOverlays(t,i,s){const l=[];return s.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let h=Hi();const d=vl(),g=function(){return vl()}();return i.forEach((_,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof ks)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Tl(A.mutation,v,A.mutation.getFieldMask(),Jt.now())):d.set(v.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>g.set(v,new mC(A,d.get(v)??null))),g))}recalculateAndSaveOverlays(t,i){const s=vl();let l=new ie((d,g)=>d-g),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||Ln.empty();A=g.applyToLocalView(v,A),s.set(_,A);const M=(l.get(g.batchId)||Ot()).add(_);l=l.insert(g.batchId,M)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,M=rT();A.forEach(D=>{if(!h.has(D)){const F=cT(i.get(D),s.get(D));F!==null&&M.set(D,F),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,M))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):pw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-h.size):Y.resolve(Rs());let g=Sl,_=h;return d.next(v=>Y.forEach(v,(A,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next(D=>{_=_.insert(A,D)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,_,v,Ot())).next(A=>({batchId:g,changes:iT(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next(s=>{let l=fl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const h=i.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,h).next(g=>Y.forEach(g,_=>{const v=function(M,D){return new th(D,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((M,D)=>{d=d.insert(M,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,h,l))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=fl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Tl(A.mutation,v,Ln.empty(),Jt.now()),nh(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:oi(l.createTime)}}(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,function(l){return{name:l.name,query:sC(l.bundledQuery),readTime:oi(l.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.overlays=new ie(ht.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Rs();return Y.forEach(i,l=>this.getOverlay(t,l).next(h=>{h!==null&&s.set(l,h)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,h)=>{this.St(t,i,h)}),Y.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(t,i,s){const l=Rs(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&l.set(_.getKey(),_)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let h=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=Rs(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Rs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return Y.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Uw(i,s));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.Qr=new Ie(Ve.$r),this.Ur=new Ie(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Ve(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Gr(new Ve(t,i))}zr(t,i){t.forEach(s=>this.removeReference(s,i))}jr(t){const i=new ht(new $t([])),s=new Ve(i,t),l=new Ve(i,t+1),h=[];return this.Ur.forEachInRange([s,l],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new $t([])),s=new Ve(i,t),l=new Ve(i,t+1);let h=Ot();return this.Ur.forEachInRange([s,l],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new Ve(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Ve.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Pw(h,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),h=l<0?0:l;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?gm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ve(i,0),l=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,l],d=>{const g=this.Xr(d.Yr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ie(Mt);return i.forEach(l=>{const h=new Ve(l,0),d=new Ve(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{s=s.add(g.Yr)})}),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let h=s;ht.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ht(h),0);let g=new Ie(Mt);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(_.Yr)),!0)},d),Y.resolve(this.ti(g))}ti(t){const i=[];return t.forEach(s=>{const l=this.Xr(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(i.mutations,l=>{const h=new Ve(l.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,i){const s=new Ve(i,0),l=this.Zr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.ri=t,this.docs=function(){return new ie(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let s=Hi();return i.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Ye.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let h=Hi();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||KI(QI(A),s)<=0||(l.has(A.key)||nh(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(t,i,s,l){mt(9500)}ii(t,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new EC(this)}getSize(t){return Y.resolve(this.size)}}class EC extends dC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)}),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t){this.persistence=t,this.si=new Us(i=>ym(i),vm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Im,this.targetCount=0,this.ai=Fa.ur()}forEachTarget(t,i){return this.si.forEach((s,l)=>i(l)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Fa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,s){let l=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Y.waitFor(h).next(()=>l)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return Y.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),Y.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return Y.resolve(s)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,i){this.ui={},this.overlays={},this.ci=new Zc(0),this.li=!1,this.li=!0,this.hi=new yC,this.referenceDelegate=t(this),this.Pi=new AC(this),this.indexManager=new aC,this.remoteDocumentCache=function(l){return new TC(l)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new rC(i),this.Ii=new pC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new _C,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new vC(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new SC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ai(t,i){return Y.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,i)))}}class SC extends WI{constructor(t){super(),this.currentSequenceNumber=t}}class wm{constructor(t){this.persistence=t,this.Ri=new Im,this.Vi=null}static mi(t){return new wm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Y.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach(l=>this.fi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(h=>this.fi.add(h.toString()))}).next(()=>s.removeTargetData(t,i))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,s=>{const l=ht.fromPath(s);return this.gi(t,l).next(h=>{h||i.removeEntry(l,Tt.min())})}).next(()=>(this.Vi=null,i.apply(t)))}updateLimboDocument(t,i){return this.gi(t,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Gc{constructor(t,i){this.persistence=t,this.pi=new Us(s=>$I(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=fC(this,i)}static mi(t,i){return new Gc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}wr(t){let i=0;return this.pr(t,s=>{i++}).next(()=>i)}pr(t,i){return Y.forEach(this.pi,(s,l)=>this.br(t,s,l).next(h=>h?Y.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,d=>this.br(t,d,i).next(g=>{g||(s++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ac(t.data.value)),i}br(t,i,s){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Cm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mb()?8:XI(We())>0?6:4}()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const h={result:null};return this.ys(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(t,i,l,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new bC;return this.Ss(t,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)})}).next(()=>h.result)}bs(t,i,s,l){return s.documentReadCount<this.fs?(Oa()<=Ct.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Da(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Oa()<=Ct.DEBUG&&it("QueryEngine","Query:",Da(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Oa()<=Ct.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Da(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(i))):Y.resolve())}ys(t,i){if(n0(i))return Y.resolve(null);let s=si(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Hd(i,null,"F"),s=si(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const d=Ot(...h);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(_=>{const v=this.Ds(i,g);return this.Cs(i,v,d,_.readTime)?this.ys(t,Hd(i,null,"F")):this.vs(t,v,i,_)}))})))}ws(t,i,s,l){return n0(i)||l.isEqual(Tt.min())?Y.resolve(null):this.ps.getDocuments(t,s).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,l)?Y.resolve(null):(Oa()<=Ct.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Da(i)),this.vs(t,d,i,FI(l,Sl)).next(g=>g))})}Ds(t,i){let s=new Ie(eT(t));return i.forEach((l,h)=>{nh(t,h)&&(s=s.add(h))}),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,s){return Oa()<=Ct.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Da(i)),this.ps.getDocumentsMatchingQuery(t,i,Pr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="LocalStore",IC=3e8;class wC{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ie(Mt),this.xs=new Us(h=>ym(h),vm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ms))}}function CC(a,t,i,s){return new wC(a,t,i,s)}async function bT(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:g}))})})}function MC(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const M=v.batch,D=M.keys();let F=Y.resolve();return D.forEach(H=>{F=F.next(()=>A.getEntry(_,H)).next(tt=>{const Z=v.docVersions.get(H);Bt(Z!==null,48541),tt.version.compareTo(Z)<0&&(M.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(_,M))}(i,s,t,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function RT(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Pi.getLastRemoteSnapshotVersion(i))}function OC(a,t){const i=Et(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach((A,M)=>{const D=l.get(M);if(!D)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,M).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,M)));let F=D.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(M)!==null?F=F.withResumeToken(Ge.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(M,F),function(tt,Z,gt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=IC?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0}(D,F,A)&&g.push(i.Pi.updateTargetData(h,F))});let _=Hi(),v=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(DC(h,d,t.documentUpdates).next(A=>{_=A.ks,v=A.qs})),!s.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(M=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ms=l,h))}function DC(a,t,i){let s=Ot(),l=Ot();return i.forEach(h=>s=s.add(h)),t.getEntries(a,s).next(h=>{let d=Hi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):it(Mm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:l}})}function NC(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=gm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function VC(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Pi.getTargetData(s,t).next(h=>h?(l=h,Y.resolve(l)):i.Pi.allocateTargetId(s).next(d=>(l=new Ir(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s})}async function Wd(a,t,i){const s=Et(a),l=s.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!$a(d))throw d;it(Mm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function g0(a,t,i){const s=Et(a);let l=Tt.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const M=Et(_),D=M.xs.get(A);return D!==void 0?Y.resolve(M.Ms.get(D)):M.Pi.getTargetData(v,A)}(s,d,si(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?h:Ot())).next(g=>(PC(s,yw(t),g),{documents:g,Qs:h})))}function PC(a,t,i){let s=a.Os.get(t)||Tt.min();i.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Os.set(t,s)}class p0{constructor(){this.activeTargetIds=bw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UC{constructor(){this.Mo=new p0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new p0,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="ConnectivityMonitor";class y0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(_0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(_0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Xd(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===kc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,h){const d=Xd(),g=this.zo(t,i.toUriEncodedString());it(wd,`Sending RPC '${t}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,h);const{host:v}=new URL(g),A=Ka(v);return this.Jo(t,g,_,s,A).then(M=>(it(wd,`Received RPC '${t}' ${d}: `,M),M),M=>{throw Ba(wd,`RPC '${t}' ${d} failed with error: `,M,"url: ",g,"request:",s),M})}Ho(t,i,s,l,h,d){return this.Go(t,i,s,l,h)}jo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}zo(t,i){const s=xC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class zC extends LC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,h){const d=Xd();return new Promise((g,_)=>{const v=new Mv;v.setWithCredentials(!0),v.listenOnce(Ov.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Ec.NO_ERROR:const M=v.getResponseJson();it(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(M)),g(M);break;case Ec.TIMEOUT:it(Qe,`RPC '${t}' ${d} timed out`),_(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const D=v.getStatus();if(it(Qe,`RPC '${t}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const H=F?.error;if(H&&H.status&&H.message){const tt=function(gt){const lt=gt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(lt)>=0?lt:X.UNKNOWN}(H.status);_(new st(tt,H.message))}else _(new st(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new st(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{it(Qe,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);it(Qe,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,s,15)})}T_(t,i,s){const l=Xd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Vv(),g=Nv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");it(Qe,`Creating RPC '${t}' stream ${l}: ${A}`,_);const M=d.createWebChannel(A,_);this.I_(M);let D=!1,F=!1;const H=new jC({Yo:Z=>{F?it(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(D||(it(Qe,`Opening RPC '${t}' stream ${l} transport.`),M.open(),D=!0),it(Qe,`RPC '${t}' stream ${l} sending:`,Z),M.send(Z))},Zo:()=>M.close()}),tt=(Z,gt,lt)=>{Z.listen(gt,at=>{try{lt(at)}catch(kt){setTimeout(()=>{throw kt},0)}})};return tt(M,hl.EventType.OPEN,()=>{F||(it(Qe,`RPC '${t}' stream ${l} transport opened.`),H.o_())}),tt(M,hl.EventType.CLOSE,()=>{F||(F=!0,it(Qe,`RPC '${t}' stream ${l} transport closed`),H.a_(),this.E_(M))}),tt(M,hl.EventType.ERROR,Z=>{F||(F=!0,Ba(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),H.a_(new st(X.UNAVAILABLE,"The operation could not be completed")))}),tt(M,hl.EventType.MESSAGE,Z=>{if(!F){const gt=Z.data[0];Bt(!!gt,16349);const lt=gt,at=lt?.error||lt[0]?.error;if(at){it(Qe,`RPC '${t}' stream ${l} received error:`,at);const kt=at.status;let vt=function(S){const I=_e[S];if(I!==void 0)return fT(I)}(kt),jt=at.message;vt===void 0&&(vt=X.INTERNAL,jt="Unknown error status: "+kt+" with message "+at.message),F=!0,H.a_(new st(vt,jt)),M.close()}else it(Qe,`RPC '${t}' stream ${l} received:`,gt),H.u_(gt)}}),tt(g,Dv.STAT_EVENT,Z=>{Z.stat===Ld.PROXY?it(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Ld.NOPROXY&&it(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{H.__()},0),H}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(i=>i===t)}}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(a){return new Hw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,i,s=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="PersistentStream";class wT{constructor(t,i,s,l,h,d,g,_){this.Mi=t,this.S_=s,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.D_===i&&this.G_(s,l)},s=>{t(()=>{const l=new st(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)})})}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{s(()=>this.z_(l))}),this.stream.onMessage(l=>{s(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return it(v0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget(()=>this.D_===t?i():(it(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BC extends wT{constructor(t,i,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Kw(this.serializer,t),s=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?oi(d.readTime):Tt.min()}(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=Yd(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=qd(_)?{documents:Xw(h,_)}:{query:Zw(h,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=gT(h,d.resumeToken);const v=Fd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Bc(h,d.snapshotVersion.toTimestamp());const v=Fd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=Jw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=Yd(this.serializer),i.removeTarget=t,this.q_(i)}}class GC extends wT{constructor(t,i,s,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Ww(t.writeResults,t.commitTime),s=oi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Yd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>Yw(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{}class HC extends qC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(t,Qd(i,s),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(X.UNKNOWN,h.toString())})}Ho(t,i,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,Qd(i,s),l,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class QC{constructor(t,i,s,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{xs(this)&&(it(Vs,"Restarting streams for network reachability change."),await async function(_){const v=Et(_);v.Ea.add(4),await jl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await oh(v)}(this))})}),this.Ra=new FC(s,l)}}async function oh(a){if(xs(a))for(const t of a.da)await t(!0)}async function jl(a){for(const t of a.da)await t(!1)}function CT(a,t){const i=Et(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Vm(i)?Nm(i):Ja(i).O_()&&Dm(i,t))}function Om(a,t){const i=Et(a),s=Ja(i);i.Ia.delete(t),s.O_()&&MT(i,t),i.Ia.size===0&&(s.O_()?s.L_():xs(i)&&i.Ra.set("Unknown"))}function Dm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ja(a).Y_(t)}function MT(a,t){a.Va.Ue(t),Ja(a).Z_(t)}function Nm(a){a.Va=new zw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Ja(a).start(),a.Ra.ua()}function Vm(a){return xs(a)&&!Ja(a).x_()&&a.Ia.size>0}function xs(a){return Et(a).Ea.size===0}function OT(a){a.Va=void 0}async function KC(a){a.Ra.set("Online")}async function YC(a){a.Ia.forEach((t,i)=>{Dm(a,t)})}async function WC(a,t){OT(a),Vm(a)?(a.Ra.ha(t),Nm(a)):a.Ra.set("Unknown")}async function XC(a,t,i){if(a.Ra.set("Online"),t instanceof mT&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))}(a,t)}catch(s){it(Vs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await qc(a,s)}else if(t instanceof Rc?a.Va.Ze(t):t instanceof dT?a.Va.st(t):a.Va.tt(t),!i.isEqual(Tt.min()))try{const s=await RT(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),MT(h,_);const M=new Ir(A.target,_,v,A.sequenceNumber);Dm(h,M)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){it(Vs,"Failed to raise snapshot:",s),await qc(a,s)}}async function qc(a,t,i){if(!$a(t))throw t;a.Ea.add(1),await jl(a),a.Ra.set("Offline"),i||(i=()=>RT(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{it(Vs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await oh(a)})}function DT(a,t){return t().catch(i=>qc(a,i,t))}async function lh(a){const t=Et(a),i=Lr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gm;for(;ZC(t);)try{const l=await NC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,$C(t,l)}catch(l){await qc(t,l)}NT(t)&&VT(t)}function ZC(a){return xs(a)&&a.Ta.length<10}function $C(a,t){a.Ta.push(t);const i=Lr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function NT(a){return xs(a)&&!Lr(a).x_()&&a.Ta.length>0}function VT(a){Lr(a).start()}async function JC(a){Lr(a).ra()}async function tM(a){const t=Lr(a);for(const i of a.Ta)t.ea(i.mutations)}async function eM(a,t,i){const s=a.Ta.shift(),l=Sm.from(s,t,i);await DT(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await lh(a)}async function nM(a,t){t&&Lr(a).X_&&await async function(s,l){if(function(d){return xw(d)&&d!==X.ABORTED}(l.code)){const h=s.Ta.shift();Lr(s).B_(),await DT(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l)),await lh(s)}}(a,t),NT(a)&&VT(a)}async function T0(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(Vs,"RemoteStore received new credentials");const s=xs(i);i.Ea.add(3),await jl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await oh(i)}async function iM(a,t){const i=Et(a);t?(i.Ea.delete(2),await oh(i)):t||(i.Ea.add(2),await jl(i),i.Ra.set("Unknown"))}function Ja(a){return a.ma||(a.ma=function(i,s,l){const h=Et(i);return h.sa(),new BC(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{Xo:KC.bind(null,a),t_:YC.bind(null,a),r_:WC.bind(null,a),H_:XC.bind(null,a)}),a.da.push(async t=>{t?(a.ma.B_(),Vm(a)?Nm(a):a.Ra.set("Unknown")):(await a.ma.stop(),OT(a))})),a.ma}function Lr(a){return a.fa||(a.fa=function(i,s,l){const h=Et(i);return h.sa(),new GC(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:JC.bind(null,a),r_:nM.bind(null,a),ta:tM.bind(null,a),na:eM.bind(null,a)}),a.da.push(async t=>{t?(a.fa.B_(),await lh(a)):(await a.fa.stop(),a.Ta.length>0&&(it(Vs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,i,s,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,h){const d=Date.now()+s,g=new Pm(t,i,d,l,h);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(a,t){if(qi("AsyncQueue",`${t}: ${a}`),$a(a))return new st(X.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(t){return new La(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=fl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof La)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new La;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.ga=new ie(ht.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal((i,s)=>{t.push(s)}),t}}class Qa{constructor(t,i,s,l,h,d,g,_,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Qa(t,i,La.emptySet(i),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class sM{constructor(){this.queries=A0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Et(i),h=l.queries;l.queries=A0(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(s)})})(this,new st(X.ABORTED,"Firestore shutting down"))}}function A0(){return new Us(a=>tT(a),eh)}async function aM(a,t){const i=Et(a);let s=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(s=2):(h=new rM,s=t.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Um(d,`Initialization of query '${Da(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&km(i)}async function oM(a,t){const i=Et(a),s=t.query;let l=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function lM(a,t){const i=Et(a);let s=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&km(i)}function uM(a,t,i){const s=Et(a),l=s.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);s.queries.delete(t)}function km(a){a.Ca.forEach(t=>{t.next()})}var Zd,S0;(S0=Zd||(Zd={})).Ma="default",S0.Cache="cache";class cM{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Qa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t){this.key=t}}class UT{constructor(t){this.key=t}}class hM{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=eT(t),this.tu=new La(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new E0,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,M)=>{const D=l.get(A),F=nh(this.query,M)?M:null,H=!!D&&this.mutatedKeys.has(D.key),tt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;D&&F?D.data.isEqual(F.data)?H!==tt&&(s.track({type:3,doc:F}),Z=!0):this.su(D,F)||(s.track({type:2,doc:F}),Z=!0,(_&&this.eu(F,_)>0||v&&this.eu(F,v)<0)&&(g=!0)):!D&&F?(s.track({type:0,doc:F}),Z=!0):D&&!F&&(s.track({type:1,doc:D}),Z=!0,(_||v)&&(g=!0)),Z&&(F?(d=d.add(F),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((A,M)=>function(F,H){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return tt(F)-tt(H)}(A.type,M.type)||this.eu(A.doc,M.doc)),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Qa(this.query,t.tu,h,d,t.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return t.forEach(s=>{this.Xa.has(s)||i.push(new UT(s))}),this.Xa.forEach(s=>{t.has(s)||i.push(new PT(s))}),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Qa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xm="SyncEngine";class fM{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class dM{constructor(t){this.key=t,this.hu=!1}}class mM{constructor(t,i,s,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Us(g=>tT(g),eh),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ht.comparator),this.Au=new Map,this.Ru=new Im,this.Vu={},this.mu=new Map,this.fu=Fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gM(a,t,i=!0){const s=BT(a);let l;const h=s.Tu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await kT(s,t,i,!0),l}async function pM(a,t){const i=BT(a);await kT(i,t,!0,!1)}async function kT(a,t,i,s){const l=await VC(a.localStore,si(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await _M(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&CT(a.remoteStore,l),g}async function _M(a,t,i,s,l){a.pu=(M,D,F)=>async function(tt,Z,gt,lt){let at=Z.view.ru(gt);at.Cs&&(at=await g0(tt.localStore,Z.query,!1).then(({documents:V})=>Z.view.ru(V,at)));const kt=lt&&lt.targetChanges.get(Z.targetId),vt=lt&&lt.targetMismatches.get(Z.targetId)!=null,jt=Z.view.applyChanges(at,tt.isPrimaryClient,kt,vt);return R0(tt,Z.targetId,jt.au),jt.snapshot}(a,M,D,F);const h=await g0(a.localStore,t,!0),d=new hM(t,h.Qs),g=d.ru(h.documents),_=Ll.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,_);R0(a,i,v.au);const A=new fM(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function yM(a,t,i){const s=Et(a),l=s.Tu.get(t),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter(d=>!eh(d,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Wd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Om(s.remoteStore,l.targetId),$d(s,l.targetId)}).catch(Za)):($d(s,l.targetId),await Wd(s.localStore,l.targetId,!0))}async function vM(a,t){const i=Et(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Om(i.remoteStore,s.targetId))}async function TM(a,t,i){const s=wM(a);try{const l=await function(d,g){const _=Et(d),v=Jt.now(),A=g.reduce((F,H)=>F.add(H.key),Ot());let M,D;return _.persistence.runTransaction("Locally write mutations","readwrite",F=>{let H=Hi(),tt=Ot();return _.Ns.getEntries(F,A).next(Z=>{H=Z,H.forEach((gt,lt)=>{lt.isValidDocument()||(tt=tt.add(gt))})}).next(()=>_.localDocuments.getOverlayedDocuments(F,H)).next(Z=>{M=Z;const gt=[];for(const lt of g){const at=Nw(lt,M.get(lt.key).overlayedDocument);at!=null&&gt.push(new ks(lt.key,at,Kv(at.value.mapValue),ai.exists(!0)))}return _.mutationQueue.addMutationBatch(F,v,gt,g)}).next(Z=>{D=Z;const gt=Z.applyToLocalDocumentSet(M,tt);return _.documentOverlayCache.saveOverlays(F,Z.batchId,gt)})}).then(()=>({batchId:D.batchId,changes:iT(M)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new ie(Mt)),v=v.insert(g,_),d.Vu[d.currentUser.toKey()]=v}(s,l.batchId,i),await zl(s,l.changes),await lh(s.remoteStore)}catch(l){const h=Um(l,"Failed to persist write");i.reject(h)}}async function xT(a,t){const i=Et(a);try{const s=await OC(i.localStore,t);t.targetChanges.forEach((l,h)=>{const d=i.Au.get(h);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))}),await zl(i,s,t)}catch(s){await Za(s)}}function b0(a,t,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach((A,M)=>{for(const D of M.Sa)D.va(g)&&(v=!0)}),v&&km(_)}(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function EM(a,t,i){const s=Et(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),h=l&&l.key;if(h){let d=new ie(ht.comparator);d=d.insert(h,Ye.newNoDocument(h,Tt.min()));const g=Ot().add(h),_=new sh(Tt.min(),new Map,new ie(Mt),d,g);await xT(s,_),s.du=s.du.remove(h),s.Au.delete(t),Lm(s)}else await Wd(s.localStore,t,!1).then(()=>$d(s,t,i)).catch(Za)}async function AM(a,t){const i=Et(a),s=t.batch.batchId;try{const l=await MC(i.localStore,t);jT(i,s,null),LT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await zl(i,l)}catch(l){await Za(l)}}async function SM(a,t,i){const s=Et(a);try{const l=await function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(M=>(Bt(M!==null,37113),A=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,t);jT(s,t,i),LT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await zl(s,l)}catch(l){await Za(l)}}function LT(a,t){(a.mu.get(t)||[]).forEach(i=>{i.resolve()}),a.mu.delete(t)}function jT(a,t,i){const s=Et(a);let l=s.Vu[s.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function $d(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach(s=>{a.Ru.containsKey(s)||zT(a,s)})}function zT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Om(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Lm(a))}function R0(a,t,i){for(const s of i)s instanceof PT?(a.Ru.addReference(s.key,t),bM(a,s)):s instanceof UT?(it(xm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||zT(a,s.key)):mt(19791,{wu:s})}function bM(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(it(xm,"New document in limbo: "+i),a.Eu.add(s),Lm(a))}function Lm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ht($t.fromString(t)),s=a.fu.next();a.Au.set(s,new dM(i)),a.du=a.du.insert(i,s),CT(a.remoteStore,new Ir(si(Tm(i.path)),s,"TargetPurposeLimboResolution",Zc.ce))}}async function zl(a,t,i){const s=Et(a),l=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,_)=>{d.push(s.pu(_,t,i).then(v=>{if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Cm.As(_.targetId,v);h.push(A)}}))}),await Promise.all(d),s.Pu.H_(l),await async function(_,v){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Y.forEach(v,D=>Y.forEach(D.Es,F=>A.persistence.referenceDelegate.addReference(M,D.targetId,F)).next(()=>Y.forEach(D.ds,F=>A.persistence.referenceDelegate.removeReference(M,D.targetId,F)))))}catch(M){if(!$a(M))throw M;it(Mm,"Failed to update sequence numbers: "+M)}for(const M of v){const D=M.targetId;if(!M.fromCache){const F=A.Ms.get(D),H=F.snapshotVersion,tt=F.withLastLimboFreeSnapshotVersion(H);A.Ms=A.Ms.insert(D,tt)}}}(s.localStore,h))}async function RM(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){it(xm,"User change. New user:",t.toKey());const s=await bT(i.localStore,t);i.currentUser=t,function(h,d){h.mu.forEach(g=>{g.forEach(_=>{_.reject(new st(X.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await zl(i,s.Ls)}}function IM(a,t){const i=Et(a),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function BT(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EM.bind(null,t),t.Pu.H_=lM.bind(null,t.eventManager),t.Pu.yu=uM.bind(null,t.eventManager),t}function wM(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SM.bind(null,t),t}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return CC(this.persistence,new RC,t.initialUser,this.serializer)}Cu(t){return new ST(wm.mi,this.serializer)}Du(t){return new UC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class CM extends Hc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Bt(this.persistence.referenceDelegate instanceof Gc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cC(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new ST(s=>Gc.mi(s,i),this.serializer)}}class Jd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>b0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RM.bind(null,this.syncEngine),await iM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new sM}()}createDatastore(t){const i=ah(t.databaseInfo.databaseId),s=function(h){return new zC(h)}(t.databaseInfo);return function(h,d,g,_){return new HC(h,d,g,_)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,h,d,g){return new QC(s,l,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>b0(this.syncEngine,i,0),function(){return y0.v()?new y0:new kC}())}createSyncEngine(t,i){return function(l,h,d,g,_,v,A){const M=new mM(l,h,d,g,_,v);return A&&(M.gu=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=Et(i);it(Vs,"RemoteStore shutting down."),s.Ea.add(5),await jl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jd.provider={build:()=>new Jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class OM{constructor(t,i,s,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{it(jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Um(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Md(a,t){a.asyncQueue.verifyOperationInProgress(),it(jr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await bT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function I0(a,t){a.asyncQueue.verifyOperationInProgress();const i=await DM(a);it(jr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>T0(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>T0(t.remoteStore,l)),a._onlineComponents=t}async function DM(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(jr,"Using user provided OfflineComponentProvider");try{await Md(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ba("Error using user provided cache. Falling back to memory cache: "+i),await Md(a,new Hc)}}else it(jr,"Using default OfflineComponentProvider"),await Md(a,new CM(void 0));return a._offlineComponents}async function GT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(jr,"Using user provided OnlineComponentProvider"),await I0(a,a._uninitializedComponentsProvider._online)):(it(jr,"Using default OnlineComponentProvider"),await I0(a,new Jd))),a._onlineComponents}function NM(a){return GT(a).then(t=>t.syncEngine)}async function w0(a){const t=await GT(a),i=t.eventManager;return i.onListen=gM.bind(null,t.syncEngine),i.onUnlisten=yM.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=pM.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vM.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firestore.googleapis.com",M0=!0;class O0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HT,this.ssl=M0}else this.host=t.host,this.ssl=t.ssl??M0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lC)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new PI;switch(s.type){case"firstParty":return new LI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=C0.get(i);s&&(it("ComponentProvider","Removing Datastore"),C0.delete(i),s.terminate())}(this),Promise.resolve()}}function VM(a,t,i,s={}){a=ws(a,uh);const l=Ka(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;l&&(G0(`https://${g}`),q0("Firestore",!0)),h.host!==HT&&h.host!==g&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:g,ssl:l,emulatorOptions:s};if(!Ms(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ke.MOCK_USER;else{v=sb(s.mockUserToken,a._app?.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(M)}a._authCredentials=new UI(new Uv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ch(this.firestore,t,this._query)}}class Re{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(kl(i,Re._jsonSchema))return new Re(t,s||null,new ht($t.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:ye("string",Re._jsonSchemaVersion),referencePath:ye("string")};class Nr extends ch{constructor(t,i,s){super(t,i,Tm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new ht(t))}withConverter(t){return new Nr(this.firestore,t,this._path)}}function PM(a,t,...i){if(a=mn(a),kv("collection","path",t),a instanceof uh){const s=$t.fromString(t,...i);return qy(s),new Nr(a,null,s)}{if(!(a instanceof Re||a instanceof Nr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child($t.fromString(t,...i));return qy(s),new Nr(a.firestore,null,s)}}function UM(a,t,...i){if(a=mn(a),arguments.length===1&&(t=dm.newId()),kv("doc","path",t),a instanceof uh){const s=$t.fromString(t,...i);return Gy(s),new Re(a,null,new ht(s))}{if(!(a instanceof Re||a instanceof Nr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child($t.fromString(t,...i));return Gy(s),new Re(a.firestore,a instanceof Nr?a.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="AsyncQueue";class N0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const s=Cd();s&&it(D0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Cd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Cd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Is;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!$a(t))throw t;it(D0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const i=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",V0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Pm.createAndSchedule(this,t,i,s,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:V0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function V0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of s)if(h in l&&typeof l[h]=="function")return!0;return!1}(a,["next","error","complete"])}class Ol extends uh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new N0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new N0(t),this._firestoreClient=void 0,await t}}}function kM(a,t){const i=typeof a=="object"?a:K0(),s=typeof a=="string"?a:kc,l=rm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=ib("firestore");h&&VM(l,...h)}return l}function FT(a){if(a._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||xM(a),a._firestoreClient}function xM(a){const t=a._freezeSettings(),i=function(l,h,d,g){return new ew(l,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,qT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new OM(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(Ge.fromBase64String(t))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Mn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(kl(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:ye("string",Mn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(t){if(kl(t,li._jsonSchema))return new li(t.latitude,t.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:ye("string",li._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(kl(t,ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new ui(t.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:ye("string",ui._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=/^__.*__$/;class jM{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,i,this.fieldTransforms):new xl(t,this.data,i,this.fieldTransforms)}}function QT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:a})}}class Bm{constructor(t,i,s,l,h,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Fc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QT(this.Ac)&&LM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class zM{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||ah(t)}Cc(t,i,s,l=!1){return new Bm({Ac:t,methodName:i,Dc:s,path:Be.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BM(a){const t=a._freezeSettings(),i=ah(a._databaseId);return new zM(a._databaseId,!!t.ignoreUndefinedProperties,i)}function GM(a,t,i,s,l,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,l);XT("Data must be an object, but it was:",d,s);const g=YT(s,d);let _,v;if(h.merge)_=new Ln(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const M of h.mergeFields){const D=qM(t,M,i);if(!d.contains(D))throw new st(X.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);FM(A,D)||A.push(D)}_=new Ln(A),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new jM(new Cn(g),_,v)}class Gm extends zm{_toFieldTransform(t){return new Cw(t.path,new wl)}isEqual(t){return t instanceof Gm}}function KT(a,t){if(WT(a=mn(a)))return XT("Unsupported field value:",t,a),YT(a,t);if(a instanceof zm)return function(s,l){if(!QT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,l){const h=[];let d=0;for(const g of s){let _=KT(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,t)}return function(s,l){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Rw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Jt.fromDate(s);return{timestampValue:Bc(l.serializer,h)}}if(s instanceof Jt){const h=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bc(l.serializer,h)}}if(s instanceof li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:gT(l.serializer,s._byteString)};if(s instanceof Re){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Rm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ui)return function(d,g){return{mapValue:{fields:{[Fv]:{stringValue:Qv},[xc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Em(g.serializer,v)})}}}}}}(s,l);throw l.Sc(`Unsupported field value: ${mm(s)}`)}(a,t)}function YT(a,t){const i={};return jv(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ps(a,(s,l)=>{const h=KT(l,t.mc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function WT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Jt||a instanceof li||a instanceof Mn||a instanceof Re||a instanceof zm||a instanceof ui)}function XT(a,t,i){if(!WT(i)||!xv(i)){const s=mm(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function qM(a,t,i){if((t=mn(t))instanceof jm)return t._internalPath;if(typeof t=="string")return ZT(a,t);throw Fc("Field path arguments must be of type string or ",a,!1,void 0,i)}const HM=new RegExp("[~\\*/\\[\\]]");function ZT(a,t,i){if(t.search(HM)>=0)throw Fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new jm(...t.split("."))._internalPath}catch{throw Fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Fc(a,t,i,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new st(X.INVALID_ARGUMENT,g+a+_)}function FM(a,t){return a.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,i,s,l,h){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(JT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class QM extends $T{data(){return super.data()}}function JT(a,t){return typeof t=="string"?ZT(a,t):t instanceof jm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YM{convertValue(t,i="none"){switch(xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ps(t,(l,h)=>{s[l]=this.convertValue(h,i)}),s}convertVectorValue(t){const i=t.fields?.[xc].arrayValue?.values?.map(s=>fe(s.doubleValue));return new ui(i)}convertGeoPoint(t){return new li(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Jc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(bl(t));default:return null}}convertTimestamp(t){const i=Ur(t);return new Jt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=$t.fromString(t);Bt(ET(s),9688,{name:t});const l=new Rl(s.get(1),s.get(3)),h=new ht(s.popFirst(5));return l.isEqual(i)||qi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cs extends $T{constructor(t,i,s,l,h,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(JT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Cs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:ye("string",Cs._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class Ic extends Cs{data(t={}){return super.data(t)}}class ja{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new Ic(this._firestore,this._userDataWriter,s.key,s,new ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const _=new Ic(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Ic(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:XM(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function XM(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:ye("string",ja._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class tE extends YM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function ZM(a,t,i){a=ws(a,Re);const s=ws(a.firestore,Ol),l=WM(a.converter,t);return eE(s,[GM(BM(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,ai.none())])}function $M(a){return eE(ws(a.firestore,Ol),[new Am(a._key,ai.none())])}function JM(a,...t){a=mn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||P0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(P0(t[s])){const _=t[s];t[s]=_.next?.bind(_),t[s+1]=_.error?.bind(_),t[s+2]=_.complete?.bind(_)}let h,d,g;if(a instanceof Re)d=ws(a.firestore,Ol),g=Tm(a._key.path),h={next:_=>{t[s]&&t[s](tO(d,a,_))},error:t[s+1],complete:t[s+2]};else{const _=ws(a,ch);d=ws(_.firestore,Ol),g=_._query;const v=new tE(d);h={next:A=>{t[s]&&t[s](new ja(d,v,_,A))},error:t[s+1],complete:t[s+2]},KM(a._query)}return function(v,A,M,D){const F=new MM(D),H=new cM(A,F,M);return v.asyncQueue.enqueueAndForget(async()=>aM(await w0(v),H)),()=>{F.Nu(),v.asyncQueue.enqueueAndForget(async()=>oM(await w0(v),H))}}(FT(d),g,l,h)}function eE(a,t){return function(s,l){const h=new Is;return s.asyncQueue.enqueueAndForget(async()=>TM(await NM(s),l,h)),h.promise}(FT(a),t)}function tO(a,t,i){const s=i.docs.get(t._key),l=new tE(a);return new Cs(a,l,t._key,s,new ml(i.hasPendingWrites,i.fromCache),t.converter)}function eO(){return new Gm("serverTimestamp")}(function(t,i=!0){(function(l){Xa=l})(Ya),za(new Os("firestore",(s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Ol(new kI(s.getProvider("auth-internal")),new jI(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(v.options.projectId,A)}(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Mr(Ly,jy,t),Mr(Ly,jy,"esm2020")})();const nO={apiKey:"AIzaSyAqJ_wBN0njL5kuCpU_OVxegfI79zvaHo4",authDomain:"mutlu-buse.firebaseapp.com",projectId:"mutlu-buse",storageBucket:"mutlu-buse.firebasestorage.app",messagingSenderId:"69769174544",appId:"1:69769174544:web:b2d15fb153fa4400cdf495"},nE=Q0(nO),tm=NI(nE),iO=()=>new Promise((a,t)=>{const i=ER(tm,s=>{s&&(i(),a(s))});gR(tm).catch(t)}),U0=kM(nE);function rO(){const[a,t]=Ss.useState(null),[i,s]=Ss.useState(new Set),[l,h]=Ss.useState("all");Ss.useEffect(()=>{let H,tt=!0;return(async()=>{const Z=await iO();if(!tt)return;const gt=PM(U0,"users",Z.uid,"likes");H=JM(gt,lt=>{const at=new Set;lt.forEach(kt=>{const vt=decodeURIComponent(kt.id);at.add(vt)}),s(at)})})(),()=>{tt=!1,H&&H()}},[]);const d=Object.assign({"./assets/IMG-20250709-WA0033.jpg":L1,"./assets/IMG-20250713-WA0005.jpg":z1,"./assets/IMG-20250713-WA0014.jpg":G1,"./assets/IMG-20250713-WA0029.jpg":H1,"./assets/IMG-20250713-WA0031.jpg":Q1,"./assets/IMG-20250715-WA0010.jpg":Y1,"./assets/IMG-20250726-WA0028.jpg":X1,"./assets/IMG-20250730-WA0006.jpg":$1,"./assets/IMG-20250804-WA0053.jpg":tA,"./assets/IMG-20250806-WA0005.jpg":nA,"./assets/IMG-20250807-WA0010.jpg":rA,"./assets/IMG-20250808-WA0008.jpg":aA,"./assets/IMG-20250812-WA0064.jpg":lA,"./assets/IMG-20250812-WA0067.jpg":cA,"./assets/IMG-20250812-WA0130.jpg":fA,"./assets/IMG-20250812-WA0131.jpg":mA,"./assets/IMG-20250812-WA0132.jpg":pA,"./assets/IMG-20250812-WA0133.jpg":yA,"./assets/IMG-20250812-WA0134.jpg":TA,"./assets/IMG-20250812-WA0135.jpg":AA,"./assets/IMG-20250812-WA0136.jpg":bA,"./assets/IMG-20250812-WA0137.jpg":IA,"./assets/IMG-20250812-WA0138.jpg":CA,"./assets/IMG-20250812-WA0139.jpg":OA,"./assets/IMG-20250812-WA0140.jpg":NA,"./assets/IMG-20250812-WA0141.jpg":PA,"./assets/IMG-20250812-WA0142.jpg":kA,"./assets/IMG-20250812-WA0143.jpg":LA,"./assets/IMG-20250812-WA0144.jpg":zA,"./assets/IMG-20250812-WA0145.jpg":GA,"./assets/IMG-20250812-WA0146.jpg":HA,"./assets/IMG-20250812-WA0147.jpg":QA,"./assets/IMG-20250812-WA0148.jpg":YA,"./assets/IMG-20250812-WA0149.jpg":XA,"./assets/IMG-20250812-WA0150.jpg":$A,"./assets/IMG-20250812-WA0151.jpg":tS,"./assets/IMG-20250812-WA0152.jpg":nS,"./assets/IMG-20250812-WA0153.jpg":rS,"./assets/IMG-20250812-WA0154.jpg":aS,"./assets/IMG-20250812-WA0155.jpg":lS,"./assets/IMG-20250812-WA0156.jpg":cS,"./assets/IMG-20250812-WA0157.jpg":fS,"./assets/IMG-20250812-WA0158.jpg":mS,"./assets/IMG-20250812-WA0159.jpg":pS,"./assets/IMG-20250812-WA0160.jpg":yS,"./assets/IMG-20250812-WA0161.jpg":TS,"./assets/IMG-20250812-WA0162.jpg":AS,"./assets/IMG-20250812-WA0163.jpg":bS,"./assets/IMG-20250812-WA0164.jpg":IS,"./assets/IMG-20250812-WA0165.jpg":CS,"./assets/IMG-20250812-WA0166.jpg":OS,"./assets/IMG-20250812-WA0167.jpg":NS,"./assets/IMG-20250812-WA0168.jpg":PS,"./assets/IMG-20250812-WA0169.jpg":kS,"./assets/IMG-20250812-WA0170.jpg":LS,"./assets/IMG-20250812-WA0171.jpg":zS,"./assets/IMG-20250812-WA0172.jpg":GS,"./assets/IMG-20250812-WA0173.jpg":HS,"./assets/IMG-20250812-WA0174.jpg":QS,"./assets/IMG-20250812-WA0175.jpg":YS}),g=Ss.useMemo(()=>Object.values(d).map(H=>H.default),[d]),_=Ss.useMemo(()=>l==="liked"?g.filter(H=>i.has(H)):g,[g,i,l]),v=()=>{g.length&&t(H=>H>0?H-1:g.length-1)},A=()=>{g.length&&t(H=>H<g.length-1?H+1:0)},M=async()=>{if(a===null)return;const H=g[a],tt=tm.currentUser?.uid;if(!tt){console.error("Kullanıcı oturumu yok");return}const Z=encodeURIComponent(H),gt=UM(U0,"users",tt,"likes",Z);try{i.has(H)?(s(lt=>{const at=new Set(lt);return at.delete(H),at}),await $M(gt)):(s(lt=>new Set(lt).add(H)),await ZM(gt,{createdAt:eO()}))}catch(lt){console.error("Beğeni değiştirme hatası:",lt)}},D=a!==null&&i.has(g[a]),F=H=>{const tt=g.indexOf(H);tt>=0&&t(tt)};return le.jsxs("div",{className:"app",children:[le.jsx("h1",{style:{fontFamily:"'Great Vibes', cursive",fontSize:"3rem",color:"#d63384",textAlign:"center",marginBottom:"20px"},children:"❤️ Buse ve Efe'nin Albümü ❤️"}),le.jsxs("div",{className:"tabs",children:[le.jsxs("button",{className:`tab ${l==="all"?"active":""}`,onClick:()=>h("all"),children:["Tüm Fotoğraflar ",le.jsx("span",{className:"badge",children:g.length})]}),le.jsxs("button",{className:`tab ${l==="liked"?"active":""}`,onClick:()=>h("liked"),children:["Beğenilenler ",le.jsx("span",{className:"badge",children:i.size})]})]}),le.jsxs("div",{className:"gallery",children:[_.map(H=>le.jsxs("div",{className:"gallery-item",onClick:()=>F(H),children:[i.has(H)&&le.jsx("span",{className:"liked-icon",children:"❤️"}),le.jsx("img",{src:H,alt:"Fotoğraf",loading:"lazy"})]},H)),_.length===0&&le.jsx("div",{className:"empty",children:l==="liked"?"Henüz beğenilen fotoğraf yok.":"Gösterilecek fotoğraf bulunamadı."})]}),a!==null&&le.jsxs("div",{className:"lightbox",role:"dialog","aria-modal":"true",children:[le.jsx("button",{className:"close-btn",onClick:()=>t(null),children:"✖"}),le.jsx("button",{className:"nav-btn prev",onClick:v,"aria-label":"Önceki",children:"◀"}),le.jsxs("div",{className:"lightbox-content",children:[le.jsx("img",{src:g[a],alt:"Büyütülmüş"}),le.jsx("div",{className:"lightbox-actions",children:le.jsx("button",{className:`heart-big ${D?"liked":""}`,onClick:M,"aria-label":"Beğen",title:"Beğen",children:D?"❤️":"🤍"})})]}),le.jsx("button",{className:"nav-btn next",onClick:A,"aria-label":"Sonraki",children:"▶"})]})]})}k1.createRoot(document.getElementById("root")).render(le.jsx(Ss.StrictMode,{children:le.jsx(rO,{})}));
